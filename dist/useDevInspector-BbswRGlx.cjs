"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("vue"),vn=require("pinia");var Xe=typeof document<"u"?document.currentScript:null;function p(b){return b.replace(/\|/g,"\\|").replace(/\n/g," ")}function mt(b){const C={};for(const[k,D]of Object.entries(b)){const t=D.pagePath||"/";C[t]||(C[t]=[]),C[t].push({selector:k,config:D})}return C}function bn(b){var C,k,D,t,W,Z;return b.elementType==="chart"?"チャート":b.elementType==="form"?"入力":b.elementType==="action"?((C=b.actionInfo)==null?void 0:C.type)==="navigate"?"リンク":(((k=b.actionInfo)==null?void 0:k.type)==="modal","ボタン"):b.fieldInfo||((D=b.note)==null?void 0:D.displayType)==="db_direct"||((t=b.note)==null?void 0:t.displayType)==="db_formatted"?"表示":((W=b.note)==null?void 0:W.displayType)==="calculated"?"表示(計算)":((Z=b.note)==null?void 0:Z.displayType)==="static"?"表示(固定)":"表示"}function yn(b){var C,k,D,t;return(C=b.note)!=null&&C.text?b.note.text:(k=b.fieldInfo)!=null&&k.description?b.fieldInfo.description:b.fieldInfo?`${b.fieldInfo.table}.${b.fieldInfo.column}`:(D=b.actionInfo)!=null&&D.description?b.actionInfo.description:(t=b.formInfo)!=null&&t.description?b.formInfo.description:b.id}function $n(b){var k,D;const C=[];if(b.fieldInfo&&C.push(`DBの${b.fieldInfo.table}.${b.fieldInfo.column}を表示`),((k=b.note)==null?void 0:k.displayType)==="calculated"&&b.note.calcDescription&&C.push(b.note.calcDescription),b.actionInfo){const W={navigate:"画面遷移",api:"API呼び出し",modal:"モーダル表示",emit:"イベント発火",function:"関数実行",csv_export:"CSV出力",csv_import:"CSV取込",email:"メール送信"}[b.actionInfo.type]||b.actionInfo.type;C.push(`${W}${b.actionInfo.target?`: ${b.actionInfo.target}`:""}`)}return(D=b.formInfo)!=null&&D.description&&C.push(b.formInfo.description),C.join(" / ")}function gt(b){const C=[],k={},D={},t=[];for(const W of b)if(W.config.isConditional){const Z=W.config.modalName;Z?(D[Z]||(D[Z]=[]),D[Z].push(W)):t.push(W)}else if(W.config.tabContext){const Z=W.config.tabContext;k[Z]||(k[Z]=[]),k[Z].push(W)}else C.push(W);return{common:C,tabs:k,modals:D,unnamedModals:t}}function vt(b){var Z,w,ae;const C=[],k=new Set;for(const se of Object.values(b))if((Z=se.auth)!=null&&Z.roles)for(const P of se.auth.roles)k.add(P);const D=[...k].sort();if(D.length===0&&!Object.values(b).some(se=>se.auth))return C;C.push("## 権限マトリクス");const t=D.map(se=>` ${se} `).join("|");C.push(`| 画面 | パス | 認証 |${t?t+"|":""}`);const W=D.map(()=>"------").join("|");C.push(`|------|------|------|${W?W+"|":""}`);for(const[se,P]of Object.entries(b)){const pe=P.name||se,ne=(w=P.auth)!=null&&w.required?"必須":"不要";if((ae=P.auth)!=null&&ae.required){const Q=P.auth.roles||[],re=D.map(j=>Q.length===0||Q.includes(j)?" ○ ":" × ").join("|");C.push(`| ${p(pe)} | ${p(se)} | ${ne} |${re?re+"|":""}`)}else{const Q=D.map(()=>" - ").join("|");C.push(`| ${p(pe)} | ${p(se)} | ${ne} |${Q?Q+"|":""}`)}}return C.push(""),C}function Sn(b,C,k,D={}){var pe,ne,Q,re,j,Ce,ge,ee,_,z,he,te,ve,ce,$e,x;const t=[];t.push("# 画面仕様（SDD）"),t.push("");const W=mt(b),Z=new Set([...Object.keys(C),...Object.keys(W)]);for(const r of Z){let m=function(A,$){var q,U,le,xe,Ne,Me,Ue,Be,Fe;const h=A.filter(X=>X.config.elementType==="datasource"||!X.config.elementType&&X.config.fieldInfo),H=A.filter(X=>X.config.elementType==="action"||!X.config.elementType&&X.config.actionInfo&&!X.config.fieldInfo),J=A.filter(X=>X.config.elementType==="form"||!X.config.elementType&&X.config.formInfo&&!X.config.fieldInfo&&!X.config.actionInfo),M=A.filter(X=>!h.includes(X)&&!H.includes(X)&&!J.includes(X));if(h.length>0||M.length>0){t.push(`${$} データソース`),t.push("| セレクタ | DB | 型 | NULL時 | 表示形式 | 計算ロジック |"),t.push("|---------|-----|-----|--------|---------|------------|");for(const{selector:X,config:ie}of[...h,...M]){const V=ie.fieldInfo,Ae=V?`${V.table}.${V.column}`:"",ye=(V==null?void 0:V.type)||"",we=((q=ie.note)==null?void 0:q.nullDisplay)||"-",je=((U=ie.note)==null?void 0:U.displayFormat)||"";let Ee="";((le=ie.note)==null?void 0:le.displayType)==="calculated"&&ie.note.calcDescription&&(Ee=ie.note.calcDescription),(xe=ie.note)!=null&&xe.storedCalc&&ie.note.storedCalcLogic&&(Ee=ie.note.storedCalcLogic),t.push(`| ${p(X)} | ${p(Ae)} | ${p(ye)} | ${p(we)} | ${p(je)} | ${p(Ee)} |`)}t.push("")}if(H.length>0){t.push(`${$} アクション`),t.push("| セレクタ | タイプ | 遷移先/API | 説明 |"),t.push("|---------|--------|-----------|------|");for(const{selector:X,config:ie}of H){const V=ie.actionInfo,Ae=(V==null?void 0:V.type)||"";let ye=(V==null?void 0:V.target)||"";V!=null&&V.method&&(ye=`${V.method} ${ye}`);const we=(V==null?void 0:V.description)||((Ne=ie.note)==null?void 0:Ne.text)||"";t.push(`| ${p(X)} | ${p(Ae)} | ${p(ye)} | ${p(we)} |`)}t.push("")}if(J.length>0){t.push(`${$} フォーム`),t.push("| セレクタ | DB | 入力タイプ | 必須 | バリデーション | 初期値 |"),t.push("|---------|-----|----------|------|--------------|--------|");for(const{selector:X,config:ie}of J){const V=ie.fieldInfo,Ae=V?`${V.table}.${V.column}`:"",ye=((Me=ie.formInfo)==null?void 0:Me.inputType)||"",we=(Ue=ie.formInfo)!=null&&Ue.required?"Yes":"",je=[...((Be=ie.formInfo)==null?void 0:Be.validation)||[],...(V==null?void 0:V.validation)||[]].join(", "),Ee=((Fe=ie.formInfo)==null?void 0:Fe.defaultValue)||"";t.push(`| ${p(X)} | ${p(Ae)} | ${p(ye)} | ${we} | ${p(je)} | ${p(Ee)} |`)}t.push("")}};const S=C[r],N=W[r]||[];if(t.push(`## ${r} — ${(S==null?void 0:S.name)||r}`),t.push(""),t.push("### 画面情報"),S!=null&&S.auth){const A=(pe=S.auth.roles)!=null&&pe.length?` (${S.auth.roles.join(", ")})`:"";t.push(`- 認証: ${S.auth.required?"必須":"不要"}${A}`)}S!=null&&S.componentPath&&t.push(`- コンポーネント: ${S.componentPath}`),S!=null&&S.description&&t.push(`- 概要: ${S.description}`),t.push("");const B=(S==null?void 0:S.apis)||[];if(B.length>0){t.push("### API"),t.push("| メソッド | エンドポイント | タイミング | 説明 |"),t.push("|---------|-------------|----------|------|");for(const A of B){const $=A.loadTiming||"";t.push(`| ${A.method} | ${p(A.endpoint)} | ${$} | ${p(A.description||"")} |`)}t.push("")}const{common:K,tabs:F,modals:Y,unnamedModals:Se}=gt(N),De=Object.keys(F).length>0,Pe=Object.keys(Y).length>0||Se.length>0;if(De||Pe){K.length>0&&(t.push("### ページ共通"),t.push(""),m(K,"####"));for(const[A,$]of Object.entries(F))t.push(`### ${A}タブ`),t.push(""),m($,"####");for(const[A,$]of Object.entries(Y))t.push(`### モーダル: ${A}`),t.push(""),m($,"####");Se.length>0&&(t.push("### モーダル要素"),t.push(""),m(Se,"####"))}else m(K,"###");const ue=N.filter(A=>{var $,h;return(($=A.config.actionInfo)==null?void 0:$.type)==="csv_export"||((h=A.config.actionInfo)==null?void 0:h.type)==="csv_import"});if(ue.length>0){t.push("### CSV仕様");for(const{config:A}of ue){const $=A.actionInfo,h=$.csvSpec,H=$.type==="csv_export"?"CSV出力":"CSV取込",J=$.description||((ne=A.note)==null?void 0:ne.text)||"";if(t.push(`#### ${H}: ${J}`),t.push(""),h){const M=[];if(h.encoding&&M.push(`- エンコーディング: ${h.encoding}`),h.delimiter){const q={",":"カンマ","	":"タブ","|":"パイプ"};M.push(`- 区切り文字: ${q[h.delimiter]||h.delimiter}`)}if(h.hasHeaderRow!==void 0&&M.push(`- ヘッダー行: ${h.hasHeaderRow?"あり":"なし"}`),h.filenamePattern&&M.push(`- ファイル名: ${h.filenamePattern}`),M.length>0&&(t.push("**ファイル設定**"),t.push(...M),t.push("")),h.columns.length>0&&(h.columns.some(U=>U.processing)?(t.push("| No | 項目名 | DBマッピング | 加工ロジック | 型 | 必須 | バリデーション | フォーマット | 説明 |"),t.push("|----|--------|-------------|------------|-----|------|--------------|------------|------|"),h.columns.forEach((U,le)=>{t.push(`| ${le+1} | ${p(U.name)} | ${p(U.dbMapping||"")} | ${p(U.processing||"")} | ${p(U.type||"")} | ${U.required?"Yes":""} | ${p(U.validation||"")} | ${p(U.format||"")} | ${p(U.description||"")} |`)})):(t.push("| No | 項目名 | DBマッピング | 型 | 必須 | バリデーション | フォーマット | 説明 |"),t.push("|----|--------|-------------|-----|------|--------------|------------|------|"),h.columns.forEach((U,le)=>{t.push(`| ${le+1} | ${p(U.name)} | ${p(U.dbMapping||"")} | ${p(U.type||"")} | ${U.required?"Yes":""} | ${p(U.validation||"")} | ${p(U.format||"")} | ${p(U.description||"")} |`)})),t.push("")),$.type==="csv_export"){const q=[];h.sortOrder&&q.push(`- ソート: ${h.sortOrder}`),h.filterCondition&&q.push(`- 抽出条件: ${h.filterCondition}`),h.maxRows&&q.push(`- 最大行数: ${h.maxRows}`),q.length>0&&(t.push("**出力オプション**"),t.push(...q),t.push(""))}if($.type==="csv_import"){const q=[],U={stop_on_first:"最初のエラーで停止",skip_and_continue:"スキップして続行",collect_all:"全エラー収集"},le={skip:"スキップ",overwrite:"上書き",error:"エラー"};h.errorHandling&&q.push(`- エラー処理: ${U[h.errorHandling]||h.errorHandling}`),h.duplicateHandling&&q.push(`- 重複処理: ${le[h.duplicateHandling]||h.duplicateHandling}`),h.preValidation&&q.push(`- 事前バリデーション: ${h.preValidation}`),q.length>0&&(t.push("**取込オプション**"),t.push(...q),t.push(""))}if(h.errorDefs&&h.errorDefs.length>0){t.push("**エラー定義**"),t.push("| 対象列 | エラー条件 | エラーメッセージ | 種別 |"),t.push("|--------|----------|----------------|------|");for(const q of h.errorDefs){const U=q.severity==="warning"?"警告":"エラー";t.push(`| ${p(q.column||"（全体）")} | ${p(q.condition)} | ${p(q.message)} | ${U} |`)}t.push("")}}}}const be=N.filter(A=>{var $;return(($=A.config.actionInfo)==null?void 0:$.type)==="email"});if(be.length>0){t.push("### メール送信仕様");for(const{config:A}of be){const $=A.actionInfo,h=$.emailSpec,H=$.description||((Q=A.note)==null?void 0:Q.text)||"";t.push(`#### メール送信: ${H}`),h&&(h.trigger&&t.push(`- トリガー: ${h.trigger}`),h.to&&t.push(`- 宛先: ${h.to}`),h.cc&&t.push(`- CC: ${h.cc}`),h.bcc&&t.push(`- BCC: ${h.bcc}`),h.subject&&t.push(`- 件名: ${h.subject}`),h.bodyTemplate&&t.push(`- 本文概要: ${h.bodyTemplate}`),h.templatePath&&t.push(`- テンプレート: ${h.templatePath}`),h.variables&&h.variables.length>0&&t.push(`- 差し込み変数: ${h.variables.join(", ")}`),h.attachments&&t.push(`- 添付ファイル: ${h.attachments}`),h.conditions&&t.push(`- 送信条件: ${h.conditions}`),h.errorHandling&&t.push(`- エラー処理: ${h.errorHandling}`)),t.push("")}}const fe=N.filter(A=>{var $,h;return(($=A.config.actionInfo)==null?void 0:$.type)==="sort"&&((h=A.config.actionInfo)==null?void 0:h.sortSpec)});if(fe.length>0){t.push("### ソート定義");const A=(Ce=(j=(re=fe.find(H=>{var J,M;return(M=(J=H.config.actionInfo)==null?void 0:J.sortSpec)==null?void 0:M.unsortedOrder}))==null?void 0:re.config.actionInfo)==null?void 0:j.sortSpec)==null?void 0:Ce.unsortedOrder;A&&(t.push(`- 未ソート時の並び順: ${A}`),t.push(""));const $=fe.find(H=>{var J,M;return(M=(J=H.config.actionInfo)==null?void 0:J.sortSpec)==null?void 0:M.isDefaultSort});if($){const H=$.config.actionInfo.sortSpec,J=H.defaultDirection==="desc"?"降順":"昇順";t.push(`- デフォルトソート: ${H.sortKey||((ge=$.config.actionInfo)==null?void 0:ge.description)||$.selector} (${J})`),t.push("")}const h=fe.filter(H=>{var J,M;return(M=(J=H.config.actionInfo)==null?void 0:J.sortSpec)==null?void 0:M.sortable});if(h.length>0){t.push("| 項目 | ソートキー | データ型 | デフォルト方向 | 備考 |"),t.push("|------|----------|---------|-------------|------|");for(const{config:H}of h){const J=H.actionInfo.sortSpec,M=(ee=H.actionInfo)!=null&&ee.description||(_=H.note)!=null&&_.text||H.fieldInfo?`${(z=H.fieldInfo)==null?void 0:z.table}.${(he=H.fieldInfo)==null?void 0:he.column}`:H.id,q={string:"文字列",number:"数値",date:"日付",custom:"カスタム"},U=J.sortType?q[J.sortType]||J.sortType:"",le=J.defaultDirection==="desc"?"降順":J.defaultDirection==="asc"?"昇順":"",xe=[J.isDefaultSort?"初期ソート":"",J.description||""].filter(Boolean).join(" / ");t.push(`| ${p(M)} | ${p(J.sortKey||"")} | ${U} | ${le} | ${p(xe)} |`)}t.push("")}}const Te=N.filter(A=>A.config.elementType==="chart"&&A.config.chartSpec);if(Te.length>0){t.push("### チャート仕様");for(const{config:A}of Te){const $=A.chartSpec,H={bar:"棒グラフ",line:"折れ線グラフ",pie:"円グラフ",area:"エリアチャート",scatter:"散布図",doughnut:"ドーナツ",radar:"レーダー",other:"その他"}[$.chartType]||$.chartType,J=$.title||((te=A.note)==null?void 0:te.text)||"";t.push(`#### ${H}: ${J}`),t.push("");const M=[];if($.xAxis&&M.push(["X軸",$.xAxis]),$.yAxis&&M.push(["Y軸",$.yAxis]),$.dataSource&&M.push(["データ取得",$.dataSource]),$.aggregation&&M.push(["集計",$.aggregation]),$.filters&&M.push(["フィルタ",$.filters]),$.description&&M.push(["説明",$.description]),M.length>0){t.push("| 項目 | 内容 |"),t.push("|------|------|");for(const[q,U]of M)t.push(`| ${q} | ${p(U)} |`);t.push("")}if($.series&&$.series.length>0){t.push("| 系列名 | フィールド | 色 |"),t.push("|--------|-----------|-----|");for(const q of $.series)t.push(`| ${p(q.label)} | ${p(q.field)} | ${p(q.color||"")} |`);t.push("")}}}t.push("---"),t.push("")}const w=vt(C);w.length>0&&t.push(...w);const ae=[];for(const[r,m]of Object.entries(b))if(((ve=m.actionInfo)==null?void 0:ve.type)==="navigate"&&m.actionInfo.target){const S=m.pagePath||"/";ae.push({from:S,to:m.actionInfo.target,trigger:m.actionInfo.description||((ce=m.note)==null?void 0:ce.text)||r})}if(ae.length>0){t.push("## 画面フロー"),t.push("| 遷移元 | 遷移先 | トリガー |"),t.push("|--------|--------|---------|");for(const r of ae){const m=(($e=C[r.from])==null?void 0:$e.name)||r.from,S=((x=C[r.to])==null?void 0:x.name)||r.to;t.push(`| ${p(m)} (${p(r.from)}) | ${p(S)} (${p(r.to)}) | ${p(r.trigger)} |`)}t.push("")}const se=Object.values(k);if(se.length>0){t.push("## マスタ定義"),t.push("");for(const r of se){t.push(`### ${r.id} — ${r.name} (${r.columnType||""})`),r.description&&(t.push(r.description),t.push("")),t.push("| 値 | ラベル | 説明 |"),t.push("|----|--------|------|");for(const m of r.entries)t.push(`| ${p(m.value)} | ${p(m.label)} | ${p(m.description||"")} |`);if(t.push(""),r.transitions&&r.transitions.length>0){t.push("**状態遷移**"),t.push("| 遷移元 | 遷移先 | トリガー | 条件 |"),t.push("|--------|--------|---------|------|");for(const m of r.transitions){const S=r.entries.find(F=>F.value===m.from),N=r.entries.find(F=>F.value===m.to),B=S?`${S.label} (${m.from})`:m.from,K=N?`${N.label} (${m.to})`:m.to;t.push(`| ${p(B)} | ${p(K)} | ${p(m.trigger)} | ${p(m.condition||"")} |`)}t.push("")}}}const P=Object.values(D);if(P.length>0){t.push("## バッチ処理定義"),t.push("");for(const r of P){if(t.push(`### ${r.name}`),r.schedule&&t.push(`- スケジュール: ${r.schedule}`),r.trigger&&t.push(`- トリガー: ${r.trigger}`),r.description&&t.push(`- 概要: ${r.description}`),r.timeout&&t.push(`- タイムアウト: ${r.timeout}`),r.retryPolicy&&t.push(`- リトライ: ${r.retryPolicy}`),r.inputTables&&r.inputTables.length>0&&t.push(`- 入力: ${r.inputTables.join(", ")}`),r.outputTables&&r.outputTables.length>0&&t.push(`- 出力: ${r.outputTables.join(", ")}`),t.push(""),r.steps.length>0){t.push("**処理ステップ**"),t.push("| No | 処理内容 | 対象 | 種別 | エラー時 |"),t.push("|----|---------|------|------|---------|");for(const m of r.steps)t.push(`| ${m.order} | ${p(m.description)} | ${p(m.target||"-")} | ${p(m.type||"")} | ${p(m.errorHandling||"")} |`);t.push("")}r.notifyOnError&&t.push(`- エラー通知: ${r.notifyOnError}`),r.notifyOnComplete&&t.push(`- 完了通知: ${r.notifyOnComplete}`),(r.notifyOnError||r.notifyOnComplete)&&t.push("")}}return t.join(`
`)}function wn(b,C,k,D={}){var P,pe,ne,Q,re,j,Ce,ge;const t=[];t.push("# 画面仕様書"),t.push("");const W=mt(b),Z=new Set([...Object.keys(C),...Object.keys(W)]);for(const ee of Z){const _=C[ee],z=W[ee]||[];if(t.push(`## ${(_==null?void 0:_.name)||ee}`),t.push(`**URL:** ${ee}`),t.push(""),_!=null&&_.description&&(t.push("### 概要"),t.push(_.description),t.push("")),_!=null&&_.auth){if(t.push("### 認証"),t.push(`- ${_.auth.required?"ログイン必須":"ログイン不要"}`),(P=_.auth.roles)!=null&&P.length){const x=_.auth.roles.map(r=>({admin:"管理者",manager:"マネージャー",user:"ユーザー"})[r]||r);t.push(`- 権限: ${x.join("、")}`)}t.push("")}if(z.length>0){let x=function(K,F){t.push("| No | 項目名 | 種別 | 説明 | 必須 | 備考 |"),t.push("|----|--------|------|------|------|------|"),K.forEach(({config:Y},Se)=>{var fe,Te,A,$;const De=yn(Y),Pe=bn(Y),qe=$n(Y),ue=(fe=Y.formInfo)!=null&&fe.required?"必須":"",be=[];(Te=Y.note)!=null&&Te.condition&&be.push(Y.note.condition),(A=Y.note)!=null&&A.unit&&be.push(`単位: ${Y.note.unit}`),($=Y.note)!=null&&$.nullDisplay&&Y.note.nullDisplay!=="-"&&be.push(`空欄時: ${Y.note.nullDisplay}`),t.push(`| ${F+Se} | ${p(De)} | ${Pe} | ${p(qe)} | ${ue} | ${p(be.join(" / "))} |`)}),t.push("")};const{common:r,tabs:m,modals:S,unnamedModals:N}=gt(z);if(Object.keys(m).length>0||Object.keys(S).length>0||N.length>0){t.push("### 画面項目"),t.push("");let K=1;r.length>0&&(t.push("#### ページ共通"),x(r,K),K+=r.length);for(const[F,Y]of Object.entries(m))t.push(`#### ${F}タブ`),x(Y,K),K+=Y.length;for(const[F,Y]of Object.entries(S))t.push(`#### モーダル: ${F}`),x(Y,K),K+=Y.length;N.length>0&&(t.push("#### モーダル要素"),x(N,K))}else t.push("### 画面項目"),x(r,1)}const he=(_==null?void 0:_.apis)||[];if(he.length>0){t.push("### 使用API"),t.push("| メソッド | エンドポイント | 説明 |"),t.push("|---------|-------------|------|");for(const x of he)t.push(`| ${x.method} | ${p(x.endpoint)} | ${p(x.description||"")} |`);t.push("")}const te=z.filter(x=>{var r,m;return((r=x.config.actionInfo)==null?void 0:r.type)==="csv_export"||((m=x.config.actionInfo)==null?void 0:m.type)==="csv_import"});if(te.length>0){t.push("### CSV入出力仕様");for(const{config:x}of te){const r=x.actionInfo,m=r.csvSpec,S=r.type==="csv_export"?"CSV出力":"CSV取込",N=r.description||((pe=x.note)==null?void 0:pe.text)||"";if(t.push(`#### ${S}: ${N}`),t.push(""),m){const B=[];if(m.encoding&&B.push(`- エンコーディング: ${m.encoding}`),m.filenamePattern&&B.push(`- ファイル名: ${m.filenamePattern}`),B.length>0&&(t.push(...B),t.push("")),m.columns.length>0&&(m.columns.some(F=>F.processing)?(t.push("| No | 項目名 | 加工 | 型 | 必須 | 説明 |"),t.push("|----|--------|------|-----|------|------|"),m.columns.forEach((F,Y)=>{t.push(`| ${Y+1} | ${p(F.name)} | ${p(F.processing||"")} | ${p(F.type||"")} | ${F.required?"必須":""} | ${p(F.description||"")} |`)})):(t.push("| No | 項目名 | 型 | 必須 | 説明 |"),t.push("|----|--------|-----|------|------|"),m.columns.forEach((F,Y)=>{t.push(`| ${Y+1} | ${p(F.name)} | ${p(F.type||"")} | ${F.required?"必須":""} | ${p(F.description||"")} |`)})),t.push("")),m.errorDefs&&m.errorDefs.length>0){t.push("**エラー時の動作**"),t.push("| エラー条件 | メッセージ |"),t.push("|----------|----------|");for(const K of m.errorDefs){const F=K.column?`[${K.column}] `:"";t.push(`| ${p(F+K.condition)} | ${p(K.message)} |`)}t.push("")}}}}const ve=z.filter(x=>{var r;return((r=x.config.actionInfo)==null?void 0:r.type)==="email"});if(ve.length>0){t.push("### メール送信");for(const{config:x}of ve){const r=x.actionInfo,m=r.emailSpec,S=r.description||((ne=x.note)==null?void 0:ne.text)||"";t.push(`#### ${S}`),m&&(m.trigger&&t.push(`- タイミング: ${m.trigger}`),m.to&&t.push(`- 宛先: ${m.to}`),m.subject&&t.push(`- 件名: ${m.subject}`)),t.push("")}}const ce=z.filter(x=>{var r,m;return((r=x.config.actionInfo)==null?void 0:r.type)==="sort"&&((m=x.config.actionInfo)==null?void 0:m.sortSpec)});if(ce.length>0){t.push("### ソート");const x=(j=(re=(Q=ce.find(S=>{var N,B;return(B=(N=S.config.actionInfo)==null?void 0:N.sortSpec)==null?void 0:B.unsortedOrder}))==null?void 0:Q.config.actionInfo)==null?void 0:re.sortSpec)==null?void 0:j.unsortedOrder;x&&t.push(`- 初期並び順: ${x}`);const r=ce.filter(S=>{var N,B;return(B=(N=S.config.actionInfo)==null?void 0:N.sortSpec)==null?void 0:B.sortable});r.length>0&&t.push(`- ソート可能項目: ${r.map(S=>{var N,B;return((N=S.config.note)==null?void 0:N.text)||((B=S.config.fieldInfo)==null?void 0:B.column)||S.selector}).join("、")}`);const m=ce.find(S=>{var N,B;return(B=(N=S.config.actionInfo)==null?void 0:N.sortSpec)==null?void 0:B.isDefaultSort});if(m){const S=m.config.actionInfo.sortSpec,N=S.defaultDirection==="desc"?"降順":"昇順";t.push(`- デフォルト: ${((Ce=m.config.note)==null?void 0:Ce.text)||S.sortKey||""} ${N}`)}t.push("")}const $e=z.filter(x=>x.config.elementType==="chart"&&x.config.chartSpec);if($e.length>0){t.push("### チャート");for(const{config:x}of $e){const r=x.chartSpec,S={bar:"棒グラフ",line:"折れ線グラフ",pie:"円グラフ",area:"エリアチャート",scatter:"散布図",doughnut:"ドーナツ",radar:"レーダー",other:"その他"}[r.chartType]||r.chartType,N=r.title||((ge=x.note)==null?void 0:ge.text)||"";if(t.push(`#### ${S}: ${N}`),r.xAxis||r.yAxis){const B=[r.xAxis?`X軸: ${r.xAxis}`:"",r.yAxis?`Y軸: ${r.yAxis}`:""].filter(Boolean);t.push(`- ${B.join(" / ")}`)}r.series&&r.series.length>0&&t.push(`- 系列: ${r.series.map(B=>B.label).join("、")}`),r.description&&t.push(`- ${r.description}`),t.push("")}}_!=null&&_.notes&&(t.push("### 備考"),t.push(_.notes),t.push("")),t.push("---"),t.push("")}const w=Object.values(k).filter(ee=>ee.transitions&&ee.transitions.length>0);if(w.length>0){t.push("## 状態遷移");for(const ee of w){t.push(`### ${ee.name}`),t.push("| 遷移元 | 遷移先 | 操作 | 条件 |"),t.push("|--------|--------|------|------|");for(const _ of ee.transitions){const z=ee.entries.find(ce=>ce.value===_.from),he=ee.entries.find(ce=>ce.value===_.to),te=z?z.label:_.from,ve=he?he.label:_.to;t.push(`| ${p(te)} | ${p(ve)} | ${p(_.trigger)} | ${p(_.condition||"")} |`)}t.push("")}}const ae=Object.values(D);if(ae.length>0){t.push("## バッチ処理"),t.push("");for(const ee of ae)t.push(`### ${ee.name}`),ee.schedule&&t.push(`- 実行タイミング: ${ee.schedule}`),ee.description&&t.push(`- 概要: ${ee.description}`),t.push("")}const se=vt(C);return se.length>0&&t.push(...se),t.join(`
`)}const In={},Cn="devInspector:elementConfigs",dt="devInspector:screenConfigs",pt="devInspector:masterDefinitions",ht="devInspector:batchDefinitions",bt=vn.defineStore("devInspector",()=>{const b=g.ref({}),C=g.ref(!1),k=g.ref(!1),D=g.ref(!1),t=g.ref(!1),W=g.ref(null),Z=g.ref(!1),w=g.ref({}),ae=g.ref(null),se=g.ref(null),P=g.ref({}),pe=g.ref(!1),ne=g.ref({}),Q=g.ref({}),re=g.computed(()=>b.value.storageKey||Cn),j=g.ref(null),Ce=g.ref("all"),ge=g.ref(!0),ee=g.ref("all"),_=g.ref("all"),z=g.ref([]),he=g.ref(null),te=g.ref([]),ve=g.ref(!1),ce=g.ref(""),$e=g.ref("column"),x=g.ref(!1),r=g.ref([]),m=g.ref(null),S=g.ref(!1),N=g.ref(new Set),B="devInspector:hiddenAnalysisSelectors",K=g.computed(()=>b.value.enabledInProduction?!0:typeof{url:typeof document>"u"?require("url").pathToFileURL(__filename).href:Xe&&Xe.tagName.toUpperCase()==="SCRIPT"&&Xe.src||new URL("useDevInspector-BbswRGlx.cjs",document.baseURI).href}<"u"&&In?!1:process.env.NODE_ENV==="development"),F=g.ref(!1);function Y(e={}){b.value=e,qe(),be(),h(),xe(),_t(),un(),fn(),e.analysisData&&(j.value=e.analysisData);const n=e.analysisDataUrl??"/dev-inspector-analysis.json";e.autoLoadAnalysis!==!1&&K.value&&Se(n)}async function Se(e){var n;try{const o=await fetch(e);if(o.ok)return j.value=await o.json(),console.log("[DevInspector] Analysis data loaded:",Object.keys(((n=j.value)==null?void 0:n.components)||{}).length,"components"),!0}catch{console.debug("[DevInspector] Analysis data not found at",e)}return!1}function De(e){if(!j.value)return null;for(const n of Object.values(j.value.components)){const o=n.elements.find(s=>s.selector===e);if(o)return o}return null}function Pe(e){if(!j.value)return[];const n=[];for(const[o,s]of Object.entries(j.value.components))(!e||o.includes(e))&&n.push(...s.elements);return n}function qe(){try{const e=b.value.initialAnnotations||{};if(typeof window<"u"){const n=localStorage.getItem(re.value),o=n?JSON.parse(n):{};w.value={...e,...o}}else w.value=e}catch(e){console.error("[DevInspector] Failed to load configs:",e)}}function ue(){try{if(typeof window<"u"){const e=JSON.stringify(w.value);localStorage.setItem(re.value,e),console.log("[DevInspector] Saved configs:",Object.keys(w.value).length,"items")}}catch(e){console.error("[DevInspector] Failed to save configs:",e)}}g.watch(w,()=>{g.nextTick(()=>{ue()})},{deep:!0});function be(){try{if(typeof window<"u"){const e=localStorage.getItem(dt);e&&(P.value=JSON.parse(e))}}catch(e){console.error("[DevInspector] Failed to load screen configs:",e)}}function fe(){try{if(typeof window<"u"){const e=JSON.stringify(P.value);localStorage.setItem(dt,e)}}catch(e){console.error("[DevInspector] Failed to save screen configs:",e)}}g.watch(P,()=>{g.nextTick(()=>{fe()})},{deep:!0});function Te(e){const n=e||(typeof window<"u"?window.location.pathname:"/");return P.value[n]}function A(e){P.value={...P.value,[e.path]:e},g.nextTick(()=>fe())}function $(e){const{[e]:n,...o}=P.value;P.value=o,g.nextTick(()=>fe())}function h(){try{if(typeof window<"u"){const e=localStorage.getItem(pt);e&&(ne.value=JSON.parse(e))}}catch(e){console.error("[DevInspector] Failed to load master definitions:",e)}}function H(){try{typeof window<"u"&&localStorage.setItem(pt,JSON.stringify(ne.value))}catch(e){console.error("[DevInspector] Failed to save master definitions:",e)}}g.watch(ne,()=>{g.nextTick(()=>{H()})},{deep:!0});function J(e){return ne.value[e]}function M(e){ne.value={...ne.value,[e.id]:{...e,updatedAt:new Date().toISOString()}},g.nextTick(()=>H())}function q(e){const{[e]:n,...o}=ne.value;ne.value=o,g.nextTick(()=>H())}function U(e){return Object.values(ne.value).filter(n=>n.table===e)}function le(e){var n;return((n=ne.value[e])==null?void 0:n.entries)||[]}function xe(){try{if(typeof window<"u"){const e=localStorage.getItem(ht);e&&(Q.value=JSON.parse(e))}}catch(e){console.error("[DevInspector] Failed to load batch definitions:",e)}}function Ne(){try{typeof window<"u"&&localStorage.setItem(ht,JSON.stringify(Q.value))}catch(e){console.error("[DevInspector] Failed to save batch definitions:",e)}}g.watch(Q,()=>{g.nextTick(()=>{Ne()})},{deep:!0});function Me(e){return Q.value[e]}function Ue(e){Q.value={...Q.value,[e.id]:{...e,updatedAt:new Date().toISOString()}},g.nextTick(()=>Ne())}function Be(e){const{[e]:n,...o}=Q.value;Q.value=o,g.nextTick(()=>Ne())}function Fe(){var s,i,c,a,u;const e=[],n=new Set,o={};for(const f of Object.values(w.value)){const I=f.fieldInfoList||(f.fieldInfo?[f.fieldInfo]:[]),v=((s=f.sourceBinding)==null?void 0:s.type)==="v-model";for(const l of I)l.table&&(o[l.table]||(o[l.table]={read:!1,write:!1,isList:!1}),o[l.table].read=!0,v&&(o[l.table].write=!0));if(((i=f.note)==null?void 0:i.displayType)==="db_direct"||((c=f.note)==null?void 0:c.displayType)==="db_formatted")for(const l of I)l.table&&o[l.table]&&(f.id.includes("tbody")||f.id.includes(" tr")||f.id.includes(" td"))&&(o[l.table].isList=!0);if(((a=f.actionInfo)==null?void 0:a.type)==="api"&&f.actionInfo.target){const l=`${f.actionInfo.method||"GET"}:${f.actionInfo.target}`;n.has(l)||(n.add(l),e.push({method:f.actionInfo.method||"GET",endpoint:f.actionInfo.target,description:f.actionInfo.description||"",loadTiming:"action"}))}}for(const[f,I]of Object.entries(o)){if(I.read){const v=I.isList?`/api/${f}`:`/api/${f}/:id`,l=`GET:${v}`;n.has(l)||(n.add(l),e.push({method:"GET",endpoint:v,description:I.isList?`${f} 一覧取得`:`${f} 詳細取得`,loadTiming:"onMount"}))}if(I.write){const v=`/api/${f}/:id`,l=`PUT:${v}`;n.has(l)||(n.add(l),e.push({method:"PUT",endpoint:v,description:`${f} 更新`,loadTiming:"action"}))}}if((u=j.value)!=null&&u.components){const f=typeof window<"u"?window.location.pathname:"/";for(const[I,v]of Object.entries(j.value.components)){const l=I.replace(/^pages/,"").replace(/\.vue$/,"").replace(/\/index$/,"").replace(/\[.*?\]/g,"[^/]+");let d=!1;if(f==="/"&&I.includes("index"))d=!0;else if(I.includes("pages/"))try{d=!!f.match(new RegExp(`^${l}$`))}catch{}if(d&&v.apis)for(const y of v.apis){if(!y.endpoint)continue;const G=`${y.method}:${y.endpoint}`;n.has(G)||(n.add(G),e.push({method:y.method,endpoint:y.endpoint,description:y.variable?`→ ${y.variable}`:"",loadTiming:["onMount","useFetch","useAsyncData"].includes(y.loadTrigger)?"onMount":"action"}))}}}return e}const X=g.computed(()=>{var s,i,c,a,u,f,I,v,l,d,y,G,R,E,O;const e=ce.value.trim().toLowerCase();if(!e)return[];const n=$e.value,o=[];for(const[L,T]of Object.entries(w.value)){const oe=T.pagePath||"/",Le=P.value[oe],Ge=(Le==null?void 0:Le.name)||oe;if(n==="column"){const Ye=(s=T.fieldInfoList)!=null&&s.length?T.fieldInfoList:T.fieldInfo?[T.fieldInfo]:[];for(const de of Ye)(`${de.table}.${de.column}`.toLowerCase().includes(e)||de.table.toLowerCase().includes(e)||de.column.toLowerCase().includes(e))&&o.push({pagePath:oe,pageName:Ge,selector:L,elementType:T.elementType,matchedField:`${de.table}.${de.column}`,matchContext:`${de.type||""} ${de.description||""}`.trim()});const Je=((i=T.note)==null?void 0:i.calcSources)||[],gn=((c=T.note)==null?void 0:c.storedCalcSources)||[];for(const de of[...Je,...gn])de.toLowerCase().includes(e)&&o.push({pagePath:oe,pageName:Ge,selector:L,elementType:T.elementType,matchedField:de,matchContext:((a=T.note)==null?void 0:a.calcDescription)||((u=T.note)==null?void 0:u.storedCalcLogic)||"参照元"})}else if(n==="api")(I=(f=T.actionInfo)==null?void 0:f.target)!=null&&I.toLowerCase().includes(e)&&o.push({pagePath:oe,pageName:Ge,selector:L,elementType:T.elementType,matchedField:`${T.actionInfo.method||""} ${T.actionInfo.target}`.trim(),matchContext:T.actionInfo.description||T.actionInfo.type});else if(n==="text"){const Ye=[(v=T.note)==null?void 0:v.text,(l=T.note)==null?void 0:l.calcDescription,(d=T.note)==null?void 0:d.formatDescription,(y=T.note)==null?void 0:y.condition,(G=T.actionInfo)==null?void 0:G.description,(R=T.formInfo)==null?void 0:R.description,L].filter(Boolean);for(const Je of Ye)if(Je.toLowerCase().includes(e)){o.push({pagePath:oe,pageName:Ge,selector:L,elementType:T.elementType,matchedField:Je.substring(0,60),matchContext:((O=(E=T.note)==null?void 0:E.text)==null?void 0:O.substring(0,40))||""});break}}}if(n==="api")for(const[L,T]of Object.entries(P.value))for(const oe of T.apis||[])oe.endpoint.toLowerCase().includes(e)&&o.push({pagePath:L,pageName:T.name||L,selector:"",elementType:void 0,matchedField:`${oe.method} ${oe.endpoint}`,matchContext:oe.description||"画面API"});return o});function ie(){if(typeof document>"u")return[];const e=typeof window<"u"?window.location.pathname:"/",n=new Set;for(const[l,d]of Object.entries(w.value))(!d.pagePath||d.pagePath===e)&&n.add(l);const o=new Set;for(const l of n)try{const d=document.querySelector(l);d&&o.add(d)}catch{}const s=[],i=new Set,c=new Set,a=new Set;function u(l){if(l.closest("[data-dev-inspector]"))return!0;const d=Ie(l);if(n.has(d)||i.has(d))return!0;for(const y of o)if(y.contains(l)&&y!==l)return!0;return!1}function f(l,d,y,G){const R=Ie(l);i.add(R),a.add(l),s.push({selector:R,tagName:l.tagName.toLowerCase(),category:d,text:y.substring(0,50),suggestedType:G})}document.querySelectorAll("[data-di-binding]").forEach(l=>{var G;const d=l;if(d.closest("[data-dev-inspector]"))return;const y=d.getAttribute("data-di-binding")||"";c.has(y)||u(d)||(c.add(y),f(d,"binding",((G=d.textContent)==null?void 0:G.trim())||"","datasource"))}),document.querySelectorAll("table").forEach(l=>{if(l.closest("[data-dev-inspector]"))return;const d=window.getComputedStyle(l);if(d.display==="none"||d.visibility==="hidden")return;const y=[];if(l.querySelectorAll("thead th, thead td").forEach(E=>{var O;y.push(((O=E.textContent)==null?void 0:O.trim())||"")}),y.length===0){const E=l.querySelector("tr");E&&E.querySelectorAll("th, td").forEach(O=>{var L;y.push(((L=O.textContent)==null?void 0:L.trim())||"")})}const G=l.querySelector("tbody tr")||l.querySelectorAll("tr")[y.length>0?1:0];if(!G)return;G.querySelectorAll("td").forEach((E,O)=>{var Le;const L=E,T=((Le=L.textContent)==null?void 0:Le.trim())||"";if(!T||L.querySelector("[data-di-binding]")||u(L))return;const oe=y[O]||`列${O+1}`;f(L,"binding",`${oe}: ${T}`,"datasource")})}),document.querySelectorAll("input, select, textarea").forEach(l=>{var R,E;const d=l;if(d.closest("[data-dev-inspector]")||d.type==="hidden")return;const y=window.getComputedStyle(d);if(y.display==="none"||y.visibility==="hidden"||u(d))return;const G=((E=(R=d.closest("label"))==null?void 0:R.textContent)==null?void 0:E.trim())||d.getAttribute("aria-label")||d.placeholder||d.name||d.tagName.toLowerCase();f(d,"form",G||"","form")});const I=new Set;document.querySelectorAll("table").forEach(l=>{const d=l.querySelector("tbody tr")||l.querySelectorAll("tr")[1];d&&I.add(d)}),document.querySelectorAll('button, a[href], [role="button"]').forEach(l=>{var E;const d=l;if(d.closest("[data-dev-inspector]"))return;const y=((E=d.textContent)==null?void 0:E.trim())||"";if(!y)return;const G=window.getComputedStyle(d);if(G.display==="none"||G.visibility==="hidden")return;const R=d.closest("tr");R&&R.closest("table")&&!I.has(R)||u(d)||f(d,"action",y,"action")});const v=s.filter(l=>{try{const d=document.querySelector(l.selector);if(!d)return!0;for(const y of a)if(y!==d&&y.contains(d))return!1;return!0}catch{return!0}});return r.value=v,v}function V(e,n){const o={elementType:n,pagePath:typeof window<"u"?window.location.pathname:"/",note:{text:"",type:"todo"}};n==="action"?o.actionInfo={type:"function",description:""}:n==="form"&&(o.formInfo={inputType:"text"}),We(e,o),ae.value=e,r.value=r.value.filter(s=>s.selector!==e)}const Ae=g.computed(()=>{var a,u,f,I;const e=new Map,n=[],o=new Set;for(const[v,l]of Object.entries(P.value))e.set(v,{path:v,name:l.name||v,annotationCount:Object.values(w.value).filter(d=>d.pagePath===v).length});for(const[v,l]of Object.entries(w.value))if(((a=l.actionInfo)==null?void 0:a.type)==="navigate"&&l.actionInfo.target){const d=l.pagePath||"/",y=l.actionInfo.target,G=`${d}→${y}`;if(!e.has(d)){const R=P.value[d];e.set(d,{path:d,name:(R==null?void 0:R.name)||d,annotationCount:Object.values(w.value).filter(E=>E.pagePath===d).length})}if(!e.has(y)){const R=P.value[y];e.set(y,{path:y,name:(R==null?void 0:R.name)||y,annotationCount:Object.values(w.value).filter(E=>E.pagePath===y).length})}if(!o.has(G)){o.add(G);let R=l.actionInfo.description||((u=l.note)==null?void 0:u.text)||"";if(!R&&typeof document<"u")try{const E=document.querySelector(v);E&&(R=((I=(f=E.textContent)==null?void 0:f.trim())==null?void 0:I.substring(0,20))||"")}catch{}n.push({from:d,to:y,label:R,selector:v})}}const s=Array.from(e.values()),i=new Set;for(const v of n)i.add(v.from),i.add(v.to);const c=s.filter(v=>!i.has(v.path));return{nodes:s,edges:n,orphanPages:c}});async function ye(){K.value&&(C.value?(C.value=!1,k.value=!1,ae.value=null):await we())}async function we(){if(!K.value)return;if(j.value&&!F.value&&b.value.autoApplyAnalysis!==!1){t.value=!0,C.value=!0;try{await new Promise(n=>setTimeout(n,300)),it(),F.value=!0}finally{t.value=!1}}else C.value=!0}function je(){C.value=!1,k.value=!1,ae.value=null}function Ee(){k.value=!k.value,k.value||(ae.value=null),k.value&&(D.value=!1)}function yt(){D.value=!D.value,D.value&&(k.value=!1),se.value=null}function $t(e){se.value=e}function Ie(e){if(e.id)return`#${e.id}`;if(e.dataset.devId)return`[data-dev-id="${e.dataset.devId}"]`;const n=[];let o=e;for(;o&&o!==document.body;){let s=o.tagName.toLowerCase();if(o.id){s=`#${o.id}`,n.unshift(s);break}const i=Array.from(o.classList).filter(a=>!a.startsWith("hover:")&&!a.startsWith("focus:")&&!a.startsWith("-")&&!/[/\[\]()!@#$%^&*=+{}|\\:'"<>,?.~]/.test(a)).slice(0,2);i.length>0&&(s+="."+i.join("."));const c=o.parentElement;if(c){const a=Array.from(c.children).filter(u=>u.tagName===o.tagName);if(a.length>1){const u=a.indexOf(o)+1;s+=`:nth-of-type(${u})`}}n.unshift(s),o=o.parentElement}return n.join(" > ")}function St(){const e=typeof window<"u"?window.location.pathname:"/";return Object.keys(w.value).filter(n=>{const o=w.value[n];return o?(n.includes(">")||n.startsWith("#")||n.startsWith("[")||n.startsWith("."))&&(!o.componentPath||o.componentPath.includes(e)||e==="/"):!1})}function wt(e){W.value=e}function It(){W.value=null}function Ct(){Z.value?Ve():Qe()}function Ze(){[0,50,100,150,200,250,320].forEach(n=>setTimeout(()=>window.dispatchEvent(new Event("resize")),n))}function Qe(){Z.value=!0,typeof document<"u"&&(document.body.style.transition="margin-right 0.3s ease",document.body.style.marginRight="360px",Ze())}function Ve(){Z.value=!1,typeof document<"u"&&(document.body.style.transition="margin-right 0.3s ease",document.body.style.marginRight="",Ze())}function Tt(e){return w.value[e]}function At(e){if(typeof document>"u")return!1;try{const n=document.querySelector(e);if(!n)return!1;let o=n.parentElement;for(;o&&o!==document.body;){if(o.tagName==="DIALOG")return!0;const s=o.getAttribute("role");if(s==="dialog"||s==="alertdialog")return!0;const i=o.className||"";if(typeof i=="string"&&/\b(modal|dialog|v-dialog|el-dialog|v-overlay|drawer)\b/i.test(i)||o.id==="teleported"||o.hasAttribute("data-teleport"))return!0;if(typeof i=="string"){const c=window.getComputedStyle(o);if(c.position==="fixed"){const a=parseInt(c.zIndex,10);if(!isNaN(a)&&a>=40){const u=o.getBoundingClientRect();if(u.width>=window.innerWidth*.9&&u.height>=window.innerHeight*.9)return!0}}}o=o.parentElement}}catch{}return!1}function Et(e){if(!(typeof document>"u"))try{const n=document.querySelector(e);if(!n)return;const o=[];let s=n.parentElement;for(;s&&s!==document.body;){const i=s.getAttribute("role"),c=s.className||"";let a=s.tagName==="DIALOG"||i==="dialog"||i==="alertdialog"||typeof c=="string"&&/\b(modal|dialog|v-dialog|el-dialog|drawer)\b/i.test(c)||s.id==="teleported"||s.hasAttribute("data-teleport");if(!a&&typeof c=="string"){const u=window.getComputedStyle(s);if(u.position==="fixed"){const f=parseInt(u.zIndex,10);if(!isNaN(f)&&f>=40){const I=s.getBoundingClientRect();I.width>=window.innerWidth*.9&&I.height>=window.innerHeight*.9&&(a=!0)}}}if(a){const u=xt(s);u&&o.push(u)}s=s.parentElement}return o.length===0?void 0:(o.reverse(),o.join(" > "))}catch{}}function xt(e){var o;const n=e.querySelectorAll('h1, h2, h3, h4, [class*="title"], [class*="header"] h1, [class*="header"] h2, [class*="header"] h3, [class*="header"] span');for(const s of n){let i=s.parentElement,c=!1;for(;i&&i!==e;){const u=i.getAttribute("role"),f=i.className||"";if(i.tagName==="DIALOG"||u==="dialog"||u==="alertdialog"||typeof f=="string"&&/\b(modal|dialog|v-dialog|el-dialog|drawer)\b/i.test(f)){c=!0;break}i=i.parentElement}if(c)continue;const a=(o=s.textContent)==null?void 0:o.trim();if(a&&a.length<=30)return a}}function Nt(e,n){if(e.getAttribute("aria-selected")==="true"||e.classList.contains("active")||e.classList.contains("is-active"))return!0;const o=e.className||"";return!!(/border-[tb]-[2-9]/.test(o)||/\b(bg-blue|bg-primary|bg-indigo)\b/.test(o)||/\btext-white\b/.test(o)&&n.some(s=>s!==e&&!/\btext-white\b/.test(s.className||""))||/\b(bg-white|bg-surface)\b/.test(o)&&!/shadow-inset|shadow-\[inset/.test(o)&&n.some(s=>s!==e&&!/\b(bg-white|bg-surface)\b/.test(s.className||"")))}function et(e){var o;const n=[...e.querySelectorAll(':scope > button, :scope > a, :scope > [role="tab"]')];if(!(n.length<2||n.length>12)){for(const s of n)if(Nt(s,n)){const i=(o=s.textContent)==null?void 0:o.trim();if(i&&i.length<=30)return i}}}function Ot(e){let n=et(e);if(n)return n;for(const o of e.children)if(n=et(o),n)return n}function Lt(e){if(!(typeof document>"u"))try{const n=document.querySelector(e);if(!n)return;const o=[],s=new Set;let i=n.parentElement;for(;i&&i!==document.body;){let c=i.previousElementSibling;for(;c;){if(!s.has(c)){s.add(c);const a=Ot(c);if(a){o.push(a);break}}c=c.previousElementSibling}i=i.parentElement}return o.length===0?void 0:(o.reverse(),o.join(" > "))}catch{}}function We(e,n){var v;const o=new Date().toISOString(),s=w.value[e],i=typeof window<"u"?window.location.pathname:"/",c=n.isConditional??(s==null?void 0:s.isConditional)??At(e),a="modalName"in n?n.modalName:s==null?void 0:s.modalName,u="tabContext"in n?n.tabContext:s==null?void 0:s.tabContext,f="chartSpec"in n?n.chartSpec:s==null?void 0:s.chartSpec,I={...s,...n,id:e,isConditional:c,modalName:a,tabContext:u,chartSpec:f,pagePath:n.pagePath||(s==null?void 0:s.pagePath)||i,componentPath:n.componentPath||((v=W.value)==null?void 0:v.componentPath)||"",createdAt:(s==null?void 0:s.createdAt)||o,updatedAt:o};w.value={...w.value,[e]:I},g.nextTick(()=>ue())}function Dt(e){const{[e]:n,...o}=w.value;w.value=o,g.nextTick(()=>ue())}function tt(e){var R;const n=((R=e.textContent)==null?void 0:R.trim())||"",o=e.tagName.toUpperCase();if(!n&&o!=="INPUT"&&o!=="SELECT"&&o!=="TEXTAREA")return null;const s=e.__vueParentComponent;if(s){const E=s.props||{},O=s.attrs||{};if("modelValue"in E||"model-value"in O)return{type:"v-model",source:"form binding detected",isStatic:!1}}if(o==="INPUT"||o==="SELECT"||o==="TEXTAREA"){const E=e.type||"text",O=e.placeholder||"";return{type:"v-model",source:`${o.toLowerCase()}[type=${E}]${O?` placeholder="${O}"`:""}`,isStatic:!1}}const i=e.dataset.source||e.dataset.field||e.dataset.bind;if(i)return{type:"prop",source:i,isStatic:!1};if(e.closest("tbody")||e.closest('[role="rowgroup"]'))return{type:"data",source:"table data",isStatic:!1};const c=e.closest('ul, ol, [role="list"]');if(c&&c.children.length>1)return{type:"data",source:"list item",isStatic:!1};const a=['[class*="card"]','[class*="Card"]','[class*="item"]','[class*="Item"]','[class*="row"]','[class*="Row"]','[class*="list"]','[class*="List"]','[class*="grid"]','[class*="Grid"]','[role="listitem"]','[role="row"]','[role="gridcell"]'];for(const E of a){const O=e.closest(E);if(O){const L=O.parentElement;if(L&&Array.from(L.children).filter(oe=>oe!==O&&oe.className===O.className).length>0)return{type:"data",source:"repeated container",isStatic:!1}}}if(e.closest("[v-for]")!==null||e.closest("[data-v-for]")!==null)return{type:"data",source:"loop item",isStatic:!1};if(e.parentElement){const E=e.parentElement,L=Array.from(E.children).filter(T=>T.tagName===e.tagName);if(L.length>=2&&L.filter(oe=>oe.children.length===e.children.length).length>=2)return{type:"data",source:"repeated element",isStatic:!1}}const f=[/^\d+$/,/^\d{4}[-/]\d{1,2}[-/]\d{1,2}/,/^\d{1,2}:\d{2}/,/^¥[\d,]+/,/^\$[\d,]+/,/^[\d,]+円$/,/^[a-f0-9]{8}-[a-f0-9]{4}/,/^[A-Z0-9]{6,}$/,/^\d+\.\d+$/,/^https?:\/\//,/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,/^\d+件$/,/^\d+個$/,/^第?\d+/];for(const E of f)if(E.test(n))return{type:"data",source:"dynamic data pattern",isStatic:!1};const I=[/^[\u4e00-\u9faf]{2,4}$/,/^[\u3040-\u309f\u30a0-\u30ff]{2,6}$/,/^[A-Z][a-z]+ [A-Z][a-z]+$/];for(const E of I)if(E.test(n))return{type:"data",source:"name pattern",isStatic:!1};const l=["LABEL","TH","LEGEND","FIGCAPTION"].includes(o),y=[/^(保存|キャンセル|閉じる|開く|編集|削除|追加|検索|送信|確認|戻る|次へ|完了|OK|Yes|No|Cancel|Save|Submit|Close|Open|Edit|Delete|Add|Search|Back|Next|Done)$/,/^[\u30a0-\u30ff]+$/,/項目$/,/一覧$/,/設定$/,/情報$/].some(E=>E.test(n)),G=o==="BUTTON"||e.closest("button")!==null||e.getAttribute("role")==="button";return l||y||G&&n.length<20?{type:"static",source:n.substring(0,50)+(n.length>50?"...":""),isStatic:!0}:n.length<=10&&/^[\u3040-\u30ff\u4e00-\u9faf]+$/.test(n)?{type:"prop",source:"short text (verify manually)",isStatic:!1}:n.length>0&&n.length<200?{type:"data",source:"content (assumed dynamic)",isStatic:!1}:null}function nt(e,n){var d,y,G,R,E;const o={},s=((d=e.textContent)==null?void 0:d.trim())||"",i=e.getAttribute("data-di-binding");e.getAttribute("data-di-db"),e.getAttribute("data-di-component"),e.getAttribute("data-di-db-comment");let c=e;if(!i){const O=e.closest("[data-di-binding]");O&&(c=O)}const a=c.getAttribute("data-di-binding"),u=c.getAttribute("data-di-db"),f=c.getAttribute("data-di-component"),I=c.getAttribute("data-di-db-type"),v=c.getAttribute("data-di-db-comment");if(a||u){if(o.sourceBinding={type:"api",source:a||void 0,isStatic:!1},u){const[O,L]=u.split(".");O&&L&&(o.fieldInfo={table:O,column:L,type:I||void 0,description:v||void 0})}return f&&(o.devMeta={usedComponents:[f]}),o.note={type:"info",text:`【データバインディング】${a}${u?` → ${u}`:""}`},o}const l=tt(e);if(l)if(o.sourceBinding=l,l.isStatic)o.note={type:"info",text:`【固定文言】${s}`};else if(l.type==="v-model"){const O=e.tagName.toUpperCase();if(O==="INPUT"||O==="SELECT"||O==="TEXTAREA"){const L=e.placeholder||"",T=((G=(y=e.closest("label"))==null?void 0:y.textContent)==null?void 0:G.trim())||e.getAttribute("aria-label")||((E=(R=document.querySelector(`label[for="${e.id}"]`))==null?void 0:R.textContent)==null?void 0:E.trim())||"";o.note={type:"todo",text:`【フォーム要素】${T||L||O.toLowerCase()}`}}}else l.type==="api"&&(o.note={type:"question",text:`【動的データ】${s.substring(0,100)}${s.length>100?"...":""}`});return o}const Re=g.ref(!1),ke=g.ref(0),He=g.ref([]);async function ot(e={}){Re.value=!0,ke.value=0,He.value=[];const{rescan:n=!1}=e;if(n){const o=typeof window<"u"?window.location.pathname:"/",s=Object.keys(w.value).filter(i=>{const c=w.value[i];return!c.componentPath||c.componentPath.includes(o)});for(const i of s)delete w.value[i];g.nextTick(()=>ue())}try{const o=["h1","h2","h3","h4","h5","h6","p","span","label","a","th","td","li","button","div","input","select","textarea",'[role="button"]','[role="link"]','[role="menuitem"]'].join(","),s=document.querySelectorAll(o),i=[];s.forEach(I=>{var O;const v=I;if(v.closest("[data-dev-inspector]"))return;const l=window.getComputedStyle(v);if(l.display==="none"||l.visibility==="hidden"||l.opacity==="0")return;const d=Ie(v);if(w.value[d])return;const y=v.tagName.toUpperCase(),G=((O=v.textContent)==null?void 0:O.trim())||"";if(y==="INPUT"||y==="SELECT"||y==="TEXTAREA"){i.push(v);return}if(G.length>300||G.length===0||y==="DIV"&&(Array.from(v.childNodes).filter(T=>T.nodeType===Node.TEXT_NODE).map(T=>{var oe;return((oe=T.textContent)==null?void 0:oe.trim())||""}).join("").trim().length===0||v.children.length>3))return;const R=Array.from(v.childNodes).some(L=>{var T;return L.nodeType===Node.TEXT_NODE&&(((T=L.textContent)==null?void 0:T.trim())||"").length>0}),E=!Array.from(v.children).some(L=>["DIV","P","UL","OL","TABLE","SECTION","ARTICLE"].includes(L.tagName));(R||v.children.length===0&&G.length>0||E)&&i.push(v)});const c=i.length;let a=0,u=0;const f=20;for(let I=0;I<i.length;I+=f){const v=i.slice(I,I+f);for(const l of v){const d=Ie(l),y=nt(l,d);y.sourceBinding&&(He.value.push({selector:d,element:l,detected:y}),We(d,y),u++),a++,ke.value=Math.round(a/c*100)}await new Promise(l=>setTimeout(l,10))}return u}finally{Re.value=!1,ke.value=100}}const st=g.ref([]),ze=g.ref("");async function Pt(e){var o;if(!e)return console.warn("[DevInspector] Router not provided for all pages scan"),[];Re.value=!0;const n=[];try{const s=e.getRoutes(),i=[];for(const c of s)c.path.includes(":")&&!c.path.includes("?")||c.redirect||c.path!=="/:pathMatch(.*)*"&&((o=c.meta)!=null&&o.devInspectorSkip||i.push(c.path));st.value=i;for(const c of i){ze.value=c;try{await e.push(c),await new Promise(u=>setTimeout(u,500));const a=await ot();n.push({page:c,count:a})}catch(a){console.warn(`[DevInspector] Failed to scan page ${c}:`,a),n.push({page:c,count:0})}}return n}finally{Re.value=!1,ze.value=""}}function jt(){He.value=[],ke.value=0}const me=g.ref([]);async function it(){var c;if(!j.value)return console.warn("[DevInspector] No analysis data loaded. Call loadAnalysisData first."),0;me.value=[];const e=typeof window<"u"?window.location.pathname:"/",n=a=>{if(!j.value)return null;for(const[u,f]of Object.entries(j.value.components))if(f.componentName===a||f.componentName.toLowerCase()===a.toLowerCase()||u.toLowerCase().includes(`/${a.toLowerCase()}.vue`))return f;return null},o=(a,u=new Set)=>{const f=[];if(u.has(a.componentName))return f;if(u.add(a.componentName),f.push(...a.elements),a.usedComponents)for(const I of a.usedComponents){const v=n(I);v&&f.push(...o(v,u))}return f},s=[],i=new Set;for(const[a,u]of Object.entries(j.value.components)){const f=a.replace(/^pages/,"").replace(/\.vue$/,"").replace(/\/index$/,"").replace(/\[.*?\]/g,"[^/]+");let I=!1;if((e==="/"&&a.includes("index")||a.includes("pages/")&&e.match(new RegExp(`^${f}$`)))&&(I=!0),I){const v=o(u);s.push(...v),i.add(u.componentName),u.usedComponents&&u.usedComponents.forEach(l=>i.add(l))}}for(const[a,u]of Object.entries(j.value.components))a.includes("components/")&&!i.has(u.componentName)&&s.push(...u.elements);for(const a of s){if(N.value.has(a.selector))continue;let u=!1,f=a.selector;try{document.querySelector(a.selector)&&(u=!0)}catch{}if(!u&&a.text&&!a.binding){const I=a.text.replace(/\[コメント\]\s*/,""),v=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,null);for(;v.nextNode();){const l=v.currentNode;if((c=l.textContent)!=null&&c.includes(I)){const d=l.parentElement;if(d){u=!0,f=Ie(d);break}}}}if(!u&&a.selector.includes(".")){const I=a.selector.match(/^(\w+)\.(.+)$/);if(I){const[,v,l]=I;try{const d=document.querySelector(a.selector);d&&(u=!0,f=Ie(d))}catch{}}}if(!u&&a.binding){const I=`[data-bind="${a.binding}"]`;try{const v=document.querySelector(I);v&&(u=!0,f=Ie(v))}catch{}}me.value.push({selector:f,element:a,matched:u})}return console.log(`[DevInspector] Applied analysis: ${me.value.filter(a=>a.matched).length}/${me.value.length} elements matched`),me.value.filter(a=>a.matched).length}function Rt(){me.value=[]}function kt(e){me.value=me.value.filter(n=>n.selector!==e),N.value.add(e),qt()}function _t(){try{const e=localStorage.getItem(B);e&&(N.value=new Set(JSON.parse(e)))}catch{}}function qt(){try{localStorage.setItem(B,JSON.stringify([...N.value]))}catch{}}function Mt(){N.value.clear(),localStorage.removeItem(B)}function at(){const e={removed:[...N.value],exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}function Ut(e="dev-inspector-changes.json"){const n=at(),o=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(o),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}function rt(){if(!j.value)return[];const e=[],n=new Set;for(const o of Object.values(j.value.components))for(const s of o.elements)s.binding&&!n.has(s.binding)&&(n.add(s.binding),e.push({binding:s.binding,db:s.db,api:s.api,component:o.componentName}));return e.sort((o,s)=>o.db&&!s.db?-1:!o.db&&s.db?1:o.binding.localeCompare(s.binding))}function Bt(e){const n=rt();if(!e)return n;const o=e.toLowerCase();return n.filter(s=>{var i,c;return s.binding.toLowerCase().includes(o)||((i=s.db)==null?void 0:i.table.toLowerCase().includes(o))||((c=s.db)==null?void 0:c.column.toLowerCase().includes(o))||s.component.toLowerCase().includes(o)})}function ct(){var n,o;if(!((o=(n=j.value)==null?void 0:n.dbSchema)!=null&&o.tables))return[];const e=[];for(const[s,i]of Object.entries(j.value.dbSchema.tables))for(const[c,a]of Object.entries(i.columns))e.push({table:s,column:c,type:a.type,comment:a.comment,fullName:`${s}.${c}`});return e.sort((s,i)=>s.table!==i.table?s.table.localeCompare(i.table):s.column.localeCompare(i.column))}function Ft(e){const n=ct();if(!e)return n;const o=e.toLowerCase();return n.filter(s=>{var i;return s.table.toLowerCase().includes(o)||s.column.toLowerCase().includes(o)||s.fullName.toLowerCase().includes(o)||((i=s.comment)==null?void 0:i.toLowerCase().includes(o))})}function Ht(){var o,s;const e=[],n=[];if(!((o=j.value)!=null&&o.components))return{pageLoad:e,action:n};for(const i of me.value){if(!i.matched)continue;const c=i.element.component;if(c&&((s=j.value.components[c])!=null&&s.apis))for(const a of j.value.components[c].apis)["onMount","useFetch","useAsyncData"].includes(a.loadTrigger)?e.some(u=>u.endpoint===a.endpoint&&u.method===a.method)||e.push(a):a.loadTrigger==="action"&&(n.some(u=>u.endpoint===a.endpoint&&u.method===a.method)||n.push(a))}return{pageLoad:e,action:n}}function Gt(e){var n;if(!((n=j.value)!=null&&n.components))return null;for(const o of Object.values(j.value.components))if(o.apis){for(const s of o.apis)if(s.variable&&e.startsWith(s.variable))return s}return null}function Jt(e){const n=e.tagName.toUpperCase();return n==="INPUT"||n==="SELECT"||n==="TEXTAREA"?"form":n==="BUTTON"||n==="A"&&e.hasAttribute("href")||e.getAttribute("role")==="button"||e.closest("button")||e.closest("a[href]")?"action":"datasource"}const Oe=g.ref([]),lt=g.ref(null);function Vt(){if(typeof document>"u")return[];const e=typeof window<"u"?window.location.pathname:"/",n=[];for(const[o,s]of Object.entries(w.value))if(!(s.componentPath&&!s.componentPath.includes(e)&&e!=="/")&&!s.isConditional&&!s.tabContext)try{document.querySelector(o)||n.push(o)}catch{n.push(o)}return Oe.value=n,n}function Wt(e,n){const o=w.value[e];if(!o)return;const{[e]:s,...i}=w.value;w.value={...i,[n]:{...o,id:n,updatedAt:new Date().toISOString()}},Oe.value=Oe.value.filter(c=>c!==e),g.nextTick(()=>ue())}function zt(e){lt.value=e,D.value=!0,k.value=!1,Ve()}function Kt(){const e=Oe.value;if(e.length===0)return;const n={...w.value};for(const o of e)delete n[o];w.value=n,Oe.value=[],g.nextTick(()=>ue())}function Yt(){ge.value=!ge.value}function Xt(e){ae.value=e}function Zt(){ae.value=null}function Qt(){return JSON.stringify({elementConfigs:w.value,screenConfigs:P.value,manualTables:te.value,tableRelations:z.value},null,2)}function ut(){const e={_meta:{version:"1.0.0",description:"Dev Inspector annotations",lastUpdated:new Date().toISOString()},annotations:w.value,screenConfigs:P.value,manualTables:te.value,tableRelations:z.value};return JSON.stringify(e,null,2)}function en(e="dev-annotations.json"){const n=ut(),o=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(o),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}function tn(e){var n,o;try{const s=JSON.parse(e),i=s.annotations||s.elementConfigs||s;if(w.value={...w.value,...i},s.screenConfigs&&(P.value={...P.value,...s.screenConfigs}),(n=s.manualTables)!=null&&n.length){for(const c of s.manualTables)te.value.some(a=>a.name===c.name)||te.value.push(c);_e()}if((o=s.tableRelations)!=null&&o.length){for(const c of s.tableRelations)z.value.some(a=>a.id===c.id)||z.value.push(c);Ke()}}catch(s){throw console.error("[DevInspector] Failed to import configs:",s),new Error("Invalid JSON format")}}function nn(){w.value={}}function on(e="screen-spec-sdd.md"){const n=Sn(w.value,P.value,ne.value,Q.value),o=new Blob([n],{type:"text/markdown;charset=utf-8"}),s=URL.createObjectURL(o),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}function sn(e="screen-spec-client.md"){const n=wn(w.value,P.value,ne.value,Q.value),o=new Blob([n],{type:"text/markdown;charset=utf-8"}),s=URL.createObjectURL(o),i=document.createElement("a");i.href=s,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s)}const ft=g.computed(()=>{var n;const e=new Set;for(const o of Object.values(w.value)){if((n=o.fieldInfo)!=null&&n.table){const s=o.fieldInfo.table.split(".");s.forEach((i,c)=>e.add(s.slice(0,c+1).join(".")))}if(o.fieldInfoList){for(const s of o.fieldInfoList)if(s.table){const i=s.table.split(".");i.forEach((c,a)=>e.add(i.slice(0,a+1).join(".")))}}}for(const o of te.value)e.add(o.name);return[...e].sort()}),an=g.computed(()=>{var s;const e=[],n=new Set,o=ft.value;for(const i of o){const c=i.split(".");if(c.length>=2){const a=c.slice(0,-1).join("."),u=i,f=`${a}->${u}`;n.has(f)||(n.add(f),e.push({id:f,fromTable:a,toTable:u,type:"has_many",inferred:!0}))}}for(const i of Object.values(w.value)){const c=i.fieldInfoList||(i.fieldInfo?[i.fieldInfo]:[]);for(const a of c)if((s=a.column)!=null&&s.endsWith("_id")&&a.table){const u=a.column.slice(0,-3)+"s";if(o.includes(u)||o.some(f=>f.endsWith("."+u))){const f=`${a.table}->${u}`;n.has(f)||(n.add(f),e.push({id:f,fromTable:a.table,toTable:u,type:"belongs_to",foreignKey:a.column,inferred:!0}))}}}for(const i of z.value)n.has(i.id)||(n.add(i.id),e.push(i));return e}),rn=g.computed(()=>{const e={};for(const n of Object.values(w.value)){const o=n.fieldInfoList||(n.fieldInfo?[n.fieldInfo]:[]);for(const s of o)s.table&&(e[s.table]||(e[s.table]=[]),e[s.table].some(i=>i.column===s.column)||e[s.table].push({column:s.column,type:s.type}))}for(const n of te.value){e[n.name]||(e[n.name]=[]);for(const o of n.columns)e[n.name].some(s=>s.column===o.column)||e[n.name].push({column:o.column,type:o.type})}return e});function cn(e){const n=`${e.fromTable}->${e.toTable}`,o=z.value.findIndex(i=>i.id===n),s={...e,id:n,inferred:!1};o>=0?z.value[o]=s:z.value.push(s),Ke()}function ln(e){z.value=z.value.filter(n=>n.id!==e),Ke()}function Ke(){try{typeof window<"u"&&localStorage.setItem(`${re.value}:tableRelations`,JSON.stringify(z.value))}catch(e){console.error("[DevInspector] Failed to save table relations:",e)}}function un(){try{if(typeof window<"u"){const e=localStorage.getItem(`${re.value}:tableRelations`);e&&(z.value=JSON.parse(e))}}catch(e){console.error("[DevInspector] Failed to load table relations:",e)}}function _e(){try{typeof window<"u"&&localStorage.setItem(`${re.value}:manualTables`,JSON.stringify(te.value))}catch(e){console.error("[DevInspector] Failed to save manual tables:",e)}}function fn(){try{if(typeof window<"u"){const e=localStorage.getItem(`${re.value}:manualTables`);e&&(te.value=JSON.parse(e))}}catch(e){console.error("[DevInspector] Failed to load manual tables:",e)}}function dn(e){!e||te.value.some(n=>n.name===e)||(te.value.push({name:e,columns:[]}),_e())}function pn(e){te.value=te.value.filter(n=>n.name!==e),_e()}function hn(e,n,o){const s=te.value.find(i=>i.name===e);!s||s.columns.some(i=>i.column===n)||(s.columns.push({column:n,type:o}),_e())}function mn(e,n){const o=te.value.find(s=>s.name===e);o&&(o.columns=o.columns.filter(s=>s.column!==n),_e())}return{isEnabled:C,isAvailable:K,isEditMode:k,isPickMode:D,isInitializing:t,hoveredSelector:se,currentScreenSpec:W,isPanelOpen:Z,elementConfigs:w,editingElementId:ae,screenConfigs:P,editingScreen:pe,getScreenConfig:Te,setScreenConfig:A,deleteScreenConfig:$,suggestScreenApis:Fe,init:Y,toggle:ye,enable:we,disable:je,toggleEditMode:Ee,togglePickMode:yt,setHoveredSelector:$t,generateSelector:Ie,getConfiguredSelectors:St,setScreenSpec:wt,clearScreenSpec:It,togglePanel:Ct,openPanel:Qe,closePanel:Ve,getElementConfig:Tt,setElementConfig:We,deleteElementConfig:Dt,startEditing:Xt,stopEditing:Zt,exportConfigs:Qt,exportAsFile:ut,downloadAnnotations:en,downloadSddSpec:on,downloadClientSpec:sn,importConfigs:tn,clearAllConfigs:nn,detectSourceBinding:tt,autoDetectElementInfo:nt,isScanning:Re,scanProgress:ke,scanResults:He,scanCurrentPage:ot,scanAllPages:Pt,allPagesRoutes:st,currentScanPage:ze,clearScanResults:jt,analysisData:j,loadAnalysisData:Se,getAnalyzedElement:De,getAnalyzedElementsForPage:Pe,analysisResults:me,applyAnalysisToPage:it,clearAnalysisResults:Rt,removeAnalysisResult:kt,clearHiddenSelectors:Mt,hiddenAnalysisSelectors:N,analysisFilter:Ce,exportChangesForCli:at,downloadChanges:Ut,getAvailableBindings:rt,searchBindings:Bt,getSchemaColumns:ct,searchSchemaColumns:Ft,getCurrentPageApis:Ht,getApiSourceForBinding:Gt,showNoteHighlights:ge,toggleNoteHighlights:Yt,noteHighlightFilter:ee,noteTableFilter:_,detectElementType:Jt,masterDefinitions:ne,getMasterDefinition:J,setMasterDefinition:M,deleteMasterDefinition:q,getMastersForTable:U,getMasterEntries:le,batchDefinitions:Q,getBatchDefinition:Me,setBatchDefinition:Ue,deleteBatchDefinition:Be,brokenAnnotations:Oe,remapTargetId:lt,detectBrokenAnnotations:Vt,detectModalName:Et,detectTabContext:Lt,remapAnnotation:Wt,startRemap:zt,deleteBrokenAnnotations:Kt,showCrossSearch:ve,crossSearchQuery:ce,crossSearchMode:$e,crossSearchResults:X,showUnannotatedDetection:x,unannotatedElements:r,hoveredUnannotatedSelector:m,detectUnannotatedElements:ie,quickAnnotate:V,showScreenFlow:S,screenFlowData:Ae,erTables:ft,erRelations:an,erTableColumns:rn,erFocusTable:he,tableRelations:z,addTableRelation:cn,removeTableRelation:ln,manualTables:te,addManualTable:dn,removeManualTable:pn,addManualColumn:hn,removeManualColumn:mn}});function Tn(){return bt()}exports.useDevInspector=Tn;exports.useDevInspectorStore=bt;
