"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),E=require("./useDevInspector-ez7iSOpX.cjs"),y={key:0,class:"di-panel"},C={class:"di-panel-header"},D={class:"di-tabs"},x={class:"di-panel-content"},B={key:0,class:"di-tab-content"},w={class:"di-section"},I={class:"di-button-group"},T={class:"di-section"},P={class:"di-stats"},M={class:"di-stat"},$={class:"di-stat-value"},h={key:1,class:"di-tab-content"},S={key:0,class:"di-empty"},_={key:1,class:"di-element-list"},U=["onClick"],A={class:"di-element-id"},O={class:"di-element-meta"},L={key:0,class:"di-tag"},z={key:1,class:"di-tag"},F={key:2,class:"di-tag"},H={key:3,class:"di-tag"},R={key:2,class:"di-tab-content"},K=e.defineComponent({__name:"DevPanel",setup(m){const o=E.useDevInspectorStore(),l=e.ref("overview"),d=e.computed(()=>Object.keys(o.elementConfigs).length),r=()=>{o.downloadAnnotations()},c=()=>{const v=document.createElement("input");v.type="file",v.accept=".json",v.onchange=async i=>{var t;const a=(t=i.target.files)==null?void 0:t[0];if(!a)return;const s=await a.text();try{o.importConfigs(s)}catch{alert("Invalid JSON file")}},v.click()},u=()=>{confirm("Are you sure you want to clear all annotations?")&&o.clearAllConfigs()},p=async()=>{await navigator.clipboard.writeText(o.exportConfigs()),alert("Copied to clipboard!")};return(v,i)=>(e.openBlock(),e.createBlock(e.Transition,{"enter-active-class":"di-transition-enter","leave-active-class":"di-transition-leave"},{default:e.withCtx(()=>[e.unref(o).isPanelOpen?(e.openBlock(),e.createElementBlock("div",y,[e.createElementVNode("div",C,[i[6]||(i[6]=e.createElementVNode("div",{class:"di-panel-title"},[e.createElementVNode("span",{class:"di-icon"},"ðŸ”§"),e.createTextVNode(" Dev Inspector ")],-1)),e.createElementVNode("button",{onClick:i[0]||(i[0]=(...a)=>e.unref(o).closePanel&&e.unref(o).closePanel(...a)),class:"di-close-btn"},"âœ•")]),e.createElementVNode("div",D,[e.createElementVNode("button",{class:e.normalizeClass(["di-tab",{active:l.value==="overview"}]),onClick:i[1]||(i[1]=a=>l.value="overview")},"Overview",2),e.createElementVNode("button",{class:e.normalizeClass(["di-tab",{active:l.value==="elements"}]),onClick:i[2]||(i[2]=a=>l.value="elements")},"Elements ("+e.toDisplayString(d.value)+")",3),e.createElementVNode("button",{class:e.normalizeClass(["di-tab",{active:l.value==="export"}]),onClick:i[3]||(i[3]=a=>l.value="export")},"Export",2)]),e.createElementVNode("div",x,[l.value==="overview"?(e.openBlock(),e.createElementBlock("div",B,[e.createElementVNode("div",w,[i[7]||(i[7]=e.createElementVNode("h3",null,"Mode",-1)),e.createElementVNode("div",I,[e.createElementVNode("button",{class:e.normalizeClass(["di-btn",{active:e.unref(o).isPickMode}]),onClick:i[4]||(i[4]=(...a)=>e.unref(o).togglePickMode&&e.unref(o).togglePickMode(...a))},e.toDisplayString(e.unref(o).isPickMode?"ðŸŽ¯ Picking...":"ðŸŽ¯ Pick Element"),3),e.createElementVNode("button",{class:e.normalizeClass(["di-btn",{active:e.unref(o).isEditMode}]),onClick:i[5]||(i[5]=(...a)=>e.unref(o).toggleEditMode&&e.unref(o).toggleEditMode(...a))},e.toDisplayString(e.unref(o).isEditMode?"âœï¸ Editing...":"âœï¸ Edit Mode"),3)])]),e.createElementVNode("div",T,[i[9]||(i[9]=e.createElementVNode("h3",null,"Stats",-1)),e.createElementVNode("div",P,[e.createElementVNode("div",M,[e.createElementVNode("span",$,e.toDisplayString(d.value),1),i[8]||(i[8]=e.createElementVNode("span",{class:"di-stat-label"},"Annotated Elements",-1))])])]),i[10]||(i[10]=e.createElementVNode("div",{class:"di-section"},[e.createElementVNode("h3",null,"Keyboard Shortcuts"),e.createElementVNode("div",{class:"di-shortcuts"},[e.createElementVNode("div",{class:"di-shortcut"},[e.createElementVNode("kbd",null,"Ctrl"),e.createTextVNode("+"),e.createElementVNode("kbd",null,"Shift"),e.createTextVNode("+"),e.createElementVNode("kbd",null,"D"),e.createElementVNode("span",null,"Toggle Panel")]),e.createElementVNode("div",{class:"di-shortcut"},[e.createElementVNode("kbd",null,"Esc"),e.createElementVNode("span",null,"Close Panel")])])],-1))])):e.createCommentVNode("",!0),l.value==="elements"?(e.openBlock(),e.createElementBlock("div",h,[d.value===0?(e.openBlock(),e.createElementBlock("div",S,[...i[11]||(i[11]=[e.createTextVNode(" No elements annotated yet.",-1),e.createElementVNode("br",null,null,-1),e.createTextVNode(" Use Pick Element to start. ",-1)])])):(e.openBlock(),e.createElementBlock("div",_,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).elementConfigs,(a,s)=>{var t;return e.openBlock(),e.createElementBlock("div",{key:s,class:"di-element-item",onClick:n=>e.unref(o).startEditing(s)},[e.createElementVNode("div",A,e.toDisplayString(s),1),e.createElementVNode("div",O,[a.fieldInfo?(e.openBlock(),e.createElementBlock("span",L,"DB")):e.createCommentVNode("",!0),a.actionInfo?(e.openBlock(),e.createElementBlock("span",z,"Action")):e.createCommentVNode("",!0),(t=a.links)!=null&&t.figmaUrl?(e.openBlock(),e.createElementBlock("span",F,"Figma")):e.createCommentVNode("",!0),a.note?(e.openBlock(),e.createElementBlock("span",H,"Note")):e.createCommentVNode("",!0)])],8,U)}),128))]))])):e.createCommentVNode("",!0),l.value==="export"?(e.openBlock(),e.createElementBlock("div",R,[e.createElementVNode("div",{class:"di-section"},[i[12]||(i[12]=e.createElementVNode("h3",null,"Export / Import",-1)),e.createElementVNode("div",{class:"di-button-group vertical"},[e.createElementVNode("button",{class:"di-btn",onClick:r}," ðŸ“¥ Download JSON "),e.createElementVNode("button",{class:"di-btn",onClick:p}," ðŸ“‹ Copy to Clipboard "),e.createElementVNode("button",{class:"di-btn",onClick:c}," ðŸ“¤ Import JSON "),e.createElementVNode("button",{class:"di-btn danger",onClick:u}," ðŸ—‘ï¸ Clear All ")])])])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)]),_:1}))}}),V=(m,o)=>{const l=m.__vccOpts||m;for(const[d,r]of o)l[d]=r;return l},N=V(K,[["__scopeId","data-v-aaebeac9"]]),G={key:0,class:"di-editor"},Y={class:"di-element-id-display"},j={class:"di-section-tabs"},q={class:"di-editor-content"},J={key:0,class:"di-form"},W={class:"di-form-group"},X={class:"di-form-group"},Q={class:"di-form-group"},Z={class:"di-form-group"},ee={key:1,class:"di-form"},te={class:"di-form-group"},oe={key:0,class:"di-form-group"},ne={class:"di-form-group"},le={class:"di-form-group"},ie={key:2,class:"di-form"},ae={class:"di-form-group"},se={class:"di-form-group"},de={class:"di-form-group"},re={class:"di-form-group"},ce={class:"di-form-group"},ue={key:3,class:"di-form"},me={class:"di-form-group"},ve={class:"di-form-group"},pe={class:"di-form-group"},Ee=e.defineComponent({__name:"DevElementEditor",setup(m){const o=E.useDevInspectorStore(),l=e.ref("field"),d=e.ref({table:"",column:""}),r=e.ref({type:"navigate"}),c=e.ref({}),u=e.ref({text:"",type:"info"});e.watch(()=>o.editingElementId,s=>{if(s){const t=o.getElementConfig(s);t?(d.value=t.fieldInfo||{table:"",column:""},r.value=t.actionInfo||{type:"navigate"},c.value=t.links||{},u.value=t.note||{text:"",type:"info"}):p()}},{immediate:!0});function p(){d.value={table:"",column:""},r.value={type:"navigate"},c.value={},u.value={text:"",type:"info"}}function v(){if(!o.editingElementId)return;const s={};(d.value.table||d.value.column)&&(s.fieldInfo=d.value),(r.value.target||r.value.description)&&(s.actionInfo=r.value),(c.value.figmaUrl||c.value.testPath||c.value.githubIssue)&&(s.links=c.value),u.value.text&&(s.note=u.value),o.setElementConfig(o.editingElementId,s),o.stopEditing()}function i(){o.editingElementId&&confirm("Delete this annotation?")&&(o.deleteElementConfig(o.editingElementId),o.stopEditing())}function a(){o.stopEditing()}return(s,t)=>(e.openBlock(),e.createBlock(e.Transition,{"enter-active-class":"di-transition-enter","leave-active-class":"di-transition-leave"},{default:e.withCtx(()=>[e.unref(o).editingElementId?(e.openBlock(),e.createElementBlock("div",G,[e.createElementVNode("div",{class:"di-editor-header"},[t[20]||(t[20]=e.createElementVNode("div",{class:"di-editor-title"},"Edit Element",-1)),e.createElementVNode("button",{onClick:a,class:"di-close-btn"},"âœ•")]),e.createElementVNode("div",Y,[e.createElementVNode("code",null,e.toDisplayString(e.unref(o).editingElementId),1)]),e.createElementVNode("div",j,[e.createElementVNode("button",{class:e.normalizeClass(["di-section-tab",{active:l.value==="field"}]),onClick:t[0]||(t[0]=n=>l.value="field")},"ðŸ—„ï¸ DB Field",2),e.createElementVNode("button",{class:e.normalizeClass(["di-section-tab",{active:l.value==="action"}]),onClick:t[1]||(t[1]=n=>l.value="action")},"âš¡ Action",2),e.createElementVNode("button",{class:e.normalizeClass(["di-section-tab",{active:l.value==="links"}]),onClick:t[2]||(t[2]=n=>l.value="links")},"ðŸ”— Links",2),e.createElementVNode("button",{class:e.normalizeClass(["di-section-tab",{active:l.value==="note"}]),onClick:t[3]||(t[3]=n=>l.value="note")},"ðŸ“ Note",2)]),e.createElementVNode("div",q,[l.value==="field"?(e.openBlock(),e.createElementBlock("div",J,[e.createElementVNode("div",W,[t[21]||(t[21]=e.createElementVNode("label",null,"Table Name",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>d.value.table=n),type:"text",placeholder:"e.g., users"},null,512),[[e.vModelText,d.value.table]])]),e.createElementVNode("div",X,[t[22]||(t[22]=e.createElementVNode("label",null,"Column Name",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>d.value.column=n),type:"text",placeholder:"e.g., email"},null,512),[[e.vModelText,d.value.column]])]),e.createElementVNode("div",Q,[t[23]||(t[23]=e.createElementVNode("label",null,"Data Type",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>d.value.type=n),type:"text",placeholder:"e.g., VARCHAR(255)"},null,512),[[e.vModelText,d.value.type]])]),e.createElementVNode("div",Z,[t[24]||(t[24]=e.createElementVNode("label",null,"Description",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[7]||(t[7]=n=>d.value.description=n),placeholder:"Field description...",rows:"2"},null,512),[[e.vModelText,d.value.description]])])])):e.createCommentVNode("",!0),l.value==="action"?(e.openBlock(),e.createElementBlock("div",ee,[e.createElementVNode("div",te,[t[26]||(t[26]=e.createElementVNode("label",null,"Action Type",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[8]||(t[8]=n=>r.value.type=n)},[...t[25]||(t[25]=[e.createElementVNode("option",{value:"navigate"},"Navigate",-1),e.createElementVNode("option",{value:"api"},"API Call",-1),e.createElementVNode("option",{value:"modal"},"Open Modal",-1),e.createElementVNode("option",{value:"emit"},"Emit Event",-1),e.createElementVNode("option",{value:"function"},"Function Call",-1)])],512),[[e.vModelSelect,r.value.type]])]),r.value.type==="api"?(e.openBlock(),e.createElementBlock("div",oe,[t[28]||(t[28]=e.createElementVNode("label",null,"HTTP Method",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[9]||(t[9]=n=>r.value.method=n)},[...t[27]||(t[27]=[e.createElementVNode("option",{value:"GET"},"GET",-1),e.createElementVNode("option",{value:"POST"},"POST",-1),e.createElementVNode("option",{value:"PUT"},"PUT",-1),e.createElementVNode("option",{value:"DELETE"},"DELETE",-1),e.createElementVNode("option",{value:"PATCH"},"PATCH",-1)])],512),[[e.vModelSelect,r.value.method]])])):e.createCommentVNode("",!0),e.createElementVNode("div",ne,[t[29]||(t[29]=e.createElementVNode("label",null,"Target / Endpoint",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[10]||(t[10]=n=>r.value.target=n),type:"text",placeholder:"e.g., /api/users or /dashboard"},null,512),[[e.vModelText,r.value.target]])]),e.createElementVNode("div",le,[t[30]||(t[30]=e.createElementVNode("label",null,"Description",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[11]||(t[11]=n=>r.value.description=n),placeholder:"What this action does...",rows:"2"},null,512),[[e.vModelText,r.value.description]])])])):e.createCommentVNode("",!0),l.value==="links"?(e.openBlock(),e.createElementBlock("div",ie,[e.createElementVNode("div",ae,[t[31]||(t[31]=e.createElementVNode("label",null,"Figma URL",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[12]||(t[12]=n=>c.value.figmaUrl=n),type:"url",placeholder:"https://figma.com/..."},null,512),[[e.vModelText,c.value.figmaUrl]])]),e.createElementVNode("div",se,[t[32]||(t[32]=e.createElementVNode("label",null,"Test File Path",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[13]||(t[13]=n=>c.value.testPath=n),type:"text",placeholder:"e.g., tests/components/Button.spec.ts"},null,512),[[e.vModelText,c.value.testPath]])]),e.createElementVNode("div",de,[t[33]||(t[33]=e.createElementVNode("label",null,"GitHub Issue",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[14]||(t[14]=n=>c.value.githubIssue=n),type:"url",placeholder:"https://github.com/.../issues/123"},null,512),[[e.vModelText,c.value.githubIssue]])]),e.createElementVNode("div",re,[t[34]||(t[34]=e.createElementVNode("label",null,"GitHub PR",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[15]||(t[15]=n=>c.value.githubPr=n),type:"url",placeholder:"https://github.com/.../pull/456"},null,512),[[e.vModelText,c.value.githubPr]])]),e.createElementVNode("div",ce,[t[35]||(t[35]=e.createElementVNode("label",null,"Related Docs",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[16]||(t[16]=n=>c.value.relatedDocs=n),type:"url",placeholder:"https://..."},null,512),[[e.vModelText,c.value.relatedDocs]])])])):e.createCommentVNode("",!0),l.value==="note"?(e.openBlock(),e.createElementBlock("div",ue,[e.createElementVNode("div",me,[t[37]||(t[37]=e.createElementVNode("label",null,"Note Type",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[17]||(t[17]=n=>u.value.type=n)},[...t[36]||(t[36]=[e.createElementVNode("option",{value:"info"},"â„¹ï¸ Info",-1),e.createElementVNode("option",{value:"warning"},"âš ï¸ Warning",-1),e.createElementVNode("option",{value:"todo"},"ðŸ“‹ TODO",-1),e.createElementVNode("option",{value:"question"},"â“ Question",-1)])],512),[[e.vModelSelect,u.value.type]])]),e.createElementVNode("div",ve,[t[38]||(t[38]=e.createElementVNode("label",null,"Note Text",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[18]||(t[18]=n=>u.value.text=n),placeholder:"Write your note here...",rows:"4"},null,512),[[e.vModelText,u.value.text]])]),e.createElementVNode("div",pe,[t[39]||(t[39]=e.createElementVNode("label",null,"Author",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[19]||(t[19]=n=>u.value.author=n),type:"text",placeholder:"Your name"},null,512),[[e.vModelText,u.value.author]])])])):e.createCommentVNode("",!0)]),e.createElementVNode("div",{class:"di-editor-footer"},[e.createElementVNode("button",{class:"di-btn danger",onClick:i},"Delete"),e.createElementVNode("div",{class:"di-footer-right"},[e.createElementVNode("button",{class:"di-btn",onClick:a},"Cancel"),e.createElementVNode("button",{class:"di-btn primary",onClick:v},"Save")])])])):e.createCommentVNode("",!0)]),_:1}))}}),f=V(Ee,[["__scopeId","data-v-39feb4ae"]]),Ve={key:0,class:"di-pick-overlay","data-dev-inspector":""},Ne=["data-selector","onClick"],fe=e.defineComponent({__name:"DevPickOverlay",setup(m){const o=E.useDevInspectorStore(),l=e.ref({top:"0",left:"0",width:"0",height:"0",display:"none"}),d=e.ref({top:"0",left:"0",display:"none"}),r=e.ref("");let c=null;function u(a){return a.closest("[data-dev-inspector]")!==null}function p(a){if(!o.isPickMode)return;const s=a.target;if(!s||u(s)){l.value.display="none",d.value.display="none";return}if(s===c)return;c=s;const t=s.getBoundingClientRect();l.value={top:`${t.top+window.scrollY}px`,left:`${t.left+window.scrollX}px`,width:`${t.width}px`,height:`${t.height}px`,display:"block"};let n=t.top+window.scrollY-30;n<10&&(n=t.bottom+window.scrollY+8),d.value={top:`${n}px`,left:`${t.left+window.scrollX}px`,display:"block"},r.value=o.generateSelector(s),o.setHoveredSelector(r.value)}function v(a){if(!o.isPickMode)return;const s=a.target;if(!s||u(s))return;a.preventDefault(),a.stopPropagation();const t=o.generateSelector(s);o.getElementConfig(t)||o.setElementConfig(t,{componentPath:window.location.pathname}),o.startEditing(t),o.togglePickMode()}function i(a){a.key==="Escape"&&o.isPickMode&&o.togglePickMode()}return e.onMounted(()=>{document.addEventListener("mousemove",p,!0),document.addEventListener("click",v,!0),document.addEventListener("keydown",i)}),e.onUnmounted(()=>{document.removeEventListener("mousemove",p,!0),document.removeEventListener("click",v,!0),document.removeEventListener("keydown",i)}),e.watch(()=>o.isPickMode,a=>{a||(l.value.display="none",d.value.display="none",c=null)}),(a,s)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(o).isPickMode?(e.openBlock(),e.createElementBlock("div",Ve,[e.createElementVNode("div",{class:"di-highlight",style:e.normalizeStyle(l.value)},null,4),e.createElementVNode("div",{class:"di-selector-tooltip",style:e.normalizeStyle(d.value)},[e.createElementVNode("code",null,e.toDisplayString(r.value),1)],4),s[0]||(s[0]=e.createElementVNode("div",{class:"di-pick-instructions","data-dev-inspector":""},[e.createElementVNode("span",null,"ðŸŽ¯ Click an element to annotate"),e.createElementVNode("kbd",null,"Esc"),e.createTextVNode(" to cancel ")],-1))])):e.createCommentVNode("",!0),e.unref(o).isEditMode&&!e.unref(o).isPickMode?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(e.unref(o).getConfiguredSelectors(),t=>(e.openBlock(),e.createElementBlock("div",{key:t,class:"di-configured-marker","data-selector":t,onClick:n=>e.unref(o).startEditing(t)},[...s[1]||(s[1]=[e.createElementVNode("span",{class:"di-marker-dot"},"â—",-1)])],8,Ne))),128)):e.createCommentVNode("",!0)]))}}),g=V(fe,[["__scopeId","data-v-d9bff61a"]]),ge={key:0,"data-dev-inspector":""},k=e.defineComponent({__name:"DevInspector",props:{storageKey:{default:"devInspector:elementConfigs"},enabledInProduction:{type:Boolean,default:!1},initialAnnotations:{}},setup(m){const o=m,l=E.useDevInspectorStore();return e.onMounted(()=>{l.init({storageKey:o.storageKey,enabledInProduction:o.enabledInProduction,initialAnnotations:o.initialAnnotations})}),(d,r)=>e.unref(l).isAvailable?(e.openBlock(),e.createElementBlock("div",ge,[e.createVNode(N),e.createVNode(f),e.createVNode(g)])):e.createCommentVNode("",!0)}}),b={install(m,o={}){const{autoRegister:l=!0,...d}=o;l&&m.component("DevInspector",k),m.provide("devInspectorOptions",d)}};exports.useDevInspector=E.useDevInspector;exports.useDevInspectorStore=E.useDevInspectorStore;exports.DevElementEditor=f;exports.DevInspector=k;exports.DevPanel=N;exports.DevPickOverlay=g;exports.VueDevInspector=b;exports.default=b;
