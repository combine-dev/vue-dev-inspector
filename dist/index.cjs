"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),U=require("./useDevInspector-BQSnFzrE.cjs");/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k=(r,l)=>({size:i,strokeWidth:v=2,absoluteStrokeWidth:V,color:x,class:w,...M},{attrs:u,slots:c})=>e.h("svg",{...q,width:i||q.width,height:i||q.height,stroke:x||q.stroke,"stroke-width":V?Number(v)*24/Number(i):v,...u,class:["lucide",`lucide-${ue(r)}`],...M},[...l.map($=>e.h(...$)),...c.default?[c.default()]:[]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=k("AlertCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=k("AlertTriangleIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=k("CheckSquareIcon",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=k("CodeIcon",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=k("DatabaseIcon",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=k("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=k("ExternalLinkIcon",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=k("FileSpreadsheetIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=k("FileTextIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=k("GitBranchIcon",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=k("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=k("HelpCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=k("InfoIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=k("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=k("Loader2Icon",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=k("MessageSquareIcon",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=k("MousePointer2Icon",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=k("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=k("SaveIcon",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=k("ScanIcon",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=k("ServerIcon",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=k("Settings2Icon",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=k("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=k("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=k("Wand2Icon",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=k("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=k("ZapIcon",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);async function Se(r,l,i={}){var m;const v=await Promise.resolve().then(()=>require("./xlsx-qn1xoUuv.cjs")),{systemName:V="System",author:x=""}=i,w=new Date,M=`${w.getFullYear()}/${w.getMonth()+1}/${w.getDate()}`,u=v.utils.book_new(),c=[];c.push(["画面機能仕様書","","","","","","","","","","","システム名","","","","",V,"","","","","","画面ID/画面名","","","","",(r==null?void 0:r.name)||"","","","","","","作成者","","","","",x,"","作成日","","","","",M]),c.push([]),c.push(["URL","","","","","","","","","","","画面英語名","","","","","","","","","","","View Component","","","","",(r==null?void 0:r.componentPath)||"","","","","","","Figma URL","","","","",(r==null?void 0:r.figmaUrl)||""]),c.push([]),c.push(["機能概要"]),c.push([(r==null?void 0:r.description)||""]),c.push([]),c.push(["画面レイアウト　figmaURL"]),c.push([(r==null?void 0:r.figmaUrl)||""]),c.push([]),r!=null&&r.apis&&r.apis.length>0&&(c.push(["API一覧"]),c.push(["","メソッド","","エンドポイント","","","","","","","","説明"]),r.apis.forEach(o=>{c.push(["",o.method,"",o.endpoint,"","","","","","","",o.description])}),c.push([])),c.push(["画面項目　ヘッダーフッターは省く"]),c.push(["","No.","","項目名","","","","","","","","","","","","説明","","","","","","","","","","","","","","","","表示条件","","","","","","","","","","","","","","","備考"]),Object.values(l).forEach((o,E)=>{var B,y,n;const b=o.id;let h="",N="",g="";if((B=o.note)!=null&&B.text&&(h=o.note.text),o.fieldInfo&&(h+=h?`
`:"",h+=`DB: ${o.fieldInfo.table}.${o.fieldInfo.column}`,o.fieldInfo.type&&(h+=` (${o.fieldInfo.type})`),o.fieldInfo.description&&(h+=`
${o.fieldInfo.description}`)),o.actionInfo&&(g=`[${{navigate:"画面遷移",api:"API呼び出し",modal:"モーダル表示",emit:"イベント発火",function:"関数実行"}[o.actionInfo.type]||o.actionInfo.type}]`,o.actionInfo.target&&(g+=` ${o.actionInfo.method||""} ${o.actionInfo.target}`),o.actionInfo.description&&(g+=`
${o.actionInfo.description}`)),o.links){const p=[];o.links.testPath&&p.push(`テスト: ${o.links.testPath}`),o.links.figmaUrl&&p.push(`Figma: ${o.links.figmaUrl}`),o.links.githubIssue&&p.push(`Issue: ${o.links.githubIssue}`),o.links.githubPr&&p.push(`PR: ${o.links.githubPr}`),p.length>0&&(g+=g?`

`:"",g+=p.join(`
`))}if(o.devMeta){const p=[];(y=o.devMeta.usedStores)!=null&&y.length&&p.push(`Store: ${o.devMeta.usedStores.join(", ")}`),(n=o.devMeta.usedComponents)!=null&&n.length&&p.push(`Components: ${o.devMeta.usedComponents.join(", ")}`),o.devMeta.accessibility&&p.push(`A11y: ${o.devMeta.accessibility}`),o.devMeta.responsive&&p.push(`Responsive: ${o.devMeta.responsive}`),p.length>0&&(g+=g?`

`:"",g+=`[開発情報]
`+p.join(`
`))}c.push(["",E+1,"",b,"","","","","","","","","","","",h,"","","","","","","","","","","","","","","",N,"","","","","","","","","","","","","","",g])});const D=v.utils.aoa_to_sheet(c);D["!cols"]=[{wch:3},{wch:5},{wch:3},{wch:20},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:30},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:20},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:30}],v.utils.book_append_sheet(u,D,"画面設計書");const f=`画面仕様書_${((m=r==null?void 0:r.name)==null?void 0:m.replace(/[/\\?%*:|"<>]/g,"-"))||"screen"}_${M.replace(/\//g,"")}.xlsx`;return v.writeFile(u,f),f}const Te={key:0,class:"di-panel","data-dev-inspector":""},Pe={class:"di-header"},_e={class:"di-header-title"},Le={class:"di-edit-section"},Ue={class:"di-edit-row"},ze={class:"di-edit-label"},Ae={class:"di-scan-section"},Fe=["disabled"],je=["disabled","title"],qe={key:0,class:"di-scan-results"},Oe={key:0,class:"di-scan-result-item"},Re={class:"di-scan-result-count"},He={class:"di-scan-result-count"},Ge={class:"di-content"},Xe={class:"di-section"},Ke={class:"di-screen-name"},Ye={class:"di-screen-desc"},Ze={class:"di-card"},Je={class:"di-card-label"},We={class:"di-code-blue"},Qe={key:0,class:"di-card"},et={class:"di-card-label"},tt=["href"],lt={key:1,class:"di-card"},ot={class:"di-card-label"},nt={class:"di-api-list"},at={class:"di-api-info"},st={class:"di-api-endpoint"},it={class:"di-api-desc"},dt={key:2,class:"di-card"},rt={class:"di-card-label"},ct={class:"di-notes-list"},ut={key:1,class:"di-no-spec"},mt={class:"di-card"},vt={class:"di-card-header"},pt={class:"di-card-label"},ft={class:"di-count-badge"},kt={key:0,class:"di-export-buttons"},yt={key:1,class:"di-export-hint"},ht={class:"di-action-buttons"},Et={key:0,class:"di-indicator","data-dev-inspector":""},Vt={key:0,class:"di-indicator-edit"},bt={class:"di-modal"},Nt=["value"],gt={class:"di-modal-actions"},xt={class:"di-modal"},wt={class:"di-file-drop"},Bt={key:0,class:"di-error"},Ct={class:"di-modal-actions"},Mt=["disabled"],It=e.defineComponent({__name:"DevPanel",setup(r){const l=U.useDevInspectorStore(),i=e.inject("router",null),v=e.ref(!1),V=e.ref(!1),x=e.ref(""),w=e.ref(""),M={GET:"#10b981",POST:"#3b82f6",PUT:"#f59e0b",DELETE:"#ef4444",PATCH:"#8b5cf6"},u=e.computed(()=>l.currentScreenSpec),c=e.computed(()=>Object.keys(l.elementConfigs).length);function $(){const y=l.exportConfigs();navigator.clipboard.writeText(y),v.value=!1}function D(){const y=l.exportConfigs(),n=new Blob([y],{type:"application/json"}),p=URL.createObjectURL(n),d=document.createElement("a");d.href=p,d.download="dev-mode-configs.json",d.click(),URL.revokeObjectURL(p),v.value=!1}function C(){l.downloadAnnotations()}async function f(){try{await Se(l.currentScreenSpec,l.elementConfigs,{systemName:"System"})}catch(y){console.error("Failed to export xlsx:",y),alert("xlsx export failed. Make sure xlsx package is installed.")}}function m(){try{l.importConfigs(x.value),x.value="",w.value="",V.value=!1}catch{w.value="JSONの形式が正しくありません"}}function o(y){var I;const p=(I=y.target.files)==null?void 0:I[0];if(!p)return;const d=new FileReader;d.onload=P=>{var _;x.value=(_=P.target)==null?void 0:_.result},d.readAsText(p)}function E(){confirm("すべての要素設定を削除しますか？")&&l.clearAllConfigs()}const b=e.ref(0),h=e.ref(!1),N=e.ref([]);async function g(){h.value=!0,b.value=await l.scanCurrentPage()}async function B(){if(!i){alert("Vue Routerが見つかりません。全ページスキャンにはVue Routerが必要です。");return}confirm("全ページをスキャンします。ページ遷移が発生しますがよろしいですか？")&&(h.value=!0,N.value=await l.scanAllPages(i))}return(y,n)=>{var p;return e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(l).isEnabled&&!e.unref(l).isPanelOpen?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:n[0]||(n[0]=(...d)=>e.unref(l).openPanel&&e.unref(l).openPanel(...d)),class:"di-fab",title:"画面仕様を表示","data-dev-inspector":""},[e.createVNode(e.unref(X),{style:{width:"20px",height:"20px"}})])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(l).isEnabled&&e.unref(l).isPanelOpen?(e.openBlock(),e.createElementBlock("div",Te,[e.createElementVNode("div",Pe,[e.createElementVNode("div",_e,[e.createVNode(e.unref(H),{style:{width:"20px",height:"20px",color:"#60a5fa"}}),n[12]||(n[12]=e.createElementVNode("span",null,"Developer Mode",-1))]),e.createElementVNode("button",{onClick:n[1]||(n[1]=(...d)=>e.unref(l).closePanel&&e.unref(l).closePanel(...d)),class:"di-close-btn"},[e.createVNode(e.unref(J),{style:{width:"20px",height:"20px"}})])]),e.createElementVNode("div",Le,[e.createElementVNode("div",Ue,[e.createElementVNode("div",ze,[e.createVNode(e.unref(Y),{style:{width:"16px",height:"16px",color:"#fbbf24"}}),n[13]||(n[13]=e.createElementVNode("span",null,"編集モード",-1))]),e.createElementVNode("button",{onClick:n[2]||(n[2]=(...d)=>e.unref(l).toggleEditMode&&e.unref(l).toggleEditMode(...d)),class:e.normalizeClass(["di-toggle",{active:e.unref(l).isEditMode}])},[e.createElementVNode("span",{class:e.normalizeClass(["di-toggle-knob",{active:e.unref(l).isEditMode}])},null,2)],2)]),n[15]||(n[15]=e.createElementVNode("p",{class:"di-edit-hint"},"ONにすると、要素をクリックして情報を編集できます",-1)),e.createElementVNode("button",{onClick:n[3]||(n[3]=(...d)=>e.unref(l).togglePickMode&&e.unref(l).togglePickMode(...d)),class:e.normalizeClass(["di-pick-btn",{active:e.unref(l).isPickMode}])},[e.createVNode(e.unref(xe),{style:{width:"16px",height:"16px"}}),e.createElementVNode("span",null,e.toDisplayString(e.unref(l).isPickMode?"要素選択中...":"任意の要素にメモを追加"),1)],2),e.createElementVNode("div",Ae,[e.createElementVNode("button",{onClick:g,class:"di-scan-btn",disabled:e.unref(l).isScanning},[e.unref(l).isScanning&&!e.unref(l).currentScanPage?(e.openBlock(),e.createBlock(e.unref(K),{key:0,class:"di-spin",style:{width:"16px",height:"16px"}})):(e.openBlock(),e.createBlock(e.unref(Be),{key:1,style:{width:"16px",height:"16px"}})),e.createElementVNode("span",null,e.toDisplayString(e.unref(l).isScanning&&!e.unref(l).currentScanPage?`スキャン中... ${e.unref(l).scanProgress}%`:"ページ全体をスキャン"),1)],8,Fe),e.createElementVNode("button",{onClick:B,class:"di-scan-btn di-scan-btn-all",disabled:e.unref(l).isScanning,title:e.unref(i)?"全ページをスキャン":"Vue Routerが必要です"},[e.unref(l).isScanning&&e.unref(l).currentScanPage?(e.openBlock(),e.createBlock(e.unref(K),{key:0,class:"di-spin",style:{width:"16px",height:"16px"}})):(e.openBlock(),e.createBlock(e.unref(Ee),{key:1,style:{width:"16px",height:"16px"}})),e.createElementVNode("span",null,e.toDisplayString(e.unref(l).currentScanPage?`${e.unref(l).currentScanPage}`:"全ページスキャン"),1)],8,je)]),h.value&&(b.value>0||N.value.length>0)?(e.openBlock(),e.createElementBlock("div",qe,[b.value>0?(e.openBlock(),e.createElementBlock("div",Oe,[e.createElementVNode("span",Re,e.toDisplayString(b.value),1),n[14]||(n[14]=e.createElementVNode("span",null,"件の要素を検出・登録しました",-1))])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,d=>(e.openBlock(),e.createElementBlock("div",{key:d.page,class:"di-scan-result-item"},[e.createElementVNode("code",null,e.toDisplayString(d.page),1),e.createElementVNode("span",He,e.toDisplayString(d.count),1)]))),128)),e.createElementVNode("button",{onClick:n[4]||(n[4]=d=>{h.value=!1,N.value=[]}),class:"di-scan-close"}," 閉じる ")])):e.createCommentVNode("",!0)]),e.createElementVNode("div",Ge,[u.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Xe,[e.createElementVNode("h2",Ke,e.toDisplayString(u.value.name),1),e.createElementVNode("p",Ye,e.toDisplayString(u.value.description),1)]),e.createElementVNode("div",Ze,[e.createElementVNode("div",Je,[e.createVNode(e.unref(H),{style:{width:"16px",height:"16px"}}),n[16]||(n[16]=e.createElementVNode("span",null,"Component Path",-1))]),e.createElementVNode("code",We,e.toDisplayString(u.value.componentPath),1)]),u.value.figmaUrl?(e.openBlock(),e.createElementBlock("div",Qe,[e.createElementVNode("div",et,[e.createVNode(e.unref(ke),{style:{width:"16px",height:"16px"}}),n[17]||(n[17]=e.createElementVNode("span",null,"Figma Design",-1))]),e.createElementVNode("a",{href:u.value.figmaUrl,target:"_blank",class:"di-link-purple"},e.toDisplayString(u.value.figmaUrl),9,tt)])):e.createCommentVNode("",!0),u.value.apis.length?(e.openBlock(),e.createElementBlock("div",lt,[e.createElementVNode("div",ot,[e.createVNode(e.unref(Ce),{style:{width:"16px",height:"16px"}}),n[18]||(n[18]=e.createElementVNode("span",null,"API Endpoints",-1))]),e.createElementVNode("div",nt,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value.apis,(d,I)=>(e.openBlock(),e.createElementBlock("div",{key:I,class:"di-api-item"},[e.createElementVNode("span",{class:"di-method-badge",style:e.normalizeStyle({backgroundColor:M[d.method]+"20",color:M[d.method]})},e.toDisplayString(d.method),5),e.createElementVNode("div",at,[e.createElementVNode("code",st,e.toDisplayString(d.endpoint),1),e.createElementVNode("p",it,e.toDisplayString(d.description),1)])]))),128))])])):e.createCommentVNode("",!0),(p=u.value.notes)!=null&&p.length?(e.openBlock(),e.createElementBlock("div",dt,[e.createElementVNode("div",rt,[e.createVNode(e.unref(me),{style:{width:"16px",height:"16px"}}),n[19]||(n[19]=e.createElementVNode("span",null,"Notes",-1))]),e.createElementVNode("ul",ct,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value.notes,(d,I)=>(e.openBlock(),e.createElementBlock("li",{key:I,class:"di-note-item"},[n[20]||(n[20]=e.createElementVNode("span",{class:"di-bullet"},"•",-1)),e.createElementVNode("span",null,e.toDisplayString(d),1)]))),128))])])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock("div",ut,[e.createVNode(e.unref(X),{style:{width:"48px",height:"48px",color:"#334155"}}),n[21]||(n[21]=e.createElementVNode("p",null,[e.createTextVNode("この画面の仕様情報は"),e.createElementVNode("br"),e.createTextVNode("まだ登録されていません")],-1))])),e.createElementVNode("div",mt,[e.createElementVNode("div",vt,[e.createElementVNode("div",pt,[e.createVNode(e.unref(Y),{style:{width:"16px",height:"16px"}}),n[22]||(n[22]=e.createElementVNode("span",null,"登録済み要素",-1)),e.createElementVNode("span",ft,e.toDisplayString(c.value),1)])]),c.value>0?(e.openBlock(),e.createElementBlock("div",kt,[e.createElementVNode("button",{onClick:C,class:"di-btn-green"},[e.createVNode(e.unref(he),{style:{width:"16px",height:"16px"}}),n[23]||(n[23]=e.createTextVNode(" Git管理用に保存 ",-1))]),e.createElementVNode("button",{onClick:f,class:"di-btn-blue"},[e.createVNode(e.unref(ye),{style:{width:"16px",height:"16px"}}),n[24]||(n[24]=e.createTextVNode(" 画面仕様書 (xlsx) 出力 ",-1))])])):e.createCommentVNode("",!0),c.value>0?(e.openBlock(),e.createElementBlock("p",yt,[...n[25]||(n[25]=[e.createTextVNode(" JSON: ",-1),e.createElementVNode("code",null,"dev-annotations.json",-1),e.createTextVNode(" に配置してcommit ",-1)])])):e.createCommentVNode("",!0),e.createElementVNode("div",ht,[e.createElementVNode("button",{onClick:n[5]||(n[5]=d=>v.value=!0),class:"di-btn-small"},[e.createVNode(e.unref(G),{style:{width:"14px",height:"14px"}}),n[26]||(n[26]=e.createTextVNode(" エクスポート ",-1))]),e.createElementVNode("button",{onClick:n[6]||(n[6]=d=>V.value=!0),class:"di-btn-small"},[e.createVNode(e.unref(Ie),{style:{width:"14px",height:"14px"}}),n[27]||(n[27]=e.createTextVNode(" インポート ",-1))]),c.value>0?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:E,class:"di-btn-small di-btn-danger"},[e.createVNode(e.unref(Z),{style:{width:"14px",height:"14px"}}),n[28]||(n[28]=e.createTextVNode(" 全削除 ",-1))])):e.createCommentVNode("",!0)])])]),n[29]||(n[29]=e.createElementVNode("div",{class:"di-footer"},[e.createElementVNode("kbd",null,"Ctrl"),e.createElementVNode("span",null,"+"),e.createElementVNode("kbd",null,"Shift"),e.createElementVNode("span",null,"+"),e.createElementVNode("kbd",null,"D"),e.createElementVNode("span",{class:"di-footer-text"},"で開発者モード切替")],-1))])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(l).isEnabled?(e.openBlock(),e.createElementBlock("div",Et,[n[30]||(n[30]=e.createElementVNode("span",{class:"di-indicator-dot"},null,-1)),n[31]||(n[31]=e.createTextVNode(" Developer Mode ",-1)),e.unref(l).isEditMode?(e.openBlock(),e.createElementBlock("span",Vt,"• 編集中")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[v.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-modal-overlay",onClick:n[8]||(n[8]=e.withModifiers(d=>v.value=!1,["self"])),"data-dev-inspector":""},[e.createElementVNode("div",bt,[n[33]||(n[33]=e.createElementVNode("h3",{class:"di-modal-title"},"設定をエクスポート",-1)),e.createElementVNode("textarea",{readonly:"",value:e.unref(l).exportConfigs(),class:"di-modal-textarea"},null,8,Nt),e.createElementVNode("div",gt,[e.createElementVNode("button",{onClick:n[7]||(n[7]=d=>v.value=!1),class:"di-btn-small"},"閉じる"),e.createElementVNode("button",{onClick:D,class:"di-btn-small di-btn-gray"},[e.createVNode(e.unref(G),{style:{width:"14px",height:"14px"}}),n[32]||(n[32]=e.createTextVNode(" ファイル保存 ",-1))]),e.createElementVNode("button",{onClick:$,class:"di-btn-small di-btn-primary"},"コピー")])])])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[V.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-modal-overlay",onClick:n[11]||(n[11]=e.withModifiers(d=>V.value=!1,["self"])),"data-dev-inspector":""},[e.createElementVNode("div",xt,[n[35]||(n[35]=e.createElementVNode("h3",{class:"di-modal-title"},"設定をインポート",-1)),e.createElementVNode("label",wt,[e.createElementVNode("input",{type:"file",accept:".json",onChange:o},null,32),n[34]||(n[34]=e.createElementVNode("span",null,"JSONファイルをドラッグまたはクリック",-1))]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":n[9]||(n[9]=d=>x.value=d),placeholder:"またはJSONを直接貼り付け...",class:"di-modal-textarea di-modal-textarea-input"},null,512),[[e.vModelText,x.value]]),w.value?(e.openBlock(),e.createElementBlock("p",Bt,e.toDisplayString(w.value),1)):e.createCommentVNode("",!0),e.createElementVNode("div",Ct,[e.createElementVNode("button",{onClick:n[10]||(n[10]=d=>{V.value=!1,x.value="",w.value=""}),class:"di-btn-small"}," キャンセル "),e.createElementVNode("button",{onClick:m,disabled:!x.value,class:"di-btn-small di-btn-primary"}," インポート ",8,Mt)])])])):e.createCommentVNode("",!0)]))],64)}}}),O=(r,l)=>{const i=r.__vccOpts||r;for(const[v,V]of l)i[v]=V;return i},W=O(It,[["__scopeId","data-v-b9516dc2"]]),$t={class:"di-editor-modal"},Dt={class:"di-editor-header"},St={class:"di-header-actions"},Tt={key:0,class:"di-static-indicator"},Pt={key:1,class:"di-binding-indicator"},_t={key:0,class:"di-binding-source"},Lt={class:"di-editor-tabs"},Ut={class:"di-editor-content"},zt={class:"di-form-group"},At={class:"di-note-types"},Ft=["onClick"],jt={class:"di-form-group"},qt={class:"di-form-group"},Ot={class:"di-form-row"},Rt={class:"di-form-group"},Ht={class:"di-form-group"},Gt={class:"di-form-group"},Xt=["value"],Kt={class:"di-form-group"},Yt={class:"di-form-group"},Zt={class:"di-form-group"},Jt=["value"],Wt={key:0,class:"di-form-row"},Qt={class:"di-form-group",style:{flex:"0 0 100px"}},el=["value"],tl={class:"di-form-group",style:{flex:"1"}},ll={key:1,class:"di-form-group"},ol={class:"di-form-label"},nl=["placeholder"],al={class:"di-form-group"},sl={class:"di-form-group"},il={class:"di-form-group"},dl={class:"di-form-row"},rl={class:"di-form-group"},cl={class:"di-form-group"},ul={class:"di-form-group"},ml={class:"di-form-group"},vl={class:"di-form-group"},pl={class:"di-form-group"},fl={class:"di-form-group"},kl={class:"di-form-group"},yl={class:"di-form-group"},hl={class:"di-editor-footer"},El={class:"di-editor-actions"},Vl=e.defineComponent({__name:"DevElementEditor",setup(r){const l=U.useDevInspectorStore(),i=e.ref("note"),v=e.ref(""),V=e.ref(""),x=e.ref(""),w=e.ref(""),M=e.ref(""),u=e.ref("navigate"),c=e.ref(""),$=e.ref("GET"),D=e.ref(""),C=e.ref(""),f=e.ref(""),m=e.ref("info"),o=e.ref(""),E=e.ref(""),b=e.ref(""),h=e.ref(""),N=e.ref(""),g=e.ref(""),B=e.ref(""),y=e.ref(""),n=e.ref(""),p=e.ref(""),d=e.ref(""),I=e.ref(""),P=e.ref(""),_=e.ref(!1),oe=e.computed(()=>l.editingElementId!==null),L=e.computed(()=>l.editingElementId);e.watch(L,T=>{var t,a,A,F,j,S;if(T){const s=l.getElementConfig(T);s!=null&&s.fieldInfo&&(v.value=s.fieldInfo.table||"",V.value=s.fieldInfo.column||"",x.value=s.fieldInfo.type||"",w.value=((t=s.fieldInfo.validation)==null?void 0:t.join(", "))||"",M.value=s.fieldInfo.description||""),s!=null&&s.actionInfo&&(u.value=s.actionInfo.type||"navigate",c.value=s.actionInfo.target||"",$.value=s.actionInfo.method||"GET",D.value=s.actionInfo.description||""),s!=null&&s.note&&(C.value=s.note.text||"",f.value=s.note.author||"",m.value=s.note.type||"info"),s!=null&&s.links&&(o.value=s.links.testPath||"",E.value=s.links.figmaUrl||"",b.value=s.links.githubIssue||"",h.value=s.links.githubPr||"",N.value=s.links.relatedDocs||""),s!=null&&s.devMeta&&(g.value=((a=s.devMeta.usedStores)==null?void 0:a.join(", "))||"",B.value=((A=s.devMeta.usedComponents)==null?void 0:A.join(", "))||"",y.value=((F=s.devMeta.i18nKeys)==null?void 0:F.join(", "))||"",n.value=((j=s.devMeta.designTokens)==null?void 0:j.join(", "))||"",p.value=s.devMeta.accessibility||"",d.value=s.devMeta.responsive||""),s!=null&&s.sourceBinding&&(I.value=s.sourceBinding.type||"",P.value=s.sourceBinding.source||"",_.value=s.sourceBinding.isStatic||!1),(S=s==null?void 0:s.note)!=null&&S.text?i.value="note":s!=null&&s.fieldInfo?i.value="field":s!=null&&s.actionInfo?i.value="action":s!=null&&s.links?i.value="links":s!=null&&s.devMeta?i.value="meta":i.value="note"}else R()});function R(){v.value="",V.value="",x.value="",w.value="",M.value="",u.value="navigate",c.value="",$.value="GET",D.value="",C.value="",f.value="",m.value="info",o.value="",E.value="",b.value="",h.value="",N.value="",g.value="",B.value="",y.value="",n.value="",p.value="",d.value="",I.value="",P.value="",_.value=!1,i.value="note"}function z(){l.stopEditing(),R()}function ne(){if(L.value)try{const T=document.querySelector(L.value);if(!T)return;const t=l.autoDetectElementInfo(T,L.value);t.sourceBinding&&(I.value=t.sourceBinding.type||"",P.value=t.sourceBinding.source||"",_.value=t.sourceBinding.isStatic||!1,t.sourceBinding.isStatic&&!C.value&&(C.value="固定文言",m.value="info"))}catch(T){console.error("[DevInspector] Auto-detect failed:",T)}}function ae(){if(!L.value)return;const T=v.value&&V.value?{table:v.value,column:V.value,type:x.value||void 0,validation:w.value?w.value.split(",").map(S=>S.trim()):void 0,description:M.value||void 0}:void 0,t=c.value?{type:u.value,target:c.value,method:u.value==="api"?$.value:void 0,description:D.value||void 0}:void 0,a=C.value?{text:C.value,author:f.value||void 0,type:m.value}:void 0,A=o.value||E.value||b.value||h.value||N.value?{testPath:o.value||void 0,figmaUrl:E.value||void 0,githubIssue:b.value||void 0,githubPr:h.value||void 0,relatedDocs:N.value||void 0}:void 0,F=g.value||B.value||y.value||n.value||p.value||d.value?{usedStores:g.value?g.value.split(",").map(S=>S.trim()):void 0,usedComponents:B.value?B.value.split(",").map(S=>S.trim()):void 0,i18nKeys:y.value?y.value.split(",").map(S=>S.trim()):void 0,designTokens:n.value?n.value.split(",").map(S=>S.trim()):void 0,accessibility:p.value||void 0,responsive:d.value||void 0}:void 0,j=I.value?{type:I.value,source:P.value||void 0,isStatic:_.value}:void 0;l.setElementConfig(L.value,{fieldInfo:T,actionInfo:t,note:a,links:A,devMeta:F,sourceBinding:j}),z()}function se(){L.value&&(l.deleteElementConfig(L.value),z())}const ie=["VARCHAR","TEXT","INT","BIGINT","BOOLEAN","DATE","DATETIME","TIMESTAMP","JSON"],de=[{value:"navigate",label:"画面遷移"},{value:"api",label:"API呼び出し"},{value:"modal",label:"モーダル表示"},{value:"emit",label:"イベント発火"},{value:"function",label:"関数実行"}],re=["GET","POST","PUT","DELETE","PATCH"],ce=[{value:"info",label:"情報",icon:be,color:"#60a5fa"},{value:"warning",label:"注意",icon:ve,color:"#fbbf24"},{value:"todo",label:"TODO",icon:pe,color:"#10b981"},{value:"question",label:"質問",icon:Ve,color:"#a78bfa"}];return(T,t)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[oe.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-editor-overlay",onClick:e.withModifiers(z,["self"]),"data-dev-inspector":""},[e.createElementVNode("div",$t,[e.createElementVNode("div",Dt,[t[28]||(t[28]=e.createElementVNode("h3",null,"要素情報を編集",-1)),e.createElementVNode("div",St,[e.createElementVNode("button",{onClick:ne,class:"di-btn-auto",title:"自動検出"},[e.createVNode(e.unref($e),{style:{width:"16px",height:"16px"}})]),e.createElementVNode("button",{onClick:z,class:"di-editor-close"},[e.createVNode(e.unref(J),{style:{width:"20px",height:"20px"}})])])]),_.value?(e.openBlock(),e.createElementBlock("div",Tt,[...t[29]||(t[29]=[e.createElementVNode("span",{class:"di-static-badge"},"固定文言",-1),e.createElementVNode("span",{class:"di-static-hint"},"このテキストはソースコードに直接記述されています",-1)])])):I.value?(e.openBlock(),e.createElementBlock("div",Pt,[e.createElementVNode("span",{class:e.normalizeClass(["di-binding-badge","di-binding-"+I.value])},e.toDisplayString(I.value),3),P.value?(e.openBlock(),e.createElementBlock("span",_t,e.toDisplayString(P.value),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",Lt,[e.createElementVNode("button",{onClick:t[0]||(t[0]=a=>i.value="note"),class:e.normalizeClass(["di-editor-tab",{active:i.value==="note"}]),style:e.normalizeStyle(i.value==="note"?{color:"#10b981",borderColor:"#10b981",background:"rgba(16, 185, 129, 0.1)"}:{})},[e.createVNode(e.unref(ge),{style:{width:"12px",height:"12px"}}),t[30]||(t[30]=e.createTextVNode(" メモ ",-1))],6),e.createElementVNode("button",{onClick:t[1]||(t[1]=a=>i.value="field"),class:e.normalizeClass(["di-editor-tab",{active:i.value==="field"}]),style:e.normalizeStyle(i.value==="field"?{color:"#60a5fa",borderColor:"#60a5fa",background:"rgba(96, 165, 250, 0.1)"}:{})},[e.createVNode(e.unref(fe),{style:{width:"12px",height:"12px"}}),t[31]||(t[31]=e.createTextVNode(" データ ",-1))],6),e.createElementVNode("button",{onClick:t[2]||(t[2]=a=>i.value="action"),class:e.normalizeClass(["di-editor-tab",{active:i.value==="action"}]),style:e.normalizeStyle(i.value==="action"?{color:"#a78bfa",borderColor:"#a78bfa",background:"rgba(167, 139, 250, 0.1)"}:{})},[e.createVNode(e.unref(De),{style:{width:"12px",height:"12px"}}),t[32]||(t[32]=e.createTextVNode(" アクション ",-1))],6),e.createElementVNode("button",{onClick:t[3]||(t[3]=a=>i.value="links"),class:e.normalizeClass(["di-editor-tab",{active:i.value==="links"}]),style:e.normalizeStyle(i.value==="links"?{color:"#f59e0b",borderColor:"#f59e0b",background:"rgba(245, 158, 11, 0.1)"}:{})},[e.createVNode(e.unref(Ne),{style:{width:"12px",height:"12px"}}),t[33]||(t[33]=e.createTextVNode(" リンク ",-1))],6),e.createElementVNode("button",{onClick:t[4]||(t[4]=a=>i.value="meta"),class:e.normalizeClass(["di-editor-tab",{active:i.value==="meta"}]),style:e.normalizeStyle(i.value==="meta"?{color:"#ec4899",borderColor:"#ec4899",background:"rgba(236, 72, 153, 0.1)"}:{})},[e.createVNode(e.unref(Me),{style:{width:"12px",height:"12px"}}),t[34]||(t[34]=e.createTextVNode(" 開発情報 ",-1))],6)]),e.createElementVNode("div",Ut,[i.value==="note"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",zt,[t[35]||(t[35]=e.createElementVNode("label",{class:"di-form-label"},"タイプ",-1)),e.createElementVNode("div",At,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(ce,a=>e.createElementVNode("button",{key:a.value,onClick:A=>m.value=a.value,class:"di-note-type-btn",style:e.normalizeStyle(m.value===a.value?{color:a.color,borderColor:a.color,background:a.color+"15"}:{})},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(a.icon),{style:e.normalizeStyle([{width:"16px",height:"16px"},{color:m.value===a.value?a.color:"#64748b"}])},null,8,["style"])),e.createElementVNode("span",{style:e.normalizeStyle({color:m.value===a.value?a.color:"#94a3b8"})},e.toDisplayString(a.label),5)],12,Ft)),64))])]),e.createElementVNode("div",jt,[t[36]||(t[36]=e.createElementVNode("label",{class:"di-form-label"},"メモ内容 *",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[5]||(t[5]=a=>C.value=a),rows:"4",placeholder:"この要素についてのメモ、説明、注意事項など...",class:"di-textarea"},null,512),[[e.vModelText,C.value]])]),e.createElementVNode("div",qt,[t[37]||(t[37]=e.createElementVNode("label",{class:"di-form-label"},"記入者（オプション）",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>f.value=a),type:"text",placeholder:"名前",class:"di-input"},null,512),[[e.vModelText,f.value]])])],64)):e.createCommentVNode("",!0),i.value==="field"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",Ot,[e.createElementVNode("div",Rt,[t[38]||(t[38]=e.createElementVNode("label",{class:"di-form-label"},"テーブル名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[7]||(t[7]=a=>v.value=a),type:"text",placeholder:"users",class:"di-input"},null,512),[[e.vModelText,v.value]])]),e.createElementVNode("div",Ht,[t[39]||(t[39]=e.createElementVNode("label",{class:"di-form-label"},"カラム名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[8]||(t[8]=a=>V.value=a),type:"text",placeholder:"name",class:"di-input"},null,512),[[e.vModelText,V.value]])])]),e.createElementVNode("div",Gt,[t[41]||(t[41]=e.createElementVNode("label",{class:"di-form-label"},"データ型",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[9]||(t[9]=a=>x.value=a),class:"di-select"},[t[40]||(t[40]=e.createElementVNode("option",{value:""},"選択してください",-1)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(ie,a=>e.createElementVNode("option",{key:a,value:a},e.toDisplayString(a),9,Xt)),64))],512),[[e.vModelSelect,x.value]])]),e.createElementVNode("div",Kt,[t[42]||(t[42]=e.createElementVNode("label",{class:"di-form-label"},"バリデーション (カンマ区切り)",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[10]||(t[10]=a=>w.value=a),type:"text",placeholder:"required, max:255",class:"di-input"},null,512),[[e.vModelText,w.value]])]),e.createElementVNode("div",Yt,[t[43]||(t[43]=e.createElementVNode("label",{class:"di-form-label"},"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[11]||(t[11]=a=>M.value=a),rows:"2",placeholder:"このフィールドの説明...",class:"di-textarea"},null,512),[[e.vModelText,M.value]])])],64)):e.createCommentVNode("",!0),i.value==="action"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("div",Zt,[t[44]||(t[44]=e.createElementVNode("label",{class:"di-form-label"},"アクションタイプ",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[12]||(t[12]=a=>u.value=a),class:"di-select"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(de,a=>e.createElementVNode("option",{key:a.value,value:a.value},e.toDisplayString(a.label),9,Jt)),64))],512),[[e.vModelSelect,u.value]])]),u.value==="api"?(e.openBlock(),e.createElementBlock("div",Wt,[e.createElementVNode("div",Qt,[t[45]||(t[45]=e.createElementVNode("label",{class:"di-form-label"},"メソッド",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[13]||(t[13]=a=>$.value=a),class:"di-select"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(re,a=>e.createElementVNode("option",{key:a,value:a},e.toDisplayString(a),9,el)),64))],512),[[e.vModelSelect,$.value]])]),e.createElementVNode("div",tl,[t[46]||(t[46]=e.createElementVNode("label",{class:"di-form-label"},"エンドポイント",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>c.value=a),type:"text",placeholder:"/api/tasks",class:"di-input"},null,512),[[e.vModelText,c.value]])])])):(e.openBlock(),e.createElementBlock("div",ll,[e.createElementVNode("label",ol,e.toDisplayString(u.value==="navigate"?"遷移先パス":u.value==="modal"?"モーダル名":u.value==="emit"?"イベント名":"関数名"),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[15]||(t[15]=a=>c.value=a),type:"text",placeholder:u.value==="navigate"?"/tasks":u.value==="modal"?"ConfirmDialog":u.value==="emit"?"onSubmit":"handleClick",class:"di-input"},null,8,nl),[[e.vModelText,c.value]])])),e.createElementVNode("div",al,[t[47]||(t[47]=e.createElementVNode("label",{class:"di-form-label"},"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[16]||(t[16]=a=>D.value=a),rows:"2",placeholder:"このアクションの説明...",class:"di-textarea"},null,512),[[e.vModelText,D.value]])])],64)):e.createCommentVNode("",!0),i.value==="links"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("div",sl,[t[48]||(t[48]=e.createElementVNode("label",{class:"di-form-label"},"テストファイルパス",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[17]||(t[17]=a=>o.value=a),type:"text",placeholder:"src/__tests__/components/MyComponent.test.ts",class:"di-input di-input-mono"},null,512),[[e.vModelText,o.value]])]),e.createElementVNode("div",il,[t[49]||(t[49]=e.createElementVNode("label",{class:"di-form-label"},"Figma URL",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[18]||(t[18]=a=>E.value=a),type:"text",placeholder:"https://www.figma.com/design/...",class:"di-input"},null,512),[[e.vModelText,E.value]])]),e.createElementVNode("div",dl,[e.createElementVNode("div",rl,[t[50]||(t[50]=e.createElementVNode("label",{class:"di-form-label"},"GitHub Issue",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[19]||(t[19]=a=>b.value=a),type:"text",placeholder:"#123",class:"di-input"},null,512),[[e.vModelText,b.value]])]),e.createElementVNode("div",cl,[t[51]||(t[51]=e.createElementVNode("label",{class:"di-form-label"},"GitHub PR",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[20]||(t[20]=a=>h.value=a),type:"text",placeholder:"#456",class:"di-input"},null,512),[[e.vModelText,h.value]])])]),e.createElementVNode("div",ul,[t[52]||(t[52]=e.createElementVNode("label",{class:"di-form-label"},"関連ドキュメント",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[21]||(t[21]=a=>N.value=a),type:"text",placeholder:"https://docs.example.com/...",class:"di-input"},null,512),[[e.vModelText,N.value]])])],64)):e.createCommentVNode("",!0),i.value==="meta"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[e.createElementVNode("div",ml,[t[53]||(t[53]=e.createElementVNode("label",{class:"di-form-label"},"使用Piniaストア (カンマ区切り)",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[22]||(t[22]=a=>g.value=a),type:"text",placeholder:"useUserStore, useThemeStore",class:"di-input di-input-mono"},null,512),[[e.vModelText,g.value]])]),e.createElementVNode("div",vl,[t[54]||(t[54]=e.createElementVNode("label",{class:"di-form-label"},"使用コンポーネント (カンマ区切り)",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[23]||(t[23]=a=>B.value=a),type:"text",placeholder:"Button, Modal, Input",class:"di-input di-input-mono"},null,512),[[e.vModelText,B.value]])]),e.createElementVNode("div",pl,[t[55]||(t[55]=e.createElementVNode("label",{class:"di-form-label"},"i18nキー (カンマ区切り)",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[24]||(t[24]=a=>y.value=a),type:"text",placeholder:"common.save, errors.required",class:"di-input di-input-mono"},null,512),[[e.vModelText,y.value]])]),e.createElementVNode("div",fl,[t[56]||(t[56]=e.createElementVNode("label",{class:"di-form-label"},"デザイントークン (カンマ区切り)",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[25]||(t[25]=a=>n.value=a),type:"text",placeholder:"primaryColor, secondaryColor",class:"di-input di-input-mono"},null,512),[[e.vModelText,n.value]])]),e.createElementVNode("div",kl,[t[57]||(t[57]=e.createElementVNode("label",{class:"di-form-label"},"アクセシビリティ",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[26]||(t[26]=a=>p.value=a),rows:"2",placeholder:"キーボード操作、スクリーンリーダー対応などのメモ...",class:"di-textarea"},null,512),[[e.vModelText,p.value]])]),e.createElementVNode("div",yl,[t[58]||(t[58]=e.createElementVNode("label",{class:"di-form-label"},"レスポンシブ動作",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[27]||(t[27]=a=>d.value=a),rows:"2",placeholder:"モバイルでの表示変更、ブレークポイントなど...",class:"di-textarea"},null,512),[[e.vModelText,d.value]])])],64)):e.createCommentVNode("",!0)]),e.createElementVNode("div",hl,[e.createElementVNode("button",{onClick:se,class:"di-btn-delete"},[e.createVNode(e.unref(Z),{style:{width:"14px",height:"14px"}}),t[59]||(t[59]=e.createTextVNode(" 削除 ",-1))]),e.createElementVNode("div",El,[e.createElementVNode("button",{onClick:z,class:"di-btn-cancel"},"キャンセル"),e.createElementVNode("button",{onClick:ae,class:"di-btn-save"},[e.createVNode(e.unref(we),{style:{width:"14px",height:"14px"}}),t[60]||(t[60]=e.createTextVNode(" 保存 ",-1))])])])])])):e.createCommentVNode("",!0)]))}}),Q=O(Vl,[["__scopeId","data-v-fdafa9a6"]]),bl={class:"di-highlight-label"},Nl={key:1,"data-dev-inspector":"",class:"di-pick-banner"},gl=["onClick"],xl=["onClick"],wl={"data-dev-inspector":"",class:"di-scan-banner"},Bl=e.defineComponent({__name:"DevPickOverlay",setup(r){const l=U.useDevInspectorStore(),i=e.ref(null),v=e.ref(null),V=e.ref(0),x=e.ref(0);function w(f){var o;const m=l.getElementConfig(f);if(!(m!=null&&m.sourceBinding)){const E=((o=m==null?void 0:m.note)==null?void 0:o.type)||"info";return{info:"#60a5fa",warning:"#fbbf24",todo:"#10b981",question:"#a78bfa"}[E]||"#60a5fa"}return m.sourceBinding.isStatic?"#10b981":m.sourceBinding.type==="v-model"?"#8b5cf6":m.sourceBinding.type==="api"?"#f59e0b":"#60a5fa"}const M=e.computed(()=>{var b,h;const f=V.value,m=x.value,o=[];if(!l.isEnabled)return o;const E=l.getConfiguredSelectors();for(const N of E)try{const g=document.querySelector(N);if(g){const B=g.getBoundingClientRect(),y=l.getElementConfig(N),n=((b=y==null?void 0:y.sourceBinding)==null?void 0:b.isStatic)||!1,p=((h=y==null?void 0:y.sourceBinding)==null?void 0:h.type)||"";let d="";n?d="固定":p==="v-model"?d="フォーム":p==="api"?d="データ":d="メモ",o.push({selector:N,top:`${B.top+f}px`,left:`${B.left+m}px`,width:`${B.width}px`,height:`${B.height}px`,color:w(N),isStatic:n,label:d})}}catch{}return o}),u=e.computed(()=>{var E;const f=V.value,m=x.value,o=[];if(!l.isEnabled||l.scanResults.length===0)return o;for(const b of l.scanResults)try{const h=document.querySelector(b.selector);if(h){const N=h.getBoundingClientRect();o.push({selector:b.selector,top:`${N.top+f}px`,left:`${N.left+m}px`,width:`${N.width}px`,height:`${N.height}px`,isStatic:((E=b.detected.sourceBinding)==null?void 0:E.isStatic)||!1})}}catch{}return o});function c(f){if(!l.isPickMode)return;if(f.target.closest("[data-dev-inspector]")){i.value=null,v.value=null,l.setHoveredSelector(null);return}const o=document.elementFromPoint(f.clientX,f.clientY);if(!o||o===document.body||o===document.documentElement){i.value=null,v.value=null,l.setHoveredSelector(null);return}if(o.closest("[data-dev-inspector]"))return;v.value=o;const E=o.getBoundingClientRect();i.value={top:`${E.top+window.scrollY}px`,left:`${E.left+window.scrollX}px`,width:`${E.width}px`,height:`${E.height}px`};const b=l.generateSelector(o);l.setHoveredSelector(b)}function $(f){if(!(!l.isPickMode||f.target.closest("[data-dev-inspector]"))&&(f.preventDefault(),f.stopPropagation(),v.value)){const o=l.generateSelector(v.value);l.startEditing(o),l.togglePickMode()}}function D(f){f.key==="Escape"&&l.isPickMode&&l.togglePickMode()}function C(){V.value=window.scrollY,x.value=window.scrollX}return e.onMounted(()=>{window.addEventListener("mousemove",c,!0),window.addEventListener("click",$,!0),window.addEventListener("keydown",D),window.addEventListener("scroll",C),window.addEventListener("resize",C)}),e.onUnmounted(()=>{window.removeEventListener("mousemove",c,!0),window.removeEventListener("click",$,!0),window.removeEventListener("keydown",D),window.removeEventListener("scroll",C),window.removeEventListener("resize",C)}),e.watch(()=>l.isPickMode,f=>{f||(i.value=null,v.value=null)}),(f,m)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(l).isPickMode&&i.value?(e.openBlock(),e.createElementBlock("div",{key:0,"data-dev-inspector":"",class:"di-highlight",style:e.normalizeStyle({top:i.value.top,left:i.value.left,width:i.value.width,height:i.value.height})},[e.createElementVNode("div",bl,e.toDisplayString(e.unref(l).hoveredSelector),1)],4)):e.createCommentVNode("",!0),e.unref(l).isPickMode?(e.openBlock(),e.createElementBlock("div",Nl,[...m[1]||(m[1]=[e.createElementVNode("span",null,"要素をクリックしてメモを追加",-1),e.createElementVNode("kbd",null,"ESC",-1),e.createElementVNode("span",{class:"di-pick-hint"},"でキャンセル",-1)])])):e.createCommentVNode("",!0),e.unref(l).isEnabled&&!e.unref(l).isPickMode&&!e.unref(l).isEditMode&&e.unref(l).scanResults.length===0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(M.value,o=>(e.openBlock(),e.createElementBlock("div",{key:o.selector,"data-dev-inspector":"",class:"di-annotation-box",style:e.normalizeStyle({top:o.top,left:o.left,width:o.width,height:o.height,borderColor:o.color,backgroundColor:o.color+"15"}),onClick:E=>e.unref(l).startEditing(o.selector)},[e.createElementVNode("div",{class:"di-annotation-label",style:e.normalizeStyle({backgroundColor:o.color})},e.toDisplayString(o.label),5)],12,gl))),128)):e.createCommentVNode("",!0),e.unref(l).isEnabled&&u.value.length>0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.value,o=>(e.openBlock(),e.createElementBlock("div",{key:"scan-"+o.selector,"data-dev-inspector":"",class:e.normalizeClass(["di-scan-highlight",{"di-scan-static":o.isStatic}]),style:e.normalizeStyle({top:o.top,left:o.left,width:o.width,height:o.height}),onClick:E=>e.unref(l).startEditing(o.selector)},[e.createElementVNode("div",{class:e.normalizeClass(["di-scan-label",{"di-scan-label-static":o.isStatic}])},e.toDisplayString(o.isStatic?"固定文言":"動的データ"),3)],14,xl))),128)),e.createElementVNode("div",wl,[e.createElementVNode("span",null,e.toDisplayString(u.value.length)+"件の要素を検出",1),e.createElementVNode("button",{onClick:m[0]||(m[0]=o=>e.unref(l).clearScanResults()),class:"di-scan-banner-close"},"✕ 閉じる")])],64)):e.createCommentVNode("",!0)]))}}),ee=O(Bl,[["__scopeId","data-v-b1dcdc2d"]]),Cl={key:0,"data-dev-inspector":""},te=e.defineComponent({__name:"DevInspector",props:{storageKey:{default:"devInspector:elementConfigs"},enabledInProduction:{type:Boolean,default:!1},initialAnnotations:{}},setup(r){const l=r,i=U.useDevInspectorStore();return e.onMounted(()=>{i.init({storageKey:l.storageKey,enabledInProduction:l.enabledInProduction,initialAnnotations:l.initialAnnotations})}),(v,V)=>e.unref(i).isAvailable?(e.openBlock(),e.createElementBlock("div",Cl,[e.createVNode(W),e.createVNode(Q),e.createVNode(ee)])):e.createCommentVNode("",!0)}}),le={install(r,l={}){const{autoRegister:i=!0,...v}=l;i&&r.component("DevInspector",te),r.provide("devInspectorOptions",v)}};exports.useDevInspector=U.useDevInspector;exports.useDevInspectorStore=U.useDevInspectorStore;exports.DevElementEditor=Q;exports.DevInspector=te;exports.DevPanel=W;exports.DevPickOverlay=ee;exports.VueDevInspector=le;exports.default=le;
