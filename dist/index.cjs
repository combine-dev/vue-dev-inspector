"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),Qe=require("./useDevInspector-Bxvh7Pjs.cjs"),Vo=require("./vite.cjs");/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var at={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=T=>T.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S=(T,a)=>({size:E,strokeWidth:k=2,absoluteStrokeWidth:I,color:F,class:z,...Z},{attrs:J,slots:B})=>e.h("svg",{...at,width:E||at.width,height:E||at.height,stroke:F||at.stroke,"stroke-width":I?Number(k)*24/Number(E):k,...J,class:["lucide",`lucide-${ho(T)}`],...Z},[...a.map(U=>e.h(...U)),...B.default?[B.default()]:[]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=S("AlertCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=S("AlertTriangleIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=S("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=S("CalculatorIcon",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=S("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=S("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=S("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=S("ClipboardListIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=S("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=S("CodeIcon",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=S("DatabaseIcon",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=S("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=S("ExternalLinkIcon",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=S("EyeOffIcon",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=S("EyeIcon",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=S("FileSpreadsheetIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=S("FileTextIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=S("FormInputIcon",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=S("GitBranchIcon",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=S("GitMergeIcon",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=S("ListIcon",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=S("LockIcon",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=S("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=S("MessageSquareIcon",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=S("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=S("MousePointer2Icon",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=S("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=S("PenSquareIcon",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=S("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=S("SaveIcon",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=S("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=S("ServerIcon",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=S("ShieldQuestionIcon",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=S("ShieldIcon",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=S("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=S("TypeIcon",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=S("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=S("Wand2Icon",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=S("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=S("ZapIcon",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);async function zo(T,a,E={}){var K;const k=await Promise.resolve().then(()=>require("./xlsx-qn1xoUuv.cjs")),{systemName:I="System",author:F=""}=E,z=new Date,Z=`${z.getFullYear()}/${z.getMonth()+1}/${z.getDate()}`,J=k.utils.book_new(),B=[];B.push(["画面機能仕様書","","","","","","","","","","","システム名","","","","",I,"","","","","","画面ID/画面名","","","","",(T==null?void 0:T.name)||"","","","","","","作成者","","","","",F,"","作成日","","","","",Z]),B.push([]),B.push(["URL","","","","","","","","","","","画面英語名","","","","","","","","","","","View Component","","","","",(T==null?void 0:T.componentPath)||"","","","","","","Figma URL","","","","",(T==null?void 0:T.figmaUrl)||""]),B.push([]),B.push(["機能概要"]),B.push([(T==null?void 0:T.description)||""]),B.push([]),B.push(["画面レイアウト　figmaURL"]),B.push([(T==null?void 0:T.figmaUrl)||""]),B.push([]),T!=null&&T.apis&&T.apis.length>0&&(B.push(["API一覧"]),B.push(["","メソッド","","エンドポイント","","","","","","","","説明"]),T.apis.forEach(N=>{B.push(["",N.method,"",N.endpoint,"","","","","","","",N.description])}),B.push([])),B.push(["画面項目　ヘッダーフッターは省く"]),B.push(["","No.","","項目名","","","","","","","","","","","","説明","","","","","","","","","","","","","","","","表示条件","","","","","","","","","","","","","","","備考"]),Object.values(a).forEach((N,le)=>{var pe,ve,w;const me=N.id;let se="",Be="",Q="";if((pe=N.note)!=null&&pe.text&&(se=N.note.text),N.fieldInfo&&(se+=se?`
`:"",se+=`DB: ${N.fieldInfo.table}.${N.fieldInfo.column}`,N.fieldInfo.type&&(se+=` (${N.fieldInfo.type})`),N.fieldInfo.description&&(se+=`
${N.fieldInfo.description}`)),N.actionInfo&&(Q=`[${{navigate:"画面遷移",api:"API呼び出し",modal:"モーダル表示",emit:"イベント発火",function:"関数実行",csv_export:"CSV出力",csv_import:"CSV取込",email:"メール送信",sort:"ソート"}[N.actionInfo.type]||N.actionInfo.type}]`,N.actionInfo.target&&(Q+=` ${N.actionInfo.method||""} ${N.actionInfo.target}`),N.actionInfo.description&&(Q+=`
${N.actionInfo.description}`)),N.links){const V=[];N.links.testPath&&V.push(`テスト: ${N.links.testPath}`),N.links.figmaUrl&&V.push(`Figma: ${N.links.figmaUrl}`),N.links.githubIssue&&V.push(`Issue: ${N.links.githubIssue}`),N.links.githubPr&&V.push(`PR: ${N.links.githubPr}`),V.length>0&&(Q+=Q?`

`:"",Q+=V.join(`
`))}if(N.devMeta){const V=[];(ve=N.devMeta.usedStores)!=null&&ve.length&&V.push(`Store: ${N.devMeta.usedStores.join(", ")}`),(w=N.devMeta.usedComponents)!=null&&w.length&&V.push(`Components: ${N.devMeta.usedComponents.join(", ")}`),N.devMeta.accessibility&&V.push(`A11y: ${N.devMeta.accessibility}`),N.devMeta.responsive&&V.push(`Responsive: ${N.devMeta.responsive}`),V.length>0&&(Q+=Q?`

`:"",Q+=`[開発情報]
`+V.join(`
`))}B.push(["",le+1,"",me,"","","","","","","","","","","",se,"","","","","","","","","","","","","","","",Be,"","","","","","","","","","","","","","",Q])});const R=k.utils.aoa_to_sheet(B);R["!cols"]=[{wch:3},{wch:5},{wch:3},{wch:20},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:30},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:20},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:30}],k.utils.book_append_sheet(J,R,"画面設計書");const oe=`画面仕様書_${((K=T==null?void 0:T.name)==null?void 0:K.replace(/[/\\?%*:|"<>]/g,"-"))||"screen"}_${Z.replace(/\//g,"")}.xlsx`;return k.writeFile(J,oe),oe}const Oo={key:0,class:"di-panel","data-dev-inspector":""},jo={class:"di-header"},qo={class:"di-header-title"},Ho={class:"di-tab-bar"},Ro={key:0,class:"di-tab-badge"},Ko={key:0,class:"di-tab-badge"},Yo={key:0,class:"di-tab-badge"},Go={class:"di-edit-section"},Xo={class:"di-note-toggle-badge"},Zo={key:1,class:"di-note-filter"},Jo={class:"di-filter-buttons"},Qo=["onClick"],Wo={key:2,class:"di-element-list-section"},el={class:"di-element-list-header"},tl={class:"di-count-badge"},ol={key:0},ll={key:0,class:"di-element-list"},nl=["onClick","onMouseenter"],al={class:"di-element-item-body"},il={class:"di-element-item-label"},sl={key:1,class:"di-modal-group"},dl={class:"di-modal-group-icon"},rl={class:"di-count-badge"},cl={key:0,class:"di-element-list"},ul=["onClick","onMouseenter"],ml={class:"di-element-item-body"},pl={class:"di-element-item-label"},vl={key:0,class:"di-unannotated-badge"},fl={key:3,class:"di-unannotated-results"},Vl={class:"di-unannotated-summary"},hl={key:0},El={key:1},yl={key:2},kl={class:"di-unannotated-list"},Nl=["onMouseenter"],bl={class:"di-unannotated-text"},gl=["onClick"],xl=["onClick"],wl={key:4,class:"di-unannotated-empty"},Bl={key:5,class:"di-broken-warning"},Cl={class:"di-broken-header"},$l={class:"di-broken-list"},Dl={class:"di-broken-item-info"},Sl={class:"di-broken-item-note"},Tl={class:"di-broken-item-selector"},Ml={class:"di-broken-item-actions"},_l=["onClick"],Il=["onClick"],Ul={class:"di-broken-actions"},Ll={class:"di-content"},Fl={class:"di-section"},Pl={class:"di-screen-header"},Al={class:"di-screen-name"},zl={key:0,class:"di-screen-desc"},Ol={key:1,class:"di-auth-badges"},jl={key:0,class:"di-auth-badge di-auth-required"},ql={key:1,class:"di-auth-note"},Hl={key:0,class:"di-card"},Rl={class:"di-card-label"},Kl={class:"di-code-blue"},Yl={key:1,class:"di-card"},Gl={class:"di-card-label"},Xl=["href"],Zl={key:2,class:"di-card"},Jl={class:"di-card-label"},Ql={class:"di-api-list"},Wl={class:"di-api-info"},en={class:"di-api-endpoint"},tn={key:0,class:"di-api-desc"},on={key:0,class:"di-api-timing-badge"},ln={key:3,class:"di-card"},nn={class:"di-card-label"},an={class:"di-screen-notes"},sn={key:1,class:"di-no-spec"},dn={class:"di-card di-cross-search-section"},rn={class:"di-cross-search-header"},cn={class:"di-cross-search-body"},un={class:"di-filter-buttons",style:{"margin-bottom":"8px"}},mn=["onClick"],pn=["placeholder"],vn={key:0,class:"di-cross-search-count"},fn={key:1,class:"di-cross-search-results"},Vn={class:"di-cross-search-page-header"},hn={key:0,class:"di-cross-search-page-name"},En=["onClick"],yn={class:"di-cross-search-field"},kn={key:0,class:"di-cross-search-context"},Nn={class:"di-card di-screen-flow-section"},bn={key:0,class:"di-screen-flow-badge"},gn={key:0,class:"di-screen-flow-body"},xn={key:0,class:"di-screen-flow-empty"},wn={class:"di-flow-node-path"},Bn={key:0,class:"di-flow-node-name"},Cn=["onClick"],$n={class:"di-flow-target"},Dn={key:0,class:"di-flow-edge-label"},Sn={key:1,class:"di-flow-orphans"},Tn={class:"di-section"},Mn={class:"di-section-header",style:{"margin-bottom":"8px"}},_n={key:0,class:"di-section-badge"},In={class:"di-master-table-name"},Un=["onClick"],Ln={class:"di-master-item-header"},Fn={class:"di-master-col-name"},Pn={key:0,class:"di-master-col-type"},An={class:"di-master-item-name"},zn={class:"di-master-entries-preview"},On={key:0,class:"di-master-entry-more"},jn={class:"di-master-editor"},qn={class:"di-master-editor-header"},Hn={class:"di-master-editor-body"},Rn={class:"di-master-row"},Kn={class:"di-master-field"},Yn=["disabled"],Gn={class:"di-master-field"},Xn=["disabled"],Zn={class:"di-master-row"},Jn={class:"di-master-field"},Qn={class:"di-master-field"},Wn={class:"di-master-field",style:{"margin-bottom":"12px"}},ea={class:"di-master-entries-header"},ta={class:"di-master-entries-list"},oa=["onUpdate:modelValue"],la=["onUpdate:modelValue"],na=["onUpdate:modelValue"],aa=["onUpdate:modelValue"],ia=["onClick"],sa={class:"di-master-entries-header",style:{"margin-top":"16px"}},da={key:0,class:"di-master-entries-list"},ra=["onUpdate:modelValue"],ca=["value"],ua=["onUpdate:modelValue"],ma=["value"],pa=["onUpdate:modelValue"],va=["onUpdate:modelValue"],fa=["onClick"],Va={key:1,class:"di-master-empty",style:{"margin-top":"4px","font-size":"11px"}},ha={class:"di-master-editor-footer"},Ea=["disabled"],ya={class:"di-section"},ka={class:"di-section-header",style:{"margin-bottom":"8px"}},Na={key:0,class:"di-section-badge"},ba=["onClick"],ga={class:"di-batch-item-info"},xa={class:"di-batch-item-name"},wa={key:0,class:"di-batch-item-schedule"},Ba={class:"di-batch-editor"},Ca={class:"di-batch-editor-header"},$a={class:"di-batch-editor-body"},Da={class:"di-batch-row"},Sa={class:"di-batch-field"},Ta={class:"di-batch-field"},Ma={class:"di-batch-row"},_a={class:"di-batch-field"},Ia={class:"di-batch-field",style:{"margin-bottom":"12px"}},Ua={class:"di-batch-row"},La={class:"di-batch-field"},Fa={class:"di-batch-tags-input"},Pa=["onClick"],Aa={class:"di-batch-field"},za={class:"di-batch-tags-input"},Oa=["onClick"],ja={class:"di-batch-section-label"},qa={key:0},Ha={class:"di-batch-step-no"},Ra=["onUpdate:modelValue"],Ka=["onUpdate:modelValue"],Ya=["onUpdate:modelValue"],Ga=["onUpdate:modelValue"],Xa=["onClick"],Za={class:"di-batch-row"},Ja={class:"di-batch-field"},Qa={class:"di-batch-field"},Wa={class:"di-batch-row"},ei={class:"di-batch-field"},ti={class:"di-batch-field"},oi={class:"di-batch-editor-footer"},li=["disabled"],ni={class:"di-export-buttons"},ai={class:"di-action-buttons"},ii={key:0,class:"di-export-summary"},si={class:"di-export-summary-row"},di={class:"di-export-summary-count"},ri={class:"di-export-summary-row"},ci={class:"di-export-summary-count"},ui={class:"di-export-summary-row"},mi={class:"di-export-summary-count"},pi={key:0,class:"di-indicator","data-dev-inspector":""},vi={class:"di-modal"},fi=["value"],Vi={class:"di-modal-actions"},hi={class:"di-modal"},Ei={class:"di-file-drop"},yi={key:0,class:"di-error"},ki={class:"di-modal-actions"},Ni=["disabled"],bi=e.defineComponent({__name:"DevPanel",setup(T){const a=Qe.useDevInspectorStore(),E=e.ref("elements"),k=e.ref(!1),I=e.ref(!1),F=e.ref(""),z=e.ref(""),Z={GET:"#10b981",POST:"#3b82f6",PUT:"#f59e0b",DELETE:"#ef4444",PATCH:"#8b5cf6"},J=e.computed(()=>a.currentScreenSpec),B=e.computed(()=>a.getScreenConfig()),U=e.computed(()=>{var n;const s=B.value,o=J.value;return!s&&!o?null:{name:(s==null?void 0:s.name)||(o==null?void 0:o.name)||"",description:(s==null?void 0:s.description)||(o==null?void 0:o.description)||"",componentPath:(s==null?void 0:s.componentPath)||(o==null?void 0:o.componentPath)||"",figmaUrl:(s==null?void 0:s.figmaUrl)||(o==null?void 0:o.figmaUrl)||"",apis:(s==null?void 0:s.apis)||((n=o==null?void 0:o.apis)==null?void 0:n.map(m=>({...m,loadTiming:void 0})))||[],auth:(s==null?void 0:s.auth)||null,notes:(s==null?void 0:s.notes)||(o!=null&&o.notes?o.notes.join(`
`):"")}}),R=e.computed(()=>Object.keys(a.elementConfigs).length),te=e.computed(()=>{const s=typeof window<"u"?window.location.pathname:"/";return Object.entries(a.elementConfigs).filter(([,o])=>!o.pagePath||o.pagePath===s).map(([o,n])=>{var u,A,H;let m="";return(u=n.note)!=null&&u.text?m=n.note.text:n.fieldInfo?m=`${n.fieldInfo.table}.${n.fieldInfo.column}`:(A=n.actionInfo)!=null&&A.description?m=n.actionInfo.description:(H=n.actionInfo)!=null&&H.type?(m={navigate:"画面遷移",api:"API",modal:"モーダル",emit:"イベント",function:"関数",csv_export:"CSV出力",csv_import:"CSV取込",email:"メール送信"}[n.actionInfo.type]||n.actionInfo.type,n.actionInfo.target&&(m+=` → ${n.actionInfo.target}`)):n.formInfo&&(m=n.formInfo.label||n.formInfo.inputType||"フォーム"),m||(m=o),{id:o,desc:m,type:n.elementType,isConditional:!!n.isConditional,config:n}})}),oe=e.computed(()=>{const s=a.noteHighlightFilter;return s==="all"?te.value:te.value.filter(o=>{var H,i,Oe,Ee,L;const n=o.config,m=(H=n.note)==null?void 0:H.displayType,u=!!((i=n.note)!=null&&i.condition||(Oe=n.note)!=null&&Oe.conditionColumn),A=!!((Ee=n.note)!=null&&Ee.storedCalc);switch(s){case"db":return m==="db_direct"||m==="db_formatted";case"calculated":return m==="calculated";case"storedCalc":return A;case"static":return m==="static";case"conditional":return u;case"action":return n.elementType==="action";case"form":return n.elementType==="form";case"other":return m==="other"||!m&&!n.elementType&&!!((L=n.note)!=null&&L.text);default:return!0}})}),K=e.computed(()=>oe.value.filter(s=>!s.isConditional)),N=e.computed(()=>oe.value.filter(s=>s.isConditional)),le=e.ref(!1),me=e.computed(()=>Object.values(a.elementConfigs).filter(s=>{var o,n;return!!((o=s.note)!=null&&o.text||(n=s.note)!=null&&n.displayType)}).length),se=e.computed(()=>{const s=a.noteHighlightFilter;return s==="all"?me.value:Object.values(a.elementConfigs).filter(o=>{var A,H,i,Oe,Ee,L,ie;if(!((A=o.note)!=null&&A.text||(H=o.note)!=null&&H.displayType||o.elementType))return!1;const n=(i=o.note)==null?void 0:i.displayType,m=!!((Oe=o.note)!=null&&Oe.condition||(Ee=o.note)!=null&&Ee.conditionColumn),u=!!((L=o.note)!=null&&L.storedCalc);switch(s){case"db":return n==="db_direct"||n==="db_formatted";case"calculated":return n==="calculated";case"storedCalc":return u;case"static":return n==="static";case"conditional":return m;case"action":return o.elementType==="action";case"form":return o.elementType==="form";case"other":return n==="other"||!n&&!o.elementType&&!!((ie=o.note)!=null&&ie.text);default:return!0}}).length});function Be(){const s=a.exportConfigs();navigator.clipboard.writeText(s),k.value=!1}function Q(){const s=a.exportConfigs(),o=new Blob([s],{type:"application/json"}),n=URL.createObjectURL(o),m=document.createElement("a");m.href=n,m.download="dev-mode-configs.json",m.click(),URL.revokeObjectURL(n),k.value=!1}function pe(){a.downloadAnnotations()}async function ve(){try{await zo(a.currentScreenSpec,a.elementConfigs,{systemName:"System"})}catch(s){console.error("Failed to export xlsx:",s),alert("xlsx export failed. Make sure xlsx package is installed.")}}function w(){try{a.importConfigs(F.value),F.value="",z.value="",I.value=!1}catch{z.value="JSONの形式が正しくありません"}}function V(s){var u;const n=(u=s.target.files)==null?void 0:u[0];if(!n)return;const m=new FileReader;m.onload=A=>{var H;F.value=(H=A.target)==null?void 0:H.result},m.readAsText(n)}function d(){confirm("すべての要素設定を削除しますか？")&&a.clearAllConfigs()}e.ref("/dev-inspector-analysis.json"),e.ref(!1),e.ref(""),e.ref(0),e.ref(!1);const b=[{value:"all",label:"すべて"},{value:"db",label:"DB"},{value:"calculated",label:"計算値"},{value:"storedCalc",label:"保存計算値"},{value:"static",label:"固定"},{value:"conditional",label:"条件付き"},{value:"action",label:"アクション"},{value:"form",label:"フォーム"},{value:"other",label:"その他"}];e.computed(()=>a.getCurrentPageApis());const P=e.computed(()=>a.brokenAnnotations.length);e.watch(()=>a.isPanelOpen,s=>{s&&a.detectBrokenAnnotations()});function j(){confirm(`${P.value}件の壊れたメモを削除しますか？`)&&a.deleteBrokenAnnotations()}const g=e.ref(!1),$=e.ref(null),f=e.ref({table:"",column:"",name:"",columnType:"",description:"",entries:[],transitions:[]}),p=e.computed(()=>Object.keys(a.masterDefinitions).length),h=e.computed(()=>{const s=Object.values(a.masterDefinitions),o={};for(const n of s)o[n.table]||(o[n.table]=[]),o[n.table].push(n);return o});function G(s){if(s){const o=a.getMasterDefinition(s);o&&($.value=s,f.value={table:o.table,column:o.column,name:o.name,columnType:o.columnType||"",description:o.description||"",entries:[...o.entries.map(n=>({...n}))],transitions:o.transitions?o.transitions.map(n=>({...n})):[]})}else $.value=null,f.value={table:"",column:"",name:"",columnType:"",description:"",entries:[{value:"",label:""}],transitions:[]};g.value=!0}function M(){const s=f.value;if(!s.table||!s.column)return;const o=`${s.table}.${s.column}`,n=s.transitions.filter(u=>u.from||u.to||u.trigger),m={id:o,table:s.table,column:s.column,name:s.name||s.column,columnType:s.columnType||void 0,description:s.description||void 0,entries:s.entries.filter(u=>u.value||u.label),transitions:n.length>0?n:void 0,updatedAt:new Date().toISOString()};a.setMasterDefinition(m),g.value=!1}function he(){f.value.entries.push({value:"",label:""})}function Y(s){f.value.entries.splice(s,1)}function Ne(){f.value.transitions.push({from:"",to:"",trigger:""})}function be(s){f.value.transitions.splice(s,1)}function Se(s){confirm(`マスタ定義「${s}」を削除しますか？`)&&a.deleteMasterDefinition(s)}const ce=e.ref(!1),ue=e.ref(null),x=e.ref({name:"",schedule:"",trigger:"",description:"",inputTables:[],outputTables:[],steps:[],timeout:"",retryPolicy:"",notifyOnError:"",notifyOnComplete:""}),fe=e.ref(""),X=e.ref(""),q=e.computed(()=>Object.keys(a.batchDefinitions).length),de=e.computed(()=>Object.values(a.batchDefinitions));function ge(s){if(s){const o=a.getBatchDefinition(s);o&&(ue.value=s,x.value={name:o.name,schedule:o.schedule||"",trigger:o.trigger||"",description:o.description||"",inputTables:o.inputTables?[...o.inputTables]:[],outputTables:o.outputTables?[...o.outputTables]:[],steps:o.steps.map(n=>({...n})),timeout:o.timeout||"",retryPolicy:o.retryPolicy||"",notifyOnError:o.notifyOnError||"",notifyOnComplete:o.notifyOnComplete||""})}else ue.value=null,x.value={name:"",schedule:"",trigger:"",description:"",inputTables:[],outputTables:[],steps:[{order:1,description:""}],timeout:"",retryPolicy:"",notifyOnError:"",notifyOnComplete:""};fe.value="",X.value="",ce.value=!0}function C(){const s=x.value;if(!s.name)return;const n={id:ue.value||`batch_${s.name.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}`,name:s.name,schedule:s.schedule||void 0,trigger:s.trigger||void 0,description:s.description||void 0,inputTables:s.inputTables.length>0?s.inputTables:void 0,outputTables:s.outputTables.length>0?s.outputTables:void 0,steps:s.steps.filter(m=>m.description).map((m,u)=>({...m,order:u+1})),timeout:s.timeout||void 0,retryPolicy:s.retryPolicy||void 0,notifyOnError:s.notifyOnError||void 0,notifyOnComplete:s.notifyOnComplete||void 0,updatedAt:new Date().toISOString()};a.setBatchDefinition(n),ce.value=!1}function O(){const s=x.value.steps.length+1;x.value.steps.push({order:s,description:""})}function _(s){x.value.steps.splice(s,1)}function W(s){var o;confirm(`バッチ定義「${((o=a.getBatchDefinition(s))==null?void 0:o.name)||s}」を削除しますか？`)&&a.deleteBatchDefinition(s)}function Ce(){const s=fe.value.trim();s&&!x.value.inputTables.includes(s)&&x.value.inputTables.push(s),fe.value=""}function Te(s){x.value.inputTables.splice(s,1)}function Ue(){const s=X.value.trim();s&&!x.value.outputTables.includes(s)&&x.value.outputTables.push(s),X.value=""}function Ve(s){x.value.outputTables.splice(s,1)}const ne=[{value:"column",label:"カラム",placeholder:"users.email, orders..."},{value:"api",label:"API",placeholder:"GET /api/users..."},{value:"text",label:"テキスト",placeholder:"メモ、説明文で検索..."}],Re=e.computed(()=>{var s;return((s=ne.find(o=>o.value===a.crossSearchMode))==null?void 0:s.placeholder)||"検索..."}),Me=e.computed(()=>{const s={};for(const o of a.crossSearchResults)s[o.pagePath]||(s[o.pagePath]={pagePath:o.pagePath,pageName:o.pageName,items:[]}),s[o.pagePath].items.push(o);return Object.values(s)}),Le=e.computed(()=>Me.value.length),xe=e.computed(()=>{const s=a.unannotatedElements;return{binding:s.filter(o=>o.category==="binding").length,form:s.filter(o=>o.category==="form").length,action:s.filter(o=>o.category==="action").length}});function Fe(){a.showUnannotatedDetection?(a.showUnannotatedDetection=!1,a.unannotatedElements=[],a.hoveredUnannotatedSelector=null):(a.showUnannotatedDetection=!0,a.detectUnannotatedElements())}function Pe(s){a.unannotatedElements=a.unannotatedElements.filter(o=>o.selector!==s)}function ye(s){a.hoveredUnannotatedSelector=s;try{const o=document.querySelector(s);if(!o)return;const n=o.getBoundingClientRect();(n.bottom<0||n.top>window.innerHeight)&&o.scrollIntoView({behavior:"smooth",block:"center"})}catch{}}function Ae(){a.hoveredUnannotatedSelector=null}function ke(s){a.hoveredSelector=s;try{const o=document.querySelector(s);if(!o)return;const n=o.getBoundingClientRect();(n.bottom<0||n.top>window.innerHeight)&&o.scrollIntoView({behavior:"smooth",block:"center"})}catch{}}function $e(){a.hoveredSelector=null}const Ke=e.computed(()=>typeof window<"u"?window.location.pathname:"/"),ze=e.computed(()=>{const s=a.screenFlowData,o={};for(const n of s.edges){if(!o[n.from]){const m=s.nodes.find(u=>u.path===n.from)||{path:n.from,name:n.from,annotationCount:0};o[n.from]={node:m,edges:[]}}o[n.from].edges.push(n)}return Object.values(o)});function _e(s){s&&a.startEditing(s)}return(s,o)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(a).isEnabled&&!e.unref(a).isPanelOpen?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[0]||(o[0]=(...n)=>e.unref(a).openPanel&&e.unref(a).openPanel(...n)),class:"di-fab",title:"画面仕様を表示","data-dev-inspector":""},[e.createVNode(e.unref(it),{style:{width:"20px",height:"20px"}})])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(a).isEnabled&&e.unref(a).isPanelOpen?(e.openBlock(),e.createElementBlock("div",Oo,[e.createElementVNode("div",jo,[e.createElementVNode("div",qo,[e.createVNode(e.unref(wt),{style:{width:"20px",height:"20px",color:"#60a5fa"}}),o[53]||(o[53]=e.createElementVNode("span",null,"Developer Mode",-1))]),e.createElementVNode("button",{onClick:o[1]||(o[1]=(...n)=>e.unref(a).closePanel&&e.unref(a).closePanel(...n)),class:"di-close-btn"},[e.createVNode(e.unref(Ie),{style:{width:"20px",height:"20px"}})])]),e.createElementVNode("div",Ho,[e.createElementVNode("button",{onClick:o[2]||(o[2]=n=>E.value="elements"),class:e.normalizeClass(["di-tab-btn",{active:E.value==="elements"}])},[e.createVNode(e.unref($t),{style:{width:"14px",height:"14px"}}),o[54]||(o[54]=e.createElementVNode("span",null,"要素設定",-1)),R.value>0?(e.openBlock(),e.createElementBlock("span",Ro,e.toDisplayString(R.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("button",{onClick:o[3]||(o[3]=n=>E.value="masters"),class:e.normalizeClass(["di-tab-btn",{active:E.value==="masters"}])},[e.createVNode(e.unref(Ge),{style:{width:"14px",height:"14px"}}),o[55]||(o[55]=e.createElementVNode("span",null,"マスタ",-1)),p.value>0?(e.openBlock(),e.createElementBlock("span",Ko,e.toDisplayString(p.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("button",{onClick:o[4]||(o[4]=n=>E.value="batches"),class:e.normalizeClass(["di-tab-btn",{active:E.value==="batches"}])},[e.createVNode(e.unref(xt),{style:{width:"14px",height:"14px"}}),o[56]||(o[56]=e.createElementVNode("span",null,"バッチ",-1)),q.value>0?(e.openBlock(),e.createElementBlock("span",Yo,e.toDisplayString(q.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("button",{onClick:o[5]||(o[5]=n=>E.value="export"),class:e.normalizeClass(["di-tab-btn",{active:E.value==="export"}])},[e.createVNode(e.unref(ut),{style:{width:"14px",height:"14px"}}),o[57]||(o[57]=e.createElementVNode("span",null,"出力",-1))],2)]),e.withDirectives(e.createElementVNode("div",Go,[e.createElementVNode("button",{onClick:o[6]||(o[6]=(...n)=>e.unref(a).togglePickMode&&e.unref(a).togglePickMode(...n)),class:e.normalizeClass(["di-pick-btn",{active:e.unref(a).isPickMode}])},[e.createVNode(e.unref(Ct),{style:{width:"16px",height:"16px"}}),e.createElementVNode("span",null,e.toDisplayString(e.unref(a).isPickMode?"要素選択中...":"任意の要素にメモを追加"),1)],2),me.value>0?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[7]||(o[7]=(...n)=>e.unref(a).toggleNoteHighlights&&e.unref(a).toggleNoteHighlights(...n)),class:e.normalizeClass(["di-note-toggle-btn",{active:e.unref(a).showNoteHighlights}])},[e.unref(a).showNoteHighlights?(e.openBlock(),e.createBlock(e.unref(Bo),{key:0,style:{width:"14px",height:"14px"}})):(e.openBlock(),e.createBlock(e.unref(wo),{key:1,style:{width:"14px",height:"14px"}})),o[58]||(o[58]=e.createElementVNode("span",null,"メモハイライト",-1)),e.createElementVNode("span",Xo,e.toDisplayString(e.unref(a).noteHighlightFilter==="all"?me.value:`${se.value}/${me.value}`),1)],2)):e.createCommentVNode("",!0),me.value>0&&e.unref(a).showNoteHighlights?(e.openBlock(),e.createElementBlock("div",Zo,[e.createElementVNode("div",Jo,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(b,n=>e.createElementVNode("button",{key:n.value,onClick:m=>e.unref(a).noteHighlightFilter=n.value,class:e.normalizeClass(["di-filter-btn",{active:e.unref(a).noteHighlightFilter===n.value}])},e.toDisplayString(n.label),11,Qo)),64))])])):e.createCommentVNode("",!0),te.value.length>0?(e.openBlock(),e.createElementBlock("div",Wo,[e.createElementVNode("div",el,[e.createVNode(e.unref($t),{style:{width:"14px",height:"14px",color:"#94a3b8"}}),o[59]||(o[59]=e.createElementVNode("span",null,"登録済み要素",-1)),e.createElementVNode("span",tl,[e.createTextVNode(e.toDisplayString(oe.value.length),1),oe.value.length!==te.value.length?(e.openBlock(),e.createElementBlock("span",ol," / "+e.toDisplayString(te.value.length),1)):e.createCommentVNode("",!0)])]),K.value.length>0?(e.openBlock(),e.createElementBlock("div",ll,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(K.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(a).hoveredSelector===n.id}]),onClick:m=>e.unref(a).startEditing(n.id),onMouseenter:m=>ke(n.id),onMouseleave:$e},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(n.type||"other")])},e.toDisplayString(n.type==="datasource"?"DB":n.type==="action"?"Act":n.type==="form"?"Form":"-"),3),e.createElementVNode("div",al,[e.createElementVNode("div",il,e.toDisplayString(n.desc),1)])],42,nl))),128))])):e.createCommentVNode("",!0),N.value.length>0?(e.openBlock(),e.createElementBlock("div",sl,[e.createElementVNode("button",{class:"di-modal-group-header",onClick:o[8]||(o[8]=n=>le.value=!le.value)},[e.createElementVNode("span",dl,e.toDisplayString(le.value?"▼":"▶"),1),o[60]||(o[60]=e.createElementVNode("span",{class:"di-element-conditional-badge"},"M",-1)),o[61]||(o[61]=e.createElementVNode("span",null,"モーダル要素",-1)),e.createElementVNode("span",rl,e.toDisplayString(N.value.length),1)]),le.value?(e.openBlock(),e.createElementBlock("div",cl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(a).hoveredSelector===n.id}]),onClick:m=>e.unref(a).startEditing(n.id),onMouseenter:m=>ke(n.id),onMouseleave:$e},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(n.type||"other")])},e.toDisplayString(n.type==="datasource"?"DB":n.type==="action"?"Act":n.type==="form"?"Form":"-"),3),e.createElementVNode("div",ml,[e.createElementVNode("div",pl,e.toDisplayString(n.desc),1)])],42,ul))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:Fe,class:e.normalizeClass(["di-unannotated-btn",{active:e.unref(a).showUnannotatedDetection}])},[e.createVNode(e.unref(go),{style:{width:"14px",height:"14px"}}),e.createElementVNode("span",null,e.toDisplayString(e.unref(a).showUnannotatedDetection?"未登録検出 ON":"未登録要素を検出"),1),e.unref(a).unannotatedElements.length>0?(e.openBlock(),e.createElementBlock("span",vl,e.toDisplayString(e.unref(a).unannotatedElements.length),1)):e.createCommentVNode("",!0)],2),e.unref(a).showUnannotatedDetection&&e.unref(a).unannotatedElements.length>0?(e.openBlock(),e.createElementBlock("div",fl,[e.createElementVNode("div",Vl,[e.createTextVNode(e.toDisplayString(e.unref(a).unannotatedElements.length)+"件検出: ",1),xe.value.binding>0?(e.openBlock(),e.createElementBlock("span",hl,"バインディング "+e.toDisplayString(xe.value.binding),1)):e.createCommentVNode("",!0),xe.value.form>0?(e.openBlock(),e.createElementBlock("span",El," / フォーム "+e.toDisplayString(xe.value.form),1)):e.createCommentVNode("",!0),xe.value.action>0?(e.openBlock(),e.createElementBlock("span",yl," / アクション "+e.toDisplayString(xe.value.action),1)):e.createCommentVNode("",!0)]),e.createElementVNode("div",kl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a).unannotatedElements,n=>(e.openBlock(),e.createElementBlock("div",{key:n.selector,class:e.normalizeClass(["di-unannotated-item",{"di-unannotated-item-active":e.unref(a).hoveredUnannotatedSelector===n.selector,["di-unannotated-item-"+n.category]:e.unref(a).hoveredUnannotatedSelector===n.selector}]),onMouseenter:m=>ye(n.selector),onMouseleave:Ae},[e.createElementVNode("span",{class:e.normalizeClass(["di-unannotated-category","di-unannotated-cat-"+n.category])},e.toDisplayString(n.category==="binding"?"DB":n.category==="form"?"Form":"Act"),3),e.createElementVNode("span",bl,e.toDisplayString(n.text||n.tagName),1),e.createElementVNode("button",{onClick:m=>e.unref(a).quickAnnotate(n.selector,n.suggestedType),class:"di-unannotated-register"}," 登録 ",8,gl),e.createElementVNode("button",{onClick:m=>Pe(n.selector),class:"di-unannotated-dismiss"},[e.createVNode(e.unref(Ie),{style:{width:"10px",height:"10px"}})],8,xl)],42,Nl))),128))])])):e.createCommentVNode("",!0),e.unref(a).showUnannotatedDetection&&e.unref(a).unannotatedElements.length===0?(e.openBlock(),e.createElementBlock("div",wl," 未登録の要素はありません ")):e.createCommentVNode("",!0),P.value>0?(e.openBlock(),e.createElementBlock("div",Bl,[e.createElementVNode("div",Cl,[e.createVNode(e.unref(yo),{style:{width:"14px",height:"14px",color:"#f59e0b"}}),e.createElementVNode("span",null,e.toDisplayString(P.value)+"件のメモが見つかりません",1)]),o[64]||(o[64]=e.createElementVNode("div",{class:"di-broken-desc"},"コード変更によりセレクタが壊れた可能性があります",-1)),e.createElementVNode("div",$l,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a).brokenAnnotations,n=>{var m,u;return e.openBlock(),e.createElementBlock("div",{key:n,class:"di-broken-item"},[e.createElementVNode("div",Dl,[e.createElementVNode("div",Sl,e.toDisplayString(((u=(m=e.unref(a).elementConfigs[n])==null?void 0:m.note)==null?void 0:u.text)||"(メモなし)"),1),e.createElementVNode("div",Tl,e.toDisplayString(n),1)]),e.createElementVNode("div",Ml,[e.createElementVNode("button",{onClick:A=>e.unref(a).startRemap(n),class:"di-broken-remap-btn",title:"新しい要素に再設定"},[e.createVNode(e.unref(Ct),{style:{width:"12px",height:"12px"}}),o[62]||(o[62]=e.createTextVNode(" 再設定 ",-1))],8,_l),e.createElementVNode("button",{onClick:A=>{e.unref(a).deleteElementConfig(n),e.unref(a).detectBrokenAnnotations()},class:"di-broken-item-delete",title:"削除"},[e.createVNode(e.unref(lt),{style:{width:"12px",height:"12px"}})],8,Il)])])}),128))]),e.createElementVNode("div",Ul,[e.createElementVNode("button",{onClick:j,class:"di-broken-delete-btn"},[e.createVNode(e.unref(lt),{style:{width:"12px",height:"12px"}}),o[63]||(o[63]=e.createTextVNode(" まとめて削除 ",-1))])])])):e.createCommentVNode("",!0),e.createCommentVNode("",!0)],512),[[e.vShow,E.value==="elements"]]),e.createElementVNode("div",Ll,[e.withDirectives(e.createElementVNode("div",null,[U.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Fl,[e.createElementVNode("div",Pl,[e.createElementVNode("h2",Al,e.toDisplayString(U.value.name),1),e.createElementVNode("button",{onClick:o[11]||(o[11]=n=>e.unref(a).editingScreen=!0),class:"di-screen-edit-btn",title:"画面情報を編集"},[e.createVNode(e.unref(Dt),{style:{width:"14px",height:"14px"}})])]),U.value.description?(e.openBlock(),e.createElementBlock("p",zl,e.toDisplayString(U.value.description),1)):e.createCommentVNode("",!0),U.value.auth?(e.openBlock(),e.createElementBlock("div",Ol,[U.value.auth.required?(e.openBlock(),e.createElementBlock("span",jl,[e.createVNode(e.unref(So),{style:{width:"11px",height:"11px"}}),o[74]||(o[74]=e.createTextVNode(" ログイン必須 ",-1))])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value.auth.roles||[],n=>(e.openBlock(),e.createElementBlock("span",{key:n,class:"di-auth-badge di-auth-role"},[e.createVNode(e.unref(Lo),{style:{width:"11px",height:"11px"}}),e.createTextVNode(" "+e.toDisplayString(n),1)]))),128)),U.value.auth.description?(e.openBlock(),e.createElementBlock("span",ql,e.toDisplayString(U.value.auth.description),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),U.value.componentPath?(e.openBlock(),e.createElementBlock("div",Hl,[e.createElementVNode("div",Rl,[e.createVNode(e.unref(wt),{style:{width:"16px",height:"16px"}}),o[75]||(o[75]=e.createElementVNode("span",null,"Component Path",-1))]),e.createElementVNode("code",Kl,e.toDisplayString(U.value.componentPath),1)])):e.createCommentVNode("",!0),U.value.figmaUrl?(e.openBlock(),e.createElementBlock("div",Yl,[e.createElementVNode("div",Gl,[e.createVNode(e.unref(xo),{style:{width:"16px",height:"16px"}}),o[76]||(o[76]=e.createElementVNode("span",null,"Figma Design",-1))]),e.createElementVNode("a",{href:U.value.figmaUrl,target:"_blank",class:"di-link-purple"},e.toDisplayString(U.value.figmaUrl),9,Xl)])):e.createCommentVNode("",!0),U.value.apis.length?(e.openBlock(),e.createElementBlock("div",Zl,[e.createElementVNode("div",Jl,[e.createVNode(e.unref(Uo),{style:{width:"16px",height:"16px"}}),o[77]||(o[77]=e.createElementVNode("span",null,"API Endpoints",-1))]),e.createElementVNode("div",Ql,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value.apis,(n,m)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:"di-api-item"},[e.createElementVNode("span",{class:"di-method-badge",style:e.normalizeStyle({backgroundColor:Z[n.method]+"20",color:Z[n.method]})},e.toDisplayString(n.method),5),e.createElementVNode("div",Wl,[e.createElementVNode("code",en,e.toDisplayString(n.endpoint),1),n.description?(e.openBlock(),e.createElementBlock("p",tn,e.toDisplayString(n.description),1)):e.createCommentVNode("",!0)]),n.loadTiming?(e.openBlock(),e.createElementBlock("span",on,e.toDisplayString(n.loadTiming==="onMount"?"読込時":n.loadTiming==="action"?"アクション":"条件付き"),1)):e.createCommentVNode("",!0)]))),128))])])):e.createCommentVNode("",!0),U.value.notes?(e.openBlock(),e.createElementBlock("div",ln,[e.createElementVNode("div",nn,[e.createVNode(e.unref(Eo),{style:{width:"16px",height:"16px"}}),o[78]||(o[78]=e.createElementVNode("span",null,"Notes",-1))]),e.createElementVNode("p",an,e.toDisplayString(U.value.notes),1)])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock("div",sn,[e.createVNode(e.unref(it),{style:{width:"48px",height:"48px",color:"#334155"}}),o[80]||(o[80]=e.createElementVNode("p",null,[e.createTextVNode("この画面の仕様情報は"),e.createElementVNode("br"),e.createTextVNode("まだ登録されていません")],-1)),e.createElementVNode("button",{onClick:o[12]||(o[12]=n=>e.unref(a).editingScreen=!0),class:"di-screen-register-btn"},[e.createVNode(e.unref(Dt),{style:{width:"14px",height:"14px"}}),o[79]||(o[79]=e.createTextVNode(" 画面情報を登録 ",-1))])])),e.createElementVNode("div",dn,[e.createElementVNode("div",rn,[e.createVNode(e.unref(Io),{style:{width:"14px",height:"14px",color:"#94a3b8"}}),o[81]||(o[81]=e.createElementVNode("span",null,"横断検索",-1))]),o[82]||(o[82]=e.createElementVNode("div",{class:"di-cross-search-desc"},"全画面のメモを横断検索。カラム名・APIエンドポイント・メモ内テキストで絞り込めます。",-1)),e.createElementVNode("div",cn,[e.createElementVNode("div",un,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(ne,n=>e.createElementVNode("button",{key:n.value,onClick:m=>e.unref(a).crossSearchMode=n.value,class:e.normalizeClass(["di-filter-btn",{active:e.unref(a).crossSearchMode===n.value}])},e.toDisplayString(n.label),11,mn)),64))]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[13]||(o[13]=n=>e.unref(a).crossSearchQuery=n),type:"text",class:"di-cross-search-input",placeholder:Re.value},null,8,pn),[[e.vModelText,e.unref(a).crossSearchQuery]]),e.unref(a).crossSearchQuery.trim()?(e.openBlock(),e.createElementBlock("div",vn,e.toDisplayString(e.unref(a).crossSearchResults.length)+"件 ("+e.toDisplayString(Le.value)+"画面) ",1)):e.createCommentVNode("",!0),Me.value.length>0?(e.openBlock(),e.createElementBlock("div",fn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Me.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.pagePath,class:"di-cross-search-group"},[e.createElementVNode("div",Vn,[e.createTextVNode(e.toDisplayString(n.pagePath)+" ",1),n.pageName!==n.pagePath?(e.openBlock(),e.createElementBlock("span",hn,"("+e.toDisplayString(n.pageName)+")",1)):e.createCommentVNode("",!0)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.items,(m,u)=>(e.openBlock(),e.createElementBlock("div",{key:u,class:e.normalizeClass(["di-cross-search-item",m.elementType?"di-cross-item-"+m.elementType:""]),onClick:A=>m.selector&&e.unref(a).startEditing(m.selector)},[e.createElementVNode("span",yn,e.toDisplayString(m.matchedField),1),m.matchContext?(e.openBlock(),e.createElementBlock("span",kn,e.toDisplayString(m.matchContext),1)):e.createCommentVNode("",!0)],10,En))),128))]))),128))])):e.createCommentVNode("",!0)])]),e.createElementVNode("div",Nn,[e.createElementVNode("button",{onClick:o[14]||(o[14]=n=>e.unref(a).showScreenFlow=!e.unref(a).showScreenFlow),class:e.normalizeClass(["di-screen-flow-toggle",{active:e.unref(a).showScreenFlow}])},[e.createVNode(e.unref(Do),{style:{width:"14px",height:"14px"}}),o[83]||(o[83]=e.createElementVNode("span",null,"画面フロー",-1)),e.unref(a).screenFlowData.edges.length>0?(e.openBlock(),e.createElementBlock("span",bn,e.toDisplayString(e.unref(a).screenFlowData.nodes.length)+"画面 / "+e.toDisplayString(e.unref(a).screenFlowData.edges.length)+"遷移 ",1)):e.createCommentVNode("",!0)],2),e.unref(a).showScreenFlow?(e.openBlock(),e.createElementBlock("div",gn,[e.unref(a).screenFlowData.edges.length===0?(e.openBlock(),e.createElementBlock("div",xn," navigate型のアクションが登録されていません ")):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ze.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.node.path,class:"di-flow-group"},[e.createElementVNode("div",{class:e.normalizeClass(["di-flow-node",{"di-flow-node-current":n.node.path===Ke.value}])},[e.createElementVNode("span",wn,e.toDisplayString(n.node.path),1),n.node.name!==n.node.path?(e.openBlock(),e.createElementBlock("span",Bn,"("+e.toDisplayString(n.node.name)+")",1)):e.createCommentVNode("",!0)],2),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.edges,m=>(e.openBlock(),e.createElementBlock("div",{key:m.from+m.to,class:"di-flow-edge",onClick:u=>_e(m.selector)},[o[84]||(o[84]=e.createElementVNode("span",{class:"di-flow-arrow"},"→",-1)),e.createElementVNode("span",$n,e.toDisplayString(m.to),1),m.label?(e.openBlock(),e.createElementBlock("span",Dn,"["+e.toDisplayString(m.label)+"]",1)):e.createCommentVNode("",!0)],8,Cn))),128))]))),128)),e.unref(a).screenFlowData.orphanPages.length>0?(e.openBlock(),e.createElementBlock("div",Sn,[o[85]||(o[85]=e.createElementVNode("div",{class:"di-flow-orphans-header"},"遷移なしのページ",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a).screenFlowData.orphanPages,n=>(e.openBlock(),e.createElementBlock("span",{key:n.path,class:"di-flow-orphan-item"},e.toDisplayString(n.path),1))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])],512),[[e.vShow,E.value==="elements"]]),e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("div",Tn,[e.createElementVNode("div",Mn,[e.createVNode(e.unref(Ge),{style:{width:"16px",height:"16px",color:"#a78bfa"}}),o[86]||(o[86]=e.createElementVNode("span",null,"マスタ定義",-1)),p.value>0?(e.openBlock(),e.createElementBlock("span",_n,e.toDisplayString(p.value),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:o[15]||(o[15]=n=>G()),class:"di-btn-icon",style:{"margin-left":"auto"},title:"新規追加"},[e.createVNode(e.unref(ot),{style:{width:"14px",height:"14px"}})])]),p.value>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(h.value,(n,m)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:"di-master-table-group"},[e.createElementVNode("div",In,e.toDisplayString(m),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n,u=>(e.openBlock(),e.createElementBlock("div",{key:u.id,class:"di-master-item",onClick:A=>G(u.id)},[e.createElementVNode("div",Ln,[e.createElementVNode("span",Fn,"."+e.toDisplayString(u.column),1),u.columnType?(e.openBlock(),e.createElementBlock("span",Pn,e.toDisplayString(u.columnType),1)):e.createCommentVNode("",!0),e.createElementVNode("span",An,e.toDisplayString(u.name),1)]),e.createElementVNode("div",zn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(u.entries.slice(0,5),(A,H)=>(e.openBlock(),e.createElementBlock("span",{key:H,class:"di-master-entry-chip",style:e.normalizeStyle(A.color?{borderColor:A.color,color:A.color}:{})},e.toDisplayString(A.value)+"="+e.toDisplayString(A.label),5))),128)),u.entries.length>5?(e.openBlock(),e.createElementBlock("span",On,"+"+e.toDisplayString(u.entries.length-5),1)):e.createCommentVNode("",!0)])],8,Un))),128))]))),128)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"di-master-empty",onClick:o[16]||(o[16]=n=>G())},[...o[87]||(o[87]=[e.createElementVNode("span",null,"テーブル.カラムのマスタ値を定義",-1)])]))]),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[g.value?(e.openBlock(),e.createElementBlock("div",{key:0,"data-dev-inspector":"",class:"di-modal-overlay",onClick:o[25]||(o[25]=e.withModifiers(n=>g.value=!1,["self"]))},[e.createElementVNode("div",jn,[e.createElementVNode("div",qn,[e.createElementVNode("h3",null,e.toDisplayString($.value?"マスタ定義を編集":"新規マスタ定義"),1),e.createElementVNode("button",{onClick:o[17]||(o[17]=n=>g.value=!1),class:"di-close-btn"},[e.createVNode(e.unref(Ie),{style:{width:"16px",height:"16px"}})])]),e.createElementVNode("div",Hn,[e.createElementVNode("div",Rn,[e.createElementVNode("div",Kn,[o[88]||(o[88]=e.createElementVNode("label",null,"テーブル",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[18]||(o[18]=n=>f.value.table=n),placeholder:"orders",disabled:!!$.value},null,8,Yn),[[e.vModelText,f.value.table]])]),e.createElementVNode("div",Gn,[o[89]||(o[89]=e.createElementVNode("label",null,"カラム",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[19]||(o[19]=n=>f.value.column=n),placeholder:"status",disabled:!!$.value},null,8,Xn),[[e.vModelText,f.value.column]])])]),e.createElementVNode("div",Zn,[e.createElementVNode("div",Jn,[o[90]||(o[90]=e.createElementVNode("label",null,"表示名",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[20]||(o[20]=n=>f.value.name=n),placeholder:"ステータス"},null,512),[[e.vModelText,f.value.name]])]),e.createElementVNode("div",Qn,[o[91]||(o[91]=e.createElementVNode("label",null,"型",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[21]||(o[21]=n=>f.value.columnType=n),placeholder:"integer"},null,512),[[e.vModelText,f.value.columnType]])])]),e.createElementVNode("div",Wn,[o[92]||(o[92]=e.createElementVNode("label",null,"説明",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[22]||(o[22]=n=>f.value.description=n),placeholder:"注文のステータスを管理"},null,512),[[e.vModelText,f.value.description]])]),e.createElementVNode("div",ea,[o[93]||(o[93]=e.createElementVNode("label",null,"マスタ値",-1)),e.createElementVNode("button",{onClick:he,class:"di-btn-icon",title:"追加"},[e.createVNode(e.unref(ot),{style:{width:"14px",height:"14px"}})])]),e.createElementVNode("div",ta,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value.entries,(n,m)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:"di-master-entry-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.value=u,placeholder:"値",class:"di-master-entry-value"},null,8,oa),[[e.vModelText,n.value]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.label=u,placeholder:"ラベル",class:"di-master-entry-label"},null,8,la),[[e.vModelText,n.label]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.color=u,placeholder:"#色",class:"di-master-entry-color"},null,8,na),[[e.vModelText,n.color]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.description=u,placeholder:"説明",class:"di-master-entry-desc"},null,8,aa),[[e.vModelText,n.description]]),e.createElementVNode("button",{onClick:u=>Y(m),class:"di-btn-icon di-btn-icon-danger"},[e.createVNode(e.unref(Ie),{style:{width:"12px",height:"12px"}})],8,ia)]))),128))]),e.createElementVNode("div",sa,[o[94]||(o[94]=e.createElementVNode("label",null,"状態遷移",-1)),e.createElementVNode("button",{onClick:Ne,class:"di-btn-icon",title:"遷移を追加"},[e.createVNode(e.unref(ot),{style:{width:"14px",height:"14px"}})])]),f.value.transitions.length>0?(e.openBlock(),e.createElementBlock("div",da,[o[98]||(o[98]=e.createElementVNode("div",{class:"di-transition-header"},[e.createElementVNode("span",{class:"di-transition-col-from"},"遷移元"),e.createElementVNode("span",{class:"di-transition-col-arrow"},"→"),e.createElementVNode("span",{class:"di-transition-col-to"},"遷移先"),e.createElementVNode("span",{class:"di-transition-col-trigger"},"トリガー"),e.createElementVNode("span",{class:"di-transition-col-condition"},"条件"),e.createElementVNode("span",{class:"di-transition-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value.transitions,(n,m)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:"di-transition-row"},[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":u=>n.from=u,class:"di-transition-select di-transition-col-from"},[o[95]||(o[95]=e.createElementVNode("option",{value:""},"-",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value.entries.filter(u=>u.value),u=>(e.openBlock(),e.createElementBlock("option",{key:u.value,value:u.value},e.toDisplayString(u.label||u.value),9,ca))),128))],8,ra),[[e.vModelSelect,n.from]]),o[97]||(o[97]=e.createElementVNode("span",{class:"di-transition-col-arrow"},"→",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":u=>n.to=u,class:"di-transition-select di-transition-col-to"},[o[96]||(o[96]=e.createElementVNode("option",{value:""},"-",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(f.value.entries.filter(u=>u.value),u=>(e.openBlock(),e.createElementBlock("option",{key:u.value,value:u.value},e.toDisplayString(u.label||u.value),9,ma))),128))],8,ua),[[e.vModelSelect,n.to]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.trigger=u,placeholder:"トリガー",class:"di-transition-input di-transition-col-trigger"},null,8,pa),[[e.vModelText,n.trigger]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.condition=u,placeholder:"条件",class:"di-transition-input di-transition-col-condition"},null,8,va),[[e.vModelText,n.condition]]),e.createElementVNode("button",{onClick:u=>be(m),class:"di-btn-icon di-btn-icon-danger"},[e.createVNode(e.unref(Ie),{style:{width:"12px",height:"12px"}})],8,fa)]))),128))])):(e.openBlock(),e.createElementBlock("div",Va," 状態遷移を定義（任意） "))]),e.createElementVNode("div",ha,[$.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[23]||(o[23]=n=>{Se($.value),g.value=!1}),class:"di-btn-small di-btn-danger"},"削除")):e.createCommentVNode("",!0),o[99]||(o[99]=e.createElementVNode("div",{style:{flex:"1"}},null,-1)),e.createElementVNode("button",{onClick:o[24]||(o[24]=n=>g.value=!1),class:"di-btn-small"},"キャンセル"),e.createElementVNode("button",{onClick:M,class:"di-btn-small di-btn-primary",disabled:!f.value.table||!f.value.column},"保存",8,Ea)])])])):e.createCommentVNode("",!0)]))],512),[[e.vShow,E.value==="masters"]]),e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("div",ya,[e.createElementVNode("div",ka,[e.createVNode(e.unref(xt),{style:{width:"16px",height:"16px",color:"#f59e0b"}}),o[100]||(o[100]=e.createElementVNode("span",null,"バッチ処理",-1)),q.value>0?(e.openBlock(),e.createElementBlock("span",Na,e.toDisplayString(q.value),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:o[26]||(o[26]=n=>ge()),class:"di-btn-icon",style:{"margin-left":"auto"},title:"新規追加"},[e.createVNode(e.unref(ot),{style:{width:"14px",height:"14px"}})])]),q.value>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(de.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.id,class:"di-batch-item",onClick:m=>ge(n.id)},[e.createElementVNode("div",ga,[e.createElementVNode("div",xa,e.toDisplayString(n.name),1),n.schedule?(e.openBlock(),e.createElementBlock("div",wa,e.toDisplayString(n.schedule),1)):e.createCommentVNode("",!0)])],8,ba))),128)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"di-batch-empty",onClick:o[27]||(o[27]=n=>ge())},[...o[101]||(o[101]=[e.createElementVNode("span",null,"バッチ処理を定義",-1)])]))]),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[ce.value?(e.openBlock(),e.createElementBlock("div",{key:0,"data-dev-inspector":"",class:"di-modal-overlay",onClick:o[43]||(o[43]=e.withModifiers(n=>ce.value=!1,["self"]))},[e.createElementVNode("div",Ba,[e.createElementVNode("div",Ca,[e.createElementVNode("h3",null,e.toDisplayString(ue.value?"バッチ処理を編集":"新規バッチ処理"),1),e.createElementVNode("button",{onClick:o[28]||(o[28]=n=>ce.value=!1),class:"di-close-btn"},[e.createVNode(e.unref(Ie),{style:{width:"16px",height:"16px"}})])]),e.createElementVNode("div",$a,[e.createElementVNode("div",Da,[e.createElementVNode("div",Sa,[o[102]||(o[102]=e.createElementVNode("label",null,"バッチ名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[29]||(o[29]=n=>x.value.name=n),placeholder:"月次レポート生成"},null,512),[[e.vModelText,x.value.name]])]),e.createElementVNode("div",Ta,[o[103]||(o[103]=e.createElementVNode("label",null,"スケジュール",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[30]||(o[30]=n=>x.value.schedule=n),placeholder:"毎月1日 AM2:00"},null,512),[[e.vModelText,x.value.schedule]])])]),e.createElementVNode("div",Ma,[e.createElementVNode("div",_a,[o[104]||(o[104]=e.createElementVNode("label",null,"手動トリガー",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[31]||(o[31]=n=>x.value.trigger=n),placeholder:"管理画面から実行"},null,512),[[e.vModelText,x.value.trigger]])])]),e.createElementVNode("div",Ia,[o[105]||(o[105]=e.createElementVNode("label",null,"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":o[32]||(o[32]=n=>x.value.description=n),rows:"2",placeholder:"バッチ処理の概要..."},null,512),[[e.vModelText,x.value.description]])]),o[115]||(o[115]=e.createElementVNode("div",{class:"di-batch-section-label"},"入出力テーブル",-1)),e.createElementVNode("div",Ua,[e.createElementVNode("div",La,[o[106]||(o[106]=e.createElementVNode("label",null,"入力テーブル",-1)),e.createElementVNode("div",Fa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x.value.inputTables,(n,m)=>(e.openBlock(),e.createElementBlock("span",{key:m,class:"di-batch-tag"},[e.createTextVNode(e.toDisplayString(n)+" ",1),e.createElementVNode("button",{onClick:u=>Te(m),class:"di-batch-tag-remove"},"×",8,Pa)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[33]||(o[33]=n=>fe.value=n),onKeydown:o[34]||(o[34]=e.withKeys(e.withModifiers(n=>Ce(),["prevent"]),["enter"])),type:"text",placeholder:"テーブル名",class:"di-batch-tag-input"},null,544),[[e.vModelText,fe.value]])])]),e.createElementVNode("div",Aa,[o[107]||(o[107]=e.createElementVNode("label",null,"出力テーブル",-1)),e.createElementVNode("div",za,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x.value.outputTables,(n,m)=>(e.openBlock(),e.createElementBlock("span",{key:m,class:"di-batch-tag"},[e.createTextVNode(e.toDisplayString(n)+" ",1),e.createElementVNode("button",{onClick:u=>Ve(m),class:"di-batch-tag-remove"},"×",8,Oa)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[35]||(o[35]=n=>X.value=n),onKeydown:o[36]||(o[36]=e.withKeys(e.withModifiers(n=>Ue(),["prevent"]),["enter"])),type:"text",placeholder:"テーブル名",class:"di-batch-tag-input"},null,544),[[e.vModelText,X.value]])])])]),e.createElementVNode("div",ja,[o[108]||(o[108]=e.createTextVNode(" 処理ステップ ",-1)),e.createElementVNode("button",{onClick:O,class:"di-btn-icon",style:{"margin-left":"auto"},title:"ステップ追加"},[e.createVNode(e.unref(ot),{style:{width:"14px",height:"14px"}})])]),x.value.steps.length>0?(e.openBlock(),e.createElementBlock("div",qa,[o[110]||(o[110]=e.createElementVNode("div",{class:"di-batch-steps-header"},[e.createElementVNode("span",{class:"di-batch-step-no"},"No"),e.createElementVNode("span",{class:"di-batch-step-desc"},"処理内容"),e.createElementVNode("span",{class:"di-batch-step-target"},"対象"),e.createElementVNode("span",{class:"di-batch-step-type"},"種別"),e.createElementVNode("span",{class:"di-batch-step-error"},"エラー処理"),e.createElementVNode("span",{class:"di-batch-step-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x.value.steps,(n,m)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:"di-batch-step-row"},[e.createElementVNode("span",Ha,e.toDisplayString(m+1),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.description=u,placeholder:"処理内容",class:"di-batch-step-input di-batch-step-desc"},null,8,Ra),[[e.vModelText,n.description]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.target=u,placeholder:"対象テーブル",class:"di-batch-step-input di-batch-step-target"},null,8,Ka),[[e.vModelText,n.target]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":u=>n.type=u,class:"di-batch-step-select di-batch-step-type"},[...o[109]||(o[109]=[e.createElementVNode("option",{value:""},"-",-1),e.createElementVNode("option",{value:"query"},"query",-1),e.createElementVNode("option",{value:"api"},"api",-1),e.createElementVNode("option",{value:"file"},"file",-1),e.createElementVNode("option",{value:"mail"},"mail",-1),e.createElementVNode("option",{value:"other"},"other",-1)])],8,Ya),[[e.vModelSelect,n.type]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":u=>n.errorHandling=u,placeholder:"エラー時",class:"di-batch-step-input di-batch-step-error"},null,8,Ga),[[e.vModelText,n.errorHandling]]),e.createElementVNode("button",{onClick:u=>_(m),class:"di-btn-icon di-btn-icon-danger"},[e.createVNode(e.unref(Ie),{style:{width:"12px",height:"12px"}})],8,Xa)]))),128))])):e.createCommentVNode("",!0),o[116]||(o[116]=e.createElementVNode("div",{class:"di-batch-section-label"},"運用設定",-1)),e.createElementVNode("div",Za,[e.createElementVNode("div",Ja,[o[111]||(o[111]=e.createElementVNode("label",null,"タイムアウト",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[37]||(o[37]=n=>x.value.timeout=n),placeholder:"30分"},null,512),[[e.vModelText,x.value.timeout]])]),e.createElementVNode("div",Qa,[o[112]||(o[112]=e.createElementVNode("label",null,"リトライ",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[38]||(o[38]=n=>x.value.retryPolicy=n),placeholder:"3回まで、5分間隔"},null,512),[[e.vModelText,x.value.retryPolicy]])])]),e.createElementVNode("div",Wa,[e.createElementVNode("div",ei,[o[113]||(o[113]=e.createElementVNode("label",null,"エラー通知先",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[39]||(o[39]=n=>x.value.notifyOnError=n),placeholder:"admin@example.com"},null,512),[[e.vModelText,x.value.notifyOnError]])]),e.createElementVNode("div",ti,[o[114]||(o[114]=e.createElementVNode("label",null,"完了通知先",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[40]||(o[40]=n=>x.value.notifyOnComplete=n),placeholder:"manager@example.com"},null,512),[[e.vModelText,x.value.notifyOnComplete]])])])]),e.createElementVNode("div",oi,[ue.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[41]||(o[41]=n=>{W(ue.value),ce.value=!1}),class:"di-btn-small di-btn-danger"},"削除")):e.createCommentVNode("",!0),o[117]||(o[117]=e.createElementVNode("div",{style:{flex:"1"}},null,-1)),e.createElementVNode("button",{onClick:o[42]||(o[42]=n=>ce.value=!1),class:"di-btn-small"},"キャンセル"),e.createElementVNode("button",{onClick:C,class:"di-btn-small di-btn-primary",disabled:!x.value.name},"保存",8,li)])])])):e.createCommentVNode("",!0)]))],512),[[e.vShow,E.value==="batches"]]),e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("div",ni,[e.createElementVNode("button",{onClick:pe,class:"di-btn-green"},[e.createVNode(e.unref($o),{style:{width:"16px",height:"16px"}}),o[118]||(o[118]=e.createTextVNode(" Git管理用に保存 ",-1))]),e.createElementVNode("button",{onClick:ve,class:"di-btn-blue"},[e.createVNode(e.unref(Mt),{style:{width:"16px",height:"16px"}}),o[119]||(o[119]=e.createTextVNode(" 画面仕様書 (xlsx) 出力 ",-1))]),e.createElementVNode("button",{onClick:o[44]||(o[44]=n=>e.unref(a).downloadSddSpec()),class:"di-btn-green-outline"},[e.createVNode(e.unref(it),{style:{width:"16px",height:"16px"}}),o[120]||(o[120]=e.createTextVNode(" SDD仕様書 (md) ",-1))]),e.createElementVNode("button",{onClick:o[45]||(o[45]=n=>e.unref(a).downloadClientSpec()),class:"di-btn-blue-outline"},[e.createVNode(e.unref(it),{style:{width:"16px",height:"16px"}}),o[121]||(o[121]=e.createTextVNode(" 納品用仕様書 (md) ",-1))])]),o[129]||(o[129]=e.createElementVNode("p",{class:"di-export-hint"},[e.createTextVNode(" JSON: "),e.createElementVNode("code",null,"dev-annotations.json"),e.createTextVNode(" に配置してcommit ")],-1)),e.createElementVNode("div",ai,[e.createElementVNode("button",{onClick:o[46]||(o[46]=n=>k.value=!0),class:"di-btn-small"},[e.createVNode(e.unref(ut),{style:{width:"14px",height:"14px"}}),o[122]||(o[122]=e.createTextVNode(" エクスポート ",-1))]),e.createElementVNode("button",{onClick:o[47]||(o[47]=n=>I.value=!0),class:"di-btn-small"},[e.createVNode(e.unref(Po),{style:{width:"14px",height:"14px"}}),o[123]||(o[123]=e.createTextVNode(" インポート ",-1))]),R.value>0?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:d,class:"di-btn-small di-btn-danger"},[e.createVNode(e.unref(lt),{style:{width:"14px",height:"14px"}}),o[124]||(o[124]=e.createTextVNode(" 全削除 ",-1))])):e.createCommentVNode("",!0)]),R.value>0||p.value>0||q.value>0?(e.openBlock(),e.createElementBlock("div",ii,[o[128]||(o[128]=e.createElementVNode("div",{class:"di-export-summary-title"},"登録状況",-1)),e.createElementVNode("div",si,[o[125]||(o[125]=e.createElementVNode("span",null,"要素設定",-1)),e.createElementVNode("span",di,e.toDisplayString(R.value)+"件",1)]),e.createElementVNode("div",ri,[o[126]||(o[126]=e.createElementVNode("span",null,"マスタ定義",-1)),e.createElementVNode("span",ci,e.toDisplayString(p.value)+"件",1)]),e.createElementVNode("div",ui,[o[127]||(o[127]=e.createElementVNode("span",null,"バッチ処理",-1)),e.createElementVNode("span",mi,e.toDisplayString(q.value)+"件",1)])])):e.createCommentVNode("",!0)],512),[[e.vShow,E.value==="export"]])]),o[130]||(o[130]=e.createElementVNode("div",{class:"di-footer"},[e.createElementVNode("kbd",null,"Ctrl"),e.createElementVNode("span",null,"+"),e.createElementVNode("kbd",null,"Shift"),e.createElementVNode("span",null,"+"),e.createElementVNode("kbd",null,"D"),e.createElementVNode("span",{class:"di-footer-text"},"で開発者モード切替")],-1))])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(a).isEnabled?(e.openBlock(),e.createElementBlock("div",pi,[...o[131]||(o[131]=[e.createElementVNode("span",{class:"di-indicator-dot"},null,-1),e.createTextVNode(" Developer Mode ",-1)])])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[k.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-modal-overlay",onClick:o[49]||(o[49]=e.withModifiers(n=>k.value=!1,["self"])),"data-dev-inspector":""},[e.createElementVNode("div",vi,[o[133]||(o[133]=e.createElementVNode("h3",{class:"di-modal-title"},"設定をエクスポート",-1)),e.createElementVNode("textarea",{readonly:"",value:e.unref(a).exportConfigs(),class:"di-modal-textarea"},null,8,fi),e.createElementVNode("div",Vi,[e.createElementVNode("button",{onClick:o[48]||(o[48]=n=>k.value=!1),class:"di-btn-small"},"閉じる"),e.createElementVNode("button",{onClick:Q,class:"di-btn-small di-btn-gray"},[e.createVNode(e.unref(ut),{style:{width:"14px",height:"14px"}}),o[132]||(o[132]=e.createTextVNode(" ファイル保存 ",-1))]),e.createElementVNode("button",{onClick:Be,class:"di-btn-small di-btn-primary"},"コピー")])])])):e.createCommentVNode("",!0)])),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[I.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-modal-overlay",onClick:o[52]||(o[52]=e.withModifiers(n=>I.value=!1,["self"])),"data-dev-inspector":""},[e.createElementVNode("div",hi,[o[135]||(o[135]=e.createElementVNode("h3",{class:"di-modal-title"},"設定をインポート",-1)),e.createElementVNode("label",Ei,[e.createElementVNode("input",{type:"file",accept:".json",onChange:V},null,32),o[134]||(o[134]=e.createElementVNode("span",null,"JSONファイルをドラッグまたはクリック",-1))]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":o[50]||(o[50]=n=>F.value=n),placeholder:"またはJSONを直接貼り付け...",class:"di-modal-textarea di-modal-textarea-input"},null,512),[[e.vModelText,F.value]]),z.value?(e.openBlock(),e.createElementBlock("p",yi,e.toDisplayString(z.value),1)):e.createCommentVNode("",!0),e.createElementVNode("div",ki,[e.createElementVNode("button",{onClick:o[51]||(o[51]=n=>{I.value=!1,F.value="",z.value=""}),class:"di-btn-small"}," キャンセル "),e.createElementVNode("button",{onClick:w,disabled:!F.value,class:"di-btn-small di-btn-primary"}," インポート ",8,Ni)])])])):e.createCommentVNode("",!0)]))],64))}}),dt=(T,a)=>{const E=T.__vccOpts||T;for(const[k,I]of a)E[k]=I;return E},It=dt(bi,[["__scopeId","data-v-7b391c47"]]),gi={class:"di-editor-header"},xi={class:"di-header-actions"},wi={key:0,class:"di-static-indicator"},Bi={key:1,class:"di-binding-indicator"},Ci={key:0,class:"di-binding-source"},$i={class:"di-editor-tabs"},Di={class:"di-editor-content"},Si={class:"di-form-group"},Ti={class:"di-display-type-grid"},Mi=["onClick"],_i={class:"di-display-type-desc"},Ii={key:0,class:"di-field-tags"},Ui={class:"di-field-tags-list"},Li={class:"di-field-tag-name"},Fi={key:0,class:"di-field-tag-type"},Pi=["onClick"],Ai={key:1,class:"di-binding-selector"},zi={class:"di-form-group"},Oi={class:"di-form-label"},ji={class:"di-binding-search-wrapper"},qi={key:0,class:"di-binding-list"},Hi=["onClick"],Ri={class:"di-binding-item-main"},Ki={class:"di-binding-name"},Yi={class:"di-binding-type"},Gi={key:0,class:"di-binding-component"},Xi={key:1,class:"di-binding-empty"},Zi={key:2,class:"di-form-divider"},Ji={class:"di-form-row"},Qi={class:"di-form-group di-suggest-wrapper"},Wi={key:0,class:"di-suggest-list"},es=["onMousedown"],ts={class:"di-form-group di-suggest-wrapper"},os={key:0,class:"di-suggest-list"},ls=["onMousedown"],ns={class:"di-form-group"},as=["value"],is=["disabled"],ss={key:3,class:"di-master-inline"},ds={key:0,class:"di-condition-badge",style:{background:"#a78bfa"}},rs={key:0,class:"di-master-inline-section"},cs={key:0,class:"di-master-entries-table"},us=["onUpdate:modelValue"],ms=["onUpdate:modelValue"],ps=["onUpdate:modelValue"],vs=["onClick"],fs={key:4,class:"di-form-group"},Vs={class:"di-stored-calc-toggle"},hs={key:0,class:"di-condition-badge"},Es={key:5,class:"di-stored-calc-section"},ys={class:"di-form-group"},ks={class:"di-form-group di-suggest-wrapper"},Ns={class:"di-stored-calc-tags"},bs=["onClick"],gs={key:0,class:"di-suggest-list"},xs=["onMousedown"],ws={class:"di-form-group"},Bs={key:1,class:"di-form-group di-suggest-wrapper"},Cs={key:0,class:"di-calc-tag"},$s=["onClick"],Ds={key:1,class:"di-calc-text"},Ss=["placeholder"],Ts={key:0,class:"di-suggest-list"},Ms=["onMousedown"],_s={key:2,class:"di-form-group"},Is={class:"di-condition-toggle"},Us={key:0,class:"di-condition-badge"},Ls={key:0,class:"di-condition-section"},Fs={class:"di-form-group"},Ps={class:"di-form-group di-suggest-wrapper"},As={class:"di-form-row"},zs={class:"di-form-group"},Os={key:0,class:"di-form-group"},js={class:"di-form-row"},qs={class:"di-form-group"},Hs={class:"di-form-group",style:{flex:"0 0 80px"}},Rs={class:"di-form-row"},Ks={class:"di-form-group"},Ys={class:"di-form-group"},Gs={class:"di-form-group"},Xs={class:"di-form-group"},Zs={class:"di-form-group"},Js={class:"di-form-group"},Qs=["placeholder"],Ws={key:0,class:"di-form-group"},ed={class:"di-form-group"},td={class:"di-form-divider"},od={class:"di-csv-file-settings"},ld={class:"di-form-row"},nd={class:"di-form-group"},ad={class:"di-form-group"},id={class:"di-form-row",style:{"align-items":"center"}},sd={class:"di-csv-checkbox-label"},dd={class:"di-form-group"},rd={class:"di-csv-columns-section"},cd={key:0,class:"di-csv-columns-table"},ud={class:"di-csv-col-no"},md=["onUpdate:modelValue"],pd=["onUpdate:modelValue"],vd=["onUpdate:modelValue"],fd=["onUpdate:modelValue"],Vd={class:"di-csv-col-req di-csv-checkbox-center"},hd=["onUpdate:modelValue"],Ed=["onUpdate:modelValue"],yd={class:"di-csv-col-act"},kd=["onClick","disabled"],Nd=["onClick","disabled"],bd=["onClick"],gd={class:"di-form-group"},xd={class:"di-form-group"},wd={class:"di-form-group"},Bd={class:"di-form-group"},Cd={class:"di-form-group"},$d={class:"di-form-group"},Dd={class:"di-csv-error-section"},Sd={key:0,class:"di-csv-columns-table"},Td=["onUpdate:modelValue"],Md=["value"],_d=["onUpdate:modelValue"],Id=["onUpdate:modelValue"],Ud=["onUpdate:modelValue"],Ld=["onClick"],Fd={class:"di-form-divider"},Pd={class:"di-form-row"},Ad={class:"di-form-group"},zd={class:"di-form-group"},Od={class:"di-form-row"},jd={class:"di-form-group"},qd={class:"di-form-group"},Hd={class:"di-form-group"},Rd={class:"di-form-group"},Kd={class:"di-form-group"},Yd={class:"di-form-group"},Gd={class:"di-email-variables-input"},Xd=["onClick"],Zd={class:"di-form-group"},Jd={class:"di-form-group"},Qd={class:"di-form-group"},Wd={class:"di-form-divider"},er={class:"di-form-group"},tr={class:"di-form-label",style:{display:"flex","align-items":"center",gap:"8px"}},or={class:"di-form-row"},lr={class:"di-form-group"},nr={class:"di-form-group"},ar={class:"di-form-group"},ir={class:"di-form-group"},sr={class:"di-form-label",style:{display:"flex","align-items":"center",gap:"8px"}},dr={class:"di-form-group"},rr={class:"di-form-group"},cr={class:"di-form-group"},ur={class:"di-form-group"},mr={key:0,class:"di-field-tags"},pr={class:"di-field-tags-list"},vr={class:"di-field-tag-name"},fr={key:0,class:"di-field-tag-type"},Vr=["onClick"],hr={key:1,class:"di-binding-selector"},Er={class:"di-form-group"},yr={class:"di-form-label"},kr={class:"di-binding-search-wrapper"},Nr={key:0,class:"di-binding-list"},br=["onClick"],gr={class:"di-binding-item-main"},xr={class:"di-binding-name"},wr={class:"di-binding-type"},Br={key:0,class:"di-binding-component"},Cr={key:2,class:"di-master-inline"},$r={key:0,class:"di-condition-badge",style:{background:"#a78bfa"}},Dr={key:0,class:"di-master-inline-section"},Sr={key:0,class:"di-master-entries-table"},Tr=["onUpdate:modelValue"],Mr=["onUpdate:modelValue"],_r=["onUpdate:modelValue"],Ir=["onClick"],Ur={class:"di-condition-toggle"},Lr={key:0,class:"di-condition-badge"},Fr={class:"di-form-group di-suggest-wrapper"},Pr={class:"di-calc-tags-input"},Ar=["onClick"],zr=["placeholder"],Or={class:"di-form-group"},jr={class:"di-form-group"},qr={class:"di-form-group"},Hr={class:"di-form-group"},Rr={class:"di-editor-footer"},Kr={class:"di-editor-actions"},Yr=e.defineComponent({__name:"DevElementEditor",setup(T){const a=Qe.useDevInspectorStore(),E=e.ref("datasource"),k=e.ref(""),I=e.ref(""),F=e.ref(""),z=e.ref(""),Z=e.ref(""),J=e.ref(!1),B=e.ref([]),U=e.ref(""),R=e.ref(""),te=e.ref(""),oe=e.ref(""),K=e.ref([]),N=e.ref("UTF-8"),le=e.ref(","),me=e.ref(!0),se=e.ref(""),Be=e.ref(""),Q=e.ref(""),pe=e.ref(void 0),ve=e.ref(""),w=e.ref(""),V=e.ref(""),d=e.ref([]),b=e.ref(""),P=e.ref(""),j=e.ref(""),g=e.ref(""),$=e.ref(""),f=e.ref(""),p=e.ref(""),h=e.ref([]),G=e.ref(""),M=e.ref(""),he=e.ref(""),Y=e.ref(""),Ne=e.ref(!0),be=e.ref(""),Se=e.ref(""),ce=e.ref(""),ue=e.ref(!1),x=e.ref(""),fe=e.ref(""),X=e.ref(!1),q=e.ref([]),de=e.computed(()=>{if(O.value.length>0){const c=O.value[0];if(c.table&&c.column)return`${c.table}.${c.column}`}return""}),ge=e.computed(()=>de.value&&a.getMasterDefinition(de.value)||null),C=e.ref("db_direct"),O=e.ref([]),_=e.ref(""),W=e.ref(""),Ce=e.ref(""),Te=e.ref(""),Ue=e.ref(""),Ve=e.ref([]),ne=e.ref(""),Re=e.ref(!1),Me=e.ref(""),Le=e.ref(""),xe=e.ref(""),Fe=e.ref(""),Pe=e.ref(""),ye=e.ref(!1),Ae=e.ref(""),ke=e.ref([]),$e=e.ref(""),Ke=e.ref(!1),ze=e.ref(""),_e=e.ref(""),s=e.ref(""),o=e.ref(""),n=e.ref(""),m=e.ref(!1),u=e.ref(""),A=e.ref(""),H=e.ref(""),i=e.ref(!1),Oe=e.computed(()=>a.editingElementId!==null),Ee=e.computed(()=>a.editingElementId),L=e.computed(()=>k.value==="csv_export"||k.value==="csv_import"),ie=e.computed(()=>k.value==="email"),Xe=e.computed(()=>L.value||ie.value),qe=[{value:"db_direct",label:"DBカラム (そのまま)",icon:Ge,color:"#3b82f6",description:"DBの値をそのまま表示"},{value:"db_formatted",label:"DBカラム (整形)",icon:st,color:"#8b5cf6",description:"DBの値を整形して表示"},{value:"calculated",label:"計算値",icon:gt,color:"#f59e0b",description:"複数カラムから計算"},{value:"static",label:"固定文言",icon:Fo,color:"#10b981",description:"コード内の固定テキスト"},{value:"other",label:"その他メモ",icon:Mo,color:"#94a3b8",description:"自由メモ"}];e.watch(Ee,c=>{var t;if(c){const l=a.getElementConfig(c);try{const r=document.querySelector(c);if(r){l!=null&&l.elementType?E.value=l.elementType:E.value=a.detectElementType(r);const v=r.querySelector("[data-di-binding]")||(r.hasAttribute("data-di-binding")?r:null)||r.closest("[data-di-binding]");if(v){const D=v.getAttribute("data-di-binding"),re=v.getAttribute("data-di-db"),tt=v.getAttribute("data-di-db-type"),fo=v.getAttribute("data-di-db-comment");if(D&&(H.value=D,A.value="api",i.value=!1),re){const[Nt,bt]=re.split(".");Nt&&bt&&(O.value.push({table:Nt,column:bt,type:tt||void 0,description:fo||void 0}),C.value||(C.value="db_direct"))}}}}catch(r){console.warn("[DevInspector] Failed to read element:",r)}if(l!=null&&l.fieldInfoList&&l.fieldInfoList.length>0?O.value=l.fieldInfoList.map(r=>({...r})):l!=null&&l.fieldInfo&&(O.value=[{...l.fieldInfo}]),_.value="",W.value="",Ce.value="",Te.value="",l!=null&&l.note&&(u.value=l.note.text||u.value,C.value=l.note.displayType||C.value,Ue.value=l.note.formatDescription||"",Me.value=l.note.sampleValue||"",Le.value=l.note.decimalHandling||"",xe.value=l.note.unit||"",Fe.value=l.note.nullDisplay||"",Pe.value=l.note.displayFormat||"",Qt(l.note.calcDescription||"",l.note.calcSources||[]),ye.value=l.note.storedCalc||!1,Ae.value=l.note.storedCalcLogic||"",ke.value=l.note.storedCalcSources?[...l.note.storedCalcSources]:[],ze.value=l.note.storedCalcTiming||"",_e.value=l.note.condition||"",s.value=l.note.conditionColumn||"",o.value=l.note.hiddenBehavior||"",n.value=l.note.hiddenNote||"",m.value=!!(l.note.condition||l.note.conditionColumn)),l!=null&&l.sourceBinding&&(A.value=l.sourceBinding.type||A.value,H.value=l.sourceBinding.source||H.value,i.value=l.sourceBinding.isStatic||!1),l!=null&&l.actionInfo){if(k.value=l.actionInfo.type||"",I.value=l.actionInfo.target||"",F.value=l.actionInfo.method||"",z.value=l.actionInfo.description||"",l.actionInfo.csvSpec){const r=l.actionInfo.csvSpec;K.value=r.columns.map(v=>({...v})),N.value=r.encoding||"UTF-8",le.value=r.delimiter||",",me.value=r.hasHeaderRow!==!1,se.value=r.filenamePattern||"",Be.value=r.sortOrder||"",Q.value=r.filterCondition||"",pe.value=r.maxRows,ve.value=r.errorHandling||"",w.value=r.duplicateHandling||"",V.value=r.preValidation||"",d.value=r.errorDefs?r.errorDefs.map(v=>({...v})):[]}if(l.actionInfo.emailSpec){const r=l.actionInfo.emailSpec;b.value=r.trigger||"",P.value=r.to||"",j.value=r.cc||"",g.value=r.bcc||"",$.value=r.subject||"",f.value=r.bodyTemplate||"",p.value=r.templatePath||"",h.value=r.variables?[...r.variables]:[],M.value=r.attachments||"",he.value=r.conditions||"",Y.value=r.errorHandling||""}}if(l!=null&&l.formInfo&&(Z.value=l.formInfo.inputType||"",J.value=l.formInfo.required||!1,B.value=l.formInfo.validation?[...l.formInfo.validation]:[],R.value=l.formInfo.placeholder||"",te.value=l.formInfo.defaultValue||"",oe.value=l.formInfo.description||""),(t=l==null?void 0:l.actionInfo)!=null&&t.sortSpec){const r=l.actionInfo.sortSpec;Ne.value=r.sortable!==!1,be.value=r.sortType||"",Se.value=r.sortKey||"",ce.value=r.defaultDirection||"",ue.value=r.isDefaultSort||!1,x.value=r.unsortedOrder||"",fe.value=r.description||""}}else We()});function We(){E.value="datasource",C.value="db_direct",O.value=[],_.value="",W.value="",Ce.value="",Te.value="",Ue.value="",Me.value="",Le.value="",xe.value="",Fe.value="",Pe.value="",Ve.value=[],ne.value="",ye.value=!1,Ae.value="",ke.value=[],$e.value="",ze.value="",_e.value="",s.value="",o.value="",n.value="",m.value=!1,u.value="",A.value="",H.value="",i.value=!1,k.value="",I.value="",F.value="",z.value="",K.value=[],N.value="UTF-8",le.value=",",me.value=!0,se.value="",Be.value="",Q.value="",pe.value=void 0,ve.value="",w.value="",V.value="",d.value=[],Z.value="",J.value=!1,B.value=[],U.value="",R.value="",te.value="",oe.value="",b.value="",P.value="",j.value="",g.value="",$.value="",f.value="",p.value="",h.value=[],G.value="",M.value="",he.value="",Y.value="",Ne.value=!0,be.value="",Se.value="",ce.value="",ue.value=!1,x.value="",fe.value="",X.value=!1,q.value=[]}function Ye(){a.stopEditing(),We()}function Ze(){if(Ee.value)try{const c=document.querySelector(Ee.value);if(!c)return;const t=a.autoDetectElementInfo(c,Ee.value);t.sourceBinding&&(A.value=t.sourceBinding.type||"",H.value=t.sourceBinding.source||"",i.value=t.sourceBinding.isStatic||!1,t.sourceBinding.isStatic&&!C.value&&(C.value="static",u.value=u.value||"固定文言")),t.fieldInfo&&(O.value.push({table:t.fieldInfo.table||"",column:t.fieldInfo.column||"",type:t.fieldInfo.type||void 0,description:t.fieldInfo.description||void 0}),C.value||(C.value="db_direct")),t.note&&!u.value&&(u.value=t.note.text||"")}catch(c){console.error("[DevInspector] Auto-detect failed:",c)}}function et(){if(!Ee.value)return;const c=[...O.value];(C.value==="db_direct"||C.value==="db_formatted")&&_.value&&W.value&&c.push({table:_.value,column:W.value,type:Ce.value||void 0,description:Te.value||void 0});const t=c.length>0?c:void 0,l=c.length>0?c[0]:void 0,r=C.value==="db_direct"||C.value==="db_formatted",v=C.value||u.value?{text:u.value||"",displayType:C.value,formatDescription:C.value==="db_formatted"&&Ue.value||void 0,calcDescription:C.value==="calculated"&&Jt()||void 0,calcSources:C.value==="calculated"&&Vt().length>0?Vt():void 0,storedCalc:r&&ye.value?!0:void 0,storedCalcLogic:r&&ye.value&&Ae.value||void 0,storedCalcSources:r&&ye.value&&ke.value.length>0?ke.value:void 0,storedCalcTiming:r&&ye.value&&ze.value||void 0,sampleValue:Me.value||void 0,decimalHandling:Le.value||void 0,unit:xe.value||void 0,nullDisplay:Fe.value||void 0,displayFormat:Pe.value||void 0,condition:_e.value||void 0,conditionColumn:s.value||void 0,hiddenBehavior:o.value||void 0,hiddenNote:n.value||void 0}:void 0,D=A.value?{type:A.value,source:H.value||void 0,isStatic:i.value}:void 0,re=E.value==="action"&&k.value?{type:k.value,target:I.value||void 0,method:F.value?F.value:void 0,description:z.value||void 0,csvSpec:so(),emailSpec:ro(),sortSpec:po()}:void 0,tt=E.value==="form"?{inputType:Z.value||void 0,required:J.value||void 0,validation:B.value.length>0?B.value:void 0,placeholder:R.value||void 0,defaultValue:te.value||void 0,description:oe.value||void 0}:void 0;a.setElementConfig(Ee.value,{elementType:E.value,fieldInfo:l,fieldInfoList:t,actionInfo:re,formInfo:tt,note:v,sourceBinding:D}),X.value&&de.value&&vo(),Ye()}function rt(){Ee.value&&(a.deleteElementConfig(Ee.value),Ye())}const ct=["string","text","integer","bigint","float","decimal","boolean","date","datetime","time","timestamp","binary","json","jsonb","VARCHAR","TEXT","INT","BIGINT","BOOLEAN","DATE","DATETIME","TIMESTAMP","JSON"],De=e.ref(""),y=e.ref(!1),ae=e.computed(()=>a.searchSchemaColumns(De.value).slice(0,30));function we(c){O.value.push({table:c.table,column:c.column,type:c.type||void 0,description:c.comment||void 0}),y.value=!1,De.value=""}function je(){!_.value||!W.value||(O.value.push({table:_.value,column:W.value,type:Ce.value||void 0,description:Te.value||void 0}),_.value="",W.value="",Ce.value="",Te.value="")}function He(c){O.value.splice(c,1)}const ee=e.computed(()=>a.getSchemaColumns().length>0),Je=e.ref(!1),nt=e.ref(!1),mt=e.computed(()=>{var r;const c=new Set;for(const v of Object.values(a.elementConfigs))if(v.fieldInfoList)for(const D of v.fieldInfoList)D.table&&c.add(D.table);else(r=v.fieldInfo)!=null&&r.table&&c.add(v.fieldInfo.table);for(const v of a.getSchemaColumns())c.add(v.table);const t=[...c].sort();if(!_.value)return t;const l=_.value.toLowerCase();return t.filter(v=>v.toLowerCase().includes(l))}),pt=e.computed(()=>{var r;const c=new Set;for(const v of Object.values(a.elementConfigs))if(v.fieldInfoList)for(const D of v.fieldInfoList)D.column&&(!_.value||D.table===_.value)&&c.add(D.column);else(r=v.fieldInfo)!=null&&r.column&&(!_.value||v.fieldInfo.table===_.value)&&c.add(v.fieldInfo.column);for(const v of a.getSchemaColumns())(!_.value||v.table===_.value)&&c.add(v.column);const t=[...c].sort();if(!W.value)return t;const l=W.value.toLowerCase();return t.filter(v=>v.toLowerCase().includes(l))});function zt(){setTimeout(()=>{Je.value=!1},150)}function Ot(){setTimeout(()=>{nt.value=!1},150)}function jt(c){if(_.value=c,Je.value=!1,W.value){const t=a.getSchemaColumns().find(l=>l.table===c&&l.column===W.value);t&&(Ce.value=t.type||"",Te.value=t.comment||"")}}function qt(c){if(W.value=c,nt.value=!1,_.value){const t=a.getSchemaColumns().find(l=>l.table===_.value&&l.column===c);t&&(Ce.value=t.type||"",Te.value=t.comment||"")}}const vt=e.computed(()=>{var r,v;const c=new Set;for(const D of Object.values(a.elementConfigs))if(D.fieldInfoList)for(const re of D.fieldInfoList)re.table&&re.column&&c.add(`${re.table}.${re.column}`);else(r=D.fieldInfo)!=null&&r.table&&((v=D.fieldInfo)!=null&&v.column)&&c.add(`${D.fieldInfo.table}.${D.fieldInfo.column}`);for(const D of a.getSchemaColumns())c.add(D.fullName);const t=[...c].sort();if(!ne.value)return t;const l=ne.value.trim().toLowerCase();if(/^[a-z0-9_.]+$/i.test(l)){const D=t.filter(re=>re.toLowerCase().includes(l));if(D.length>0)return D}return t});function Ht(c){ne.value.trim()&&Ve.value.push({type:"text",value:ne.value}),Ve.value.push({type:"tag",value:c}),ne.value=""}function Rt(c){Ve.value.splice(c,1)}function Kt(c){if(c.key==="Backspace"&&!ne.value&&Ve.value.length>0){const t=Ve.value.pop();t.type==="text"&&(ne.value=t.value)}}function Yt(){setTimeout(()=>{Re.value=!1},150)}const ft=e.computed(()=>{var r,v;const c=new Set;for(const D of a.getSchemaColumns())c.add(D.fullName);for(const D of Object.values(a.elementConfigs))if(D.fieldInfoList)for(const re of D.fieldInfoList)re.table&&re.column&&c.add(`${re.table}.${re.column}`);else(r=D.fieldInfo)!=null&&r.table&&((v=D.fieldInfo)!=null&&v.column)&&c.add(`${D.fieldInfo.table}.${D.fieldInfo.column}`);const t=[...c].sort();if(!$e.value)return t;const l=$e.value.trim().toLowerCase();return t.filter(D=>D.toLowerCase().includes(l))});function Gt(){setTimeout(()=>{Ke.value=!1},150)}function Xt(){const c=$e.value.trim();c&&!ke.value.includes(c)&&ke.value.push(c),$e.value=""}function Zt(c){ke.value.includes(c)||ke.value.push(c),$e.value=""}function Jt(){const c=Ve.value.map(t=>t.value);return ne.value.trim()&&c.push(ne.value.trim()),c.join(" ").replace(/\s+/g," ").trim()}function Vt(){return Ve.value.filter(c=>c.type==="tag").map(c=>c.value)}function Qt(c,t){if(!c&&t.length===0){Ve.value=[],ne.value="";return}if(t.length===0){Ve.value=[],ne.value=c;return}const l=[];let r=c;for(const D of t){const re=r.indexOf(D);if(re>=0){const tt=r.substring(0,re).trim();tt&&l.push({type:"text",value:tt}),l.push({type:"tag",value:D}),r=r.substring(re+D.length)}}const v=r.trim();v&&l.push({type:"text",value:v}),l.length===0?ne.value=c:(Ve.value=l,ne.value="")}function Wt(){const c=U.value.trim();c&&!B.value.includes(c)&&B.value.push(c),U.value=""}function eo(c){B.value.splice(c,1)}function to(c){c.key==="Backspace"&&!U.value&&B.value.length>0&&B.value.pop()}function oo(){K.value.push({name:"",dbMapping:"",type:"string",required:!1,description:""})}function lo(c){K.value.splice(c,1)}function ht(c,t){const l=c+t;if(l<0||l>=K.value.length)return;const r=K.value[c];K.value[c]=K.value[l],K.value[l]=r,K.value=[...K.value]}function no(){d.value.push({condition:"",message:"",column:"",severity:"error"})}function ao(c){d.value.splice(c,1)}const io=e.computed(()=>K.value.filter(c=>c.name).map(c=>c.name));function so(){if(k.value!=="csv_export"&&k.value!=="csv_import")return;const c=d.value.filter(t=>t.condition||t.message);return{columns:K.value.filter(t=>t.name),encoding:N.value||void 0,delimiter:le.value||void 0,hasHeaderRow:me.value,filenamePattern:se.value||void 0,sortOrder:Be.value||void 0,filterCondition:Q.value||void 0,maxRows:pe.value||void 0,errorHandling:ve.value||void 0,duplicateHandling:w.value||void 0,preValidation:V.value||void 0,errorDefs:c.length>0?c:void 0}}function ro(){if(k.value==="email")return{trigger:b.value||"",to:P.value||"",cc:j.value||void 0,bcc:g.value||void 0,subject:$.value||"",bodyTemplate:f.value||void 0,templatePath:p.value||void 0,variables:h.value.length>0?h.value:void 0,attachments:M.value||void 0,conditions:he.value||void 0,errorHandling:Y.value||void 0}}function co(){const c=G.value.trim();c&&!h.value.includes(c)&&h.value.push(c),G.value=""}function uo(c){h.value.splice(c,1)}function mo(c){c.key==="Backspace"&&!G.value&&h.value.length>0&&h.value.pop()}function po(){if(k.value==="sort")return{sortable:Ne.value,sortType:be.value?be.value:void 0,sortKey:Se.value||void 0,defaultDirection:ce.value?ce.value:void 0,isDefaultSort:ue.value||void 0,unsortedOrder:x.value||void 0,description:fe.value||void 0}}e.watch(de,c=>{if(c){const t=a.getMasterDefinition(c);t?(q.value=t.entries.map(l=>({...l})),X.value=!0):(q.value=[],X.value=!1)}else q.value=[],X.value=!1});function Et(){X.value=!X.value,X.value&&q.value.length===0&&q.value.push({value:"",label:""})}function yt(){q.value.push({value:"",label:""})}function kt(c){q.value.splice(c,1)}function vo(){var v;if(!de.value)return;const[c,t]=de.value.split(".");if(!c||!t)return;const l=q.value.filter(D=>D.value||D.label);if(l.length===0){a.deleteMasterDefinition(de.value);return}const r=a.getMasterDefinition(de.value);a.setMasterDefinition({id:de.value,table:c,column:t,name:(r==null?void 0:r.name)||t,columnType:(r==null?void 0:r.columnType)||((v=O.value[0])==null?void 0:v.type),description:r==null?void 0:r.description,entries:l,updatedAt:new Date().toISOString()})}return(c,t)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[Oe.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-editor-overlay",onClick:e.withModifiers(Ye,["self"]),"data-dev-inspector":""},[e.createElementVNode("div",{class:e.normalizeClass(["di-editor-modal",{"di-editor-modal-wide":Xe.value}])},[e.createElementVNode("div",gi,[t[81]||(t[81]=e.createElementVNode("h3",null,"要素情報を編集",-1)),e.createElementVNode("div",xi,[e.createElementVNode("button",{onClick:Ze,class:"di-btn-auto",title:"自動検出"},[e.createVNode(e.unref(st),{style:{width:"16px",height:"16px"}})]),e.createElementVNode("button",{onClick:Ye,class:"di-editor-close"},[e.createVNode(e.unref(Ie),{style:{width:"20px",height:"20px"}})])])]),i.value?(e.openBlock(),e.createElementBlock("div",wi,[...t[82]||(t[82]=[e.createElementVNode("span",{class:"di-static-badge"},"固定文言",-1),e.createElementVNode("span",{class:"di-static-hint"},"このテキストはソースコードに直接記述されています",-1)])])):A.value?(e.openBlock(),e.createElementBlock("div",Bi,[e.createElementVNode("span",{class:e.normalizeClass(["di-binding-badge","di-binding-"+A.value])},e.toDisplayString(A.value),3),H.value?(e.openBlock(),e.createElementBlock("span",Ci,e.toDisplayString(H.value),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",$i,[e.createElementVNode("button",{onClick:t[0]||(t[0]=l=>E.value="datasource"),class:e.normalizeClass(["di-editor-tab",{"di-editor-tab-active":E.value==="datasource"}])},[e.createVNode(e.unref(Ge),{style:{width:"14px",height:"14px"}}),t[83]||(t[83]=e.createTextVNode(" データソース ",-1))],2),e.createElementVNode("button",{onClick:t[1]||(t[1]=l=>E.value="action"),class:e.normalizeClass(["di-editor-tab",{"di-editor-tab-active":E.value==="action"}])},[e.createVNode(e.unref(Ao),{style:{width:"14px",height:"14px"}}),t[84]||(t[84]=e.createTextVNode(" アクション ",-1))],2),e.createElementVNode("button",{onClick:t[2]||(t[2]=l=>E.value="form"),class:e.normalizeClass(["di-editor-tab",{"di-editor-tab-active":E.value==="form"}])},[e.createVNode(e.unref(Co),{style:{width:"14px",height:"14px"}}),t[85]||(t[85]=e.createTextVNode(" フォーム ",-1))],2)]),e.createElementVNode("div",Di,[E.value==="datasource"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Si,[t[86]||(t[86]=e.createElementVNode("label",{class:"di-form-label"},"表示タイプ",-1)),e.createElementVNode("div",Ti,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(qe,l=>e.createElementVNode("button",{key:l.value,onClick:r=>C.value=l.value,class:e.normalizeClass(["di-display-type-card",{"di-display-type-active":C.value===l.value}]),style:e.normalizeStyle(C.value===l.value?{borderColor:l.color,background:l.color+"18"}:{})},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.icon),{style:e.normalizeStyle([{width:"20px",height:"20px"},{color:C.value===l.value?l.color:"#64748b"}])},null,8,["style"])),e.createElementVNode("span",{class:"di-display-type-label",style:e.normalizeStyle({color:C.value===l.value?l.color:"#94a3b8"})},e.toDisplayString(l.label),5),e.createElementVNode("span",_i,e.toDisplayString(l.description),1)],14,Mi)),64))])]),C.value==="db_direct"||C.value==="db_formatted"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[O.value.length>0?(e.openBlock(),e.createElementBlock("div",Ii,[t[87]||(t[87]=e.createElementVNode("label",{class:"di-form-label"},"登録済みカラム",-1)),e.createElementVNode("div",Ui,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.value,(l,r)=>(e.openBlock(),e.createElementBlock("div",{key:r,class:"di-field-tag"},[e.createElementVNode("span",Li,e.toDisplayString(l.table)+"."+e.toDisplayString(l.column),1),l.type?(e.openBlock(),e.createElementBlock("span",Fi,e.toDisplayString(l.type),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:v=>He(r),class:"di-field-tag-remove"},"×",8,Pi)]))),128))])])):e.createCommentVNode("",!0),ee.value?(e.openBlock(),e.createElementBlock("div",Ai,[e.createElementVNode("div",zi,[e.createElementVNode("label",Oi,[e.createVNode(e.unref(Ge),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[88]||(t[88]=e.createTextVNode(" schema.rb から選択 ",-1))]),e.createElementVNode("div",ji,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>De.value=l),onFocus:t[4]||(t[4]=l=>y.value=!0),type:"text",placeholder:"テーブル.カラムを検索... (例: users, email)",class:"di-input di-binding-search"},null,544),[[e.vModelText,De.value]]),De.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:t[5]||(t[5]=l=>{De.value="",y.value=!1}),class:"di-binding-clear"},[e.createVNode(e.unref(Ie),{style:{width:"14px",height:"14px"}})])):e.createCommentVNode("",!0)]),y.value&&ae.value.length>0?(e.openBlock(),e.createElementBlock("div",qi,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ae.value,l=>(e.openBlock(),e.createElementBlock("button",{key:l.fullName,onClick:r=>we(l),class:"di-binding-item has-db"},[e.createElementVNode("div",Ri,[e.createElementVNode("span",Ki,e.toDisplayString(l.fullName),1),e.createElementVNode("span",Yi,e.toDisplayString(l.type),1)]),l.comment?(e.openBlock(),e.createElementBlock("span",Gi,e.toDisplayString(l.comment),1)):e.createCommentVNode("",!0)],8,Hi))),128))])):y.value&&De.value&&ae.value.length===0?(e.openBlock(),e.createElementBlock("div",Xi," 該当するカラムが見つかりません ")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),ee.value?(e.openBlock(),e.createElementBlock("div",Zi,[...t[89]||(t[89]=[e.createElementVNode("span",null,"または手動入力",-1)])])):e.createCommentVNode("",!0),e.createElementVNode("div",Ji,[e.createElementVNode("div",Qi,[t[90]||(t[90]=e.createElementVNode("label",{class:"di-form-label"},"テーブル名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>_.value=l),onFocus:t[7]||(t[7]=l=>Je.value=!0),onBlur:t[8]||(t[8]=l=>zt()),type:"text",placeholder:"users",class:"di-input",autocomplete:"off"},null,544),[[e.vModelText,_.value]]),Je.value&&mt.value.length>0?(e.openBlock(),e.createElementBlock("div",Wi,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(mt.value.slice(0,10),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(r=>jt(l),["prevent"]),class:"di-suggest-item"},e.toDisplayString(l),41,es))),128))])):e.createCommentVNode("",!0)]),e.createElementVNode("div",ts,[t[91]||(t[91]=e.createElementVNode("label",{class:"di-form-label"},"カラム名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>W.value=l),onFocus:t[10]||(t[10]=l=>nt.value=!0),onBlur:t[11]||(t[11]=l=>Ot()),type:"text",placeholder:"name",class:"di-input",autocomplete:"off"},null,544),[[e.vModelText,W.value]]),nt.value&&pt.value.length>0?(e.openBlock(),e.createElementBlock("div",os,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(pt.value.slice(0,10),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(r=>qt(l),["prevent"]),class:"di-suggest-item"},e.toDisplayString(l),41,ls))),128))])):e.createCommentVNode("",!0)])]),e.createElementVNode("div",ns,[t[93]||(t[93]=e.createElementVNode("label",{class:"di-form-label"},"データ型",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[12]||(t[12]=l=>Ce.value=l),class:"di-select"},[t[92]||(t[92]=e.createElementVNode("option",{value:""},"選択してください",-1)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(ct,l=>e.createElementVNode("option",{key:l,value:l},e.toDisplayString(l),9,as)),64))],512),[[e.vModelSelect,Ce.value]])]),e.createElementVNode("button",{onClick:je,class:"di-btn-add-field",disabled:!_.value||!W.value}," + カラムを追加 ",8,is),de.value?(e.openBlock(),e.createElementBlock("div",ss,[e.createElementVNode("button",{onClick:Et,class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":X.value}])},[e.createVNode(e.unref(Bt),{style:{width:"14px",height:"14px"}}),t[94]||(t[94]=e.createTextVNode(" マスタ値を定義 ",-1)),ge.value?(e.openBlock(),e.createElementBlock("span",ds,e.toDisplayString(ge.value.entries.length)+"件",1)):e.createCommentVNode("",!0)],2),X.value?(e.openBlock(),e.createElementBlock("div",rs,[q.value.length>0?(e.openBlock(),e.createElementBlock("div",cs,[t[95]||(t[95]=e.createElementVNode("div",{class:"di-master-entries-header"},[e.createElementVNode("span",{class:"di-master-col-val"},"値"),e.createElementVNode("span",{class:"di-master-col-lbl"},"ラベル"),e.createElementVNode("span",{class:"di-master-col-color"},"色"),e.createElementVNode("span",{class:"di-master-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,(l,r)=>(e.openBlock(),e.createElementBlock("div",{key:r,class:"di-master-entry-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.value=v,placeholder:"1",class:"di-master-input di-master-col-val"},null,8,us),[[e.vModelText,l.value]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.label=v,placeholder:"受付",class:"di-master-input di-master-col-lbl"},null,8,ms),[[e.vModelText,l.label]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.color=v,type:"color",class:"di-master-color-input"},null,8,ps),[[e.vModelText,l.color]]),e.createElementVNode("button",{onClick:v=>kt(r),class:"di-master-entry-remove"},"×",8,vs)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:yt,class:"di-btn-add-field",style:{"margin-top":"4px"}}," + 値を追加 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),C.value==="db_formatted"?(e.openBlock(),e.createElementBlock("div",fs,[t[96]||(t[96]=e.createElementVNode("label",{class:"di-form-label"},"整形方法",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[13]||(t[13]=l=>Ue.value=l),rows:"2",placeholder:"YYYY年MM月DD日 に整形、姓 + 名 で結合 など",class:"di-textarea"},null,512),[[e.vModelText,Ue.value]])])):e.createCommentVNode("",!0),e.createElementVNode("div",Vs,[e.createElementVNode("button",{onClick:t[14]||(t[14]=l=>ye.value=!ye.value),class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":ye.value}])},[e.createVNode(e.unref(gt),{style:{width:"14px",height:"14px"}}),t[97]||(t[97]=e.createTextVNode(" このカラムは計算値を保存している ",-1)),ye.value?(e.openBlock(),e.createElementBlock("span",hs,"設定あり")):e.createCommentVNode("",!0)],2)]),ye.value?(e.openBlock(),e.createElementBlock("div",Es,[e.createElementVNode("div",ys,[t[98]||(t[98]=e.createElementVNode("label",{class:"di-form-label"},"計算ロジック",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[15]||(t[15]=l=>Ae.value=l),rows:"2",placeholder:"SUM(order_items.price * quantity)、unit_price × quantity など",class:"di-textarea di-textarea-mono"},null,512),[[e.vModelText,Ae.value]])]),e.createElementVNode("div",ks,[t[99]||(t[99]=e.createElementVNode("label",{class:"di-form-label"},"元データ（テーブル.カラム）",-1)),e.createElementVNode("div",Ns,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ke.value,(l,r)=>(e.openBlock(),e.createElementBlock("span",{key:r,class:"di-calc-tag"},[e.createTextVNode(e.toDisplayString(l)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(v=>ke.value.splice(r,1),["stop"]),class:"di-calc-tag-remove"},"×",8,bs)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>$e.value=l),onFocus:t[17]||(t[17]=l=>Ke.value=!0),onBlur:Gt,onKeydown:t[18]||(t[18]=e.withKeys(e.withModifiers(l=>Xt(),["prevent"]),["enter"])),type:"text",placeholder:"order_items.price",class:"di-calc-tags-field",autocomplete:"off"},null,544),[[e.vModelText,$e.value]])]),Ke.value&&ft.value.length>0?(e.openBlock(),e.createElementBlock("div",gs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ft.value.slice(0,12),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(r=>Zt(l),["prevent"]),class:"di-suggest-item"},[e.createVNode(e.unref(Ge),{style:{width:"10px",height:"10px",opacity:"0.5","flex-shrink":"0"}}),e.createTextVNode(" "+e.toDisplayString(l),1)],40,xs))),128))])):e.createCommentVNode("",!0),t[100]||(t[100]=e.createElementVNode("span",{class:"di-form-hint"},"Enter で追加、またはドロップダウンから選択",-1))]),e.createElementVNode("div",ws,[t[102]||(t[102]=e.createElementVNode("label",{class:"di-form-label"},"計算タイミング",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[19]||(t[19]=l=>ze.value=l),class:"di-select"},[...t[101]||(t[101]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"on_save"},"保存時（アプリ側で計算）",-1),e.createElementVNode("option",{value:"trigger"},"DBトリガー",-1),e.createElementVNode("option",{value:"batch"},"バッチ（定期実行）",-1),e.createElementVNode("option",{value:"realtime"},"リアルタイム（ビュー/マテビュー）",-1)])],512),[[e.vModelSelect,ze.value]])])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),C.value==="calculated"?(e.openBlock(),e.createElementBlock("div",Bs,[t[103]||(t[103]=e.createElementVNode("label",{class:"di-form-label"},"計算ロジック",-1)),e.createElementVNode("div",{class:"di-calc-tags-input",onClick:t[23]||(t[23]=l=>{var r;return(r=c.$refs.calcInputEl)==null?void 0:r.focus()})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Ve.value,(l,r)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:r},[l.type==="tag"?(e.openBlock(),e.createElementBlock("span",Cs,[e.createTextVNode(e.toDisplayString(l.value)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(v=>Rt(r),["stop"]),class:"di-calc-tag-remove"},"×",8,$s)])):(e.openBlock(),e.createElementBlock("span",Ds,e.toDisplayString(l.value),1))],64))),128)),e.withDirectives(e.createElementVNode("input",{ref:"calcInputEl","onUpdate:modelValue":t[20]||(t[20]=l=>ne.value=l),onFocus:t[21]||(t[21]=l=>Re.value=!0),onBlur:t[22]||(t[22]=l=>Yt()),onKeydown:Kt,type:"text",placeholder:Ve.value.length===0?"カラムを選択 or 自由入力 (例: × 2)":"",class:"di-calc-tags-field",autocomplete:"off"},null,40,Ss),[[e.vModelText,ne.value]])]),Re.value&&vt.value.length>0?(e.openBlock(),e.createElementBlock("div",Ts,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(vt.value.slice(0,12),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(r=>Ht(l),["prevent"]),class:"di-suggest-item"},[e.createVNode(e.unref(Ge),{style:{width:"10px",height:"10px",opacity:"0.5","flex-shrink":"0"}}),e.createTextVNode(" "+e.toDisplayString(l),1)],40,Ms))),128))])):e.createCommentVNode("",!0),t[104]||(t[104]=e.createElementVNode("span",{class:"di-form-hint"},"DBカラムはドロップダウンから挿入、演算子や数値はそのまま入力",-1))])):e.createCommentVNode("",!0),C.value==="static"||C.value==="other"?(e.openBlock(),e.createElementBlock("div",_s,[t[105]||(t[105]=e.createElementVNode("label",{class:"di-form-label"},"メモ",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[24]||(t[24]=l=>u.value=l),rows:"4",placeholder:"この要素についてのメモ...",class:"di-textarea"},null,512),[[e.vModelText,u.value]])])):e.createCommentVNode("",!0),C.value&&C.value!=="other"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("div",Is,[e.createElementVNode("button",{onClick:t[25]||(t[25]=l=>m.value=!m.value),class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":m.value||_e.value}])},[e.createVNode(e.unref(St),{style:{width:"14px",height:"14px"}}),t[106]||(t[106]=e.createTextVNode(" 条件付き表示 ",-1)),_e.value?(e.openBlock(),e.createElementBlock("span",Us,"設定あり")):e.createCommentVNode("",!0)],2)]),m.value?(e.openBlock(),e.createElementBlock("div",Ls,[e.createElementVNode("div",Fs,[t[107]||(t[107]=e.createElementVNode("label",{class:"di-form-label"},"表示条件",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[26]||(t[26]=l=>_e.value=l),type:"text",placeholder:"管理者ロール時のみ / ステータスがactiveの時",class:"di-input"},null,512),[[e.vModelText,_e.value]])]),e.createElementVNode("div",Ps,[t[108]||(t[108]=e.createElementVNode("label",{class:"di-form-label"},"判定カラム",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[27]||(t[27]=l=>s.value=l),type:"text",placeholder:"users.role / orders.status",class:"di-input di-input-mono"},null,512),[[e.vModelText,s.value]])]),e.createElementVNode("div",As,[e.createElementVNode("div",zs,[t[110]||(t[110]=e.createElementVNode("label",{class:"di-form-label"},"条件不一致時の挙動",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[28]||(t[28]=l=>o.value=l),class:"di-select"},[...t[109]||(t[109]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"hidden"},"非表示",-1),e.createElementVNode("option",{value:"disabled"},"無効化 (グレーアウト)",-1),e.createElementVNode("option",{value:"different_value"},"別の値を表示",-1),e.createElementVNode("option",{value:"empty"},"空欄",-1)])],512),[[e.vModelSelect,o.value]])])]),o.value==="different_value"?(e.openBlock(),e.createElementBlock("div",Os,[t[111]||(t[111]=e.createElementVNode("label",{class:"di-form-label"},"代わりに表示する値",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[29]||(t[29]=l=>n.value=l),type:"text",placeholder:"「権限がありません」/ 「***」",class:"di-input"},null,512),[[e.vModelText,n.value]])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),C.value==="db_direct"||C.value==="db_formatted"||C.value==="calculated"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[t[119]||(t[119]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"表示の詳細")],-1)),e.createElementVNode("div",js,[e.createElementVNode("div",qs,[t[112]||(t[112]=e.createElementVNode("label",{class:"di-form-label"},"サンプル値",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[30]||(t[30]=l=>Me.value=l),type:"text",placeholder:"12,500 / 田中太郎",class:"di-input di-input-mono"},null,512),[[e.vModelText,Me.value]])]),e.createElementVNode("div",Hs,[t[113]||(t[113]=e.createElementVNode("label",{class:"di-form-label"},"単位",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[31]||(t[31]=l=>xe.value=l),type:"text",placeholder:"円 / %",class:"di-input"},null,512),[[e.vModelText,xe.value]])])]),e.createElementVNode("div",Rs,[e.createElementVNode("div",Ks,[t[115]||(t[115]=e.createElementVNode("label",{class:"di-form-label"},"小数点の扱い",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[32]||(t[32]=l=>Le.value=l),class:"di-select"},[...t[114]||(t[114]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"round"},"四捨五入",-1),e.createElementVNode("option",{value:"floor"},"切り捨て",-1),e.createElementVNode("option",{value:"ceil"},"切り上げ",-1),e.createElementVNode("option",{value:"decimal_1"},"小数第1位まで",-1),e.createElementVNode("option",{value:"decimal_2"},"小数第2位まで",-1),e.createElementVNode("option",{value:"integer"},"整数のみ",-1)])],512),[[e.vModelSelect,Le.value]])]),e.createElementVNode("div",Ys,[t[116]||(t[116]=e.createElementVNode("label",{class:"di-form-label"},"NULL/ゼロ時",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[33]||(t[33]=l=>Fe.value=l),type:"text",placeholder:"- / 0 / 非表示 / N/A",class:"di-input"},null,512),[[e.vModelText,Fe.value]])])]),e.createElementVNode("div",Gs,[t[117]||(t[117]=e.createElementVNode("label",{class:"di-form-label"},"表示フォーマット",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[34]||(t[34]=l=>Pe.value=l),type:"text",placeholder:"カンマ区切り / ¥記号付き / YYYY/MM/DD",class:"di-input"},null,512),[[e.vModelText,Pe.value]])]),e.createElementVNode("div",Xs,[t[118]||(t[118]=e.createElementVNode("label",{class:"di-form-label"},"補足メモ（任意）",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[35]||(t[35]=l=>u.value=l),rows:"2",placeholder:"補足情報があれば...",class:"di-textarea"},null,512),[[e.vModelText,u.value]])])],64)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),E.value==="action"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",Zs,[t[121]||(t[121]=e.createElementVNode("label",{class:"di-form-label"},"アクションタイプ",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[36]||(t[36]=l=>k.value=l),class:"di-select"},[...t[120]||(t[120]=[e.createElementVNode("option",{value:""},"選択してください",-1),e.createElementVNode("option",{value:"navigate"},"画面遷移",-1),e.createElementVNode("option",{value:"api"},"API呼び出し",-1),e.createElementVNode("option",{value:"modal"},"モーダル表示",-1),e.createElementVNode("option",{value:"emit"},"イベント発火",-1),e.createElementVNode("option",{value:"function"},"関数実行",-1),e.createElementVNode("option",{value:"csv_export"},"CSV出力",-1),e.createElementVNode("option",{value:"csv_import"},"CSV取込",-1),e.createElementVNode("option",{value:"email"},"メール送信",-1),e.createElementVNode("option",{value:"sort"},"ソート",-1)])],512),[[e.vModelSelect,k.value]])]),e.createElementVNode("div",Js,[t[122]||(t[122]=e.createElementVNode("label",{class:"di-form-label"},"ターゲット",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[37]||(t[37]=l=>I.value=l),type:"text",placeholder:k.value==="navigate"?"/tasks":k.value==="api"?"/api/users":k.value==="modal"?"confirm-dialog":k.value==="csv_export"?"/api/export/users":k.value==="csv_import"?"/api/import/users":"",class:"di-input di-input-mono"},null,8,Qs),[[e.vModelText,I.value]])]),k.value==="api"?(e.openBlock(),e.createElementBlock("div",Ws,[t[124]||(t[124]=e.createElementVNode("label",{class:"di-form-label"},"HTTPメソッド",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[38]||(t[38]=l=>F.value=l),class:"di-select"},[...t[123]||(t[123]=[e.createElementVNode("option",{value:""},"選択してください",-1),e.createElementVNode("option",{value:"GET"},"GET",-1),e.createElementVNode("option",{value:"POST"},"POST",-1),e.createElementVNode("option",{value:"PUT"},"PUT",-1),e.createElementVNode("option",{value:"DELETE"},"DELETE",-1),e.createElementVNode("option",{value:"PATCH"},"PATCH",-1)])],512),[[e.vModelSelect,F.value]])])):e.createCommentVNode("",!0),e.createElementVNode("div",ed,[t[125]||(t[125]=e.createElementVNode("label",{class:"di-form-label"},"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[39]||(t[39]=l=>z.value=l),rows:"3",placeholder:"このアクションの説明...",class:"di-textarea"},null,512),[[e.vModelText,z.value]])]),k.value==="csv_export"||k.value==="csv_import"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",td,[e.createElementVNode("span",null,[e.createVNode(e.unref(Mt),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[126]||(t[126]=e.createTextVNode(" CSV仕様",-1))])]),e.createElementVNode("div",od,[t[133]||(t[133]=e.createElementVNode("label",{class:"di-form-label"},"ファイル設定",-1)),e.createElementVNode("div",ld,[e.createElementVNode("div",nd,[t[128]||(t[128]=e.createElementVNode("label",{class:"di-form-label"},"エンコーディング",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[40]||(t[40]=l=>N.value=l),class:"di-select"},[...t[127]||(t[127]=[e.createElementVNode("option",{value:"UTF-8"},"UTF-8",-1),e.createElementVNode("option",{value:"Shift_JIS"},"Shift_JIS",-1),e.createElementVNode("option",{value:"EUC-JP"},"EUC-JP",-1),e.createElementVNode("option",{value:"UTF-8 BOM"},"UTF-8 BOM",-1)])],512),[[e.vModelSelect,N.value]])]),e.createElementVNode("div",ad,[t[130]||(t[130]=e.createElementVNode("label",{class:"di-form-label"},"区切り文字",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[41]||(t[41]=l=>le.value=l),class:"di-select"},[...t[129]||(t[129]=[e.createElementVNode("option",{value:","},"カンマ (,)",-1),e.createElementVNode("option",{value:"	"},"タブ",-1),e.createElementVNode("option",{value:"|"},"パイプ (|)",-1)])],512),[[e.vModelSelect,le.value]])])]),e.createElementVNode("div",id,[e.createElementVNode("label",sd,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":t[42]||(t[42]=l=>me.value=l),class:"di-checkbox"},null,512),[[e.vModelCheckbox,me.value]]),t[131]||(t[131]=e.createTextVNode(" ヘッダー行あり ",-1))])]),e.createElementVNode("div",dd,[t[132]||(t[132]=e.createElementVNode("label",{class:"di-form-label"},"ファイル名パターン",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[43]||(t[43]=l=>se.value=l),type:"text",placeholder:"users_{YYYYMMDD}.csv",class:"di-input di-input-mono"},null,512),[[e.vModelText,se.value]])])]),e.createElementVNode("div",rd,[t[136]||(t[136]=e.createElementVNode("label",{class:"di-form-label"},"CSV列定義",-1)),K.value.length>0?(e.openBlock(),e.createElementBlock("div",cd,[t[135]||(t[135]=e.createElementVNode("div",{class:"di-csv-columns-header"},[e.createElementVNode("span",{class:"di-csv-col-no"},"No"),e.createElementVNode("span",{class:"di-csv-col-name"},"項目名"),e.createElementVNode("span",{class:"di-csv-col-db"},"DBマッピング"),e.createElementVNode("span",{class:"di-csv-col-proc"},"加工"),e.createElementVNode("span",{class:"di-csv-col-type"},"型"),e.createElementVNode("span",{class:"di-csv-col-req"},"必須"),e.createElementVNode("span",{class:"di-csv-col-desc"},"説明"),e.createElementVNode("span",{class:"di-csv-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(K.value,(l,r)=>(e.openBlock(),e.createElementBlock("div",{key:r,class:"di-csv-column-row"},[e.createElementVNode("span",ud,e.toDisplayString(r+1),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.name=v,placeholder:"項目名",class:"di-csv-input di-csv-col-name"},null,8,md),[[e.vModelText,l.name]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.dbMapping=v,placeholder:"table.col",class:"di-csv-input di-csv-col-db"},null,8,pd),[[e.vModelText,l.dbMapping]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.processing=v,placeholder:"姓+名, IF...",class:"di-csv-input di-csv-col-proc"},null,8,vd),[[e.vModelText,l.processing]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":v=>l.type=v,class:"di-csv-select di-csv-col-type"},[...t[134]||(t[134]=[e.createElementVNode("option",{value:""},"-",-1),e.createElementVNode("option",{value:"string"},"string",-1),e.createElementVNode("option",{value:"integer"},"integer",-1),e.createElementVNode("option",{value:"decimal"},"decimal",-1),e.createElementVNode("option",{value:"date"},"date",-1),e.createElementVNode("option",{value:"datetime"},"datetime",-1),e.createElementVNode("option",{value:"boolean"},"boolean",-1)])],8,fd),[[e.vModelSelect,l.type]]),e.createElementVNode("label",Vd,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":v=>l.required=v,class:"di-checkbox"},null,8,hd),[[e.vModelCheckbox,l.required]])]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.description=v,placeholder:"備考",class:"di-csv-input di-csv-col-desc"},null,8,Ed),[[e.vModelText,l.description]]),e.createElementVNode("div",yd,[e.createElementVNode("button",{onClick:v=>ht(r,-1),disabled:r===0,class:"di-csv-move-btn",title:"上へ"},[e.createVNode(e.unref(bo),{style:{width:"12px",height:"12px"}})],8,kd),e.createElementVNode("button",{onClick:v=>ht(r,1),disabled:r===K.value.length-1,class:"di-csv-move-btn",title:"下へ"},[e.createVNode(e.unref(Tt),{style:{width:"12px",height:"12px"}})],8,Nd),e.createElementVNode("button",{onClick:v=>lo(r),class:"di-csv-remove-btn",title:"削除"},"×",8,bd)])]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:oo,class:"di-btn-add-field"}," + 列を追加 ")]),k.value==="csv_export"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[t[140]||(t[140]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"出力オプション")],-1)),e.createElementVNode("div",gd,[t[137]||(t[137]=e.createElementVNode("label",{class:"di-form-label"},"ソート順",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[44]||(t[44]=l=>Be.value=l),type:"text",placeholder:"created_at DESC",class:"di-input di-input-mono"},null,512),[[e.vModelText,Be.value]])]),e.createElementVNode("div",xd,[t[138]||(t[138]=e.createElementVNode("label",{class:"di-form-label"},"抽出条件",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[45]||(t[45]=l=>Q.value=l),type:"text",placeholder:"status = 'active'",class:"di-input di-input-mono"},null,512),[[e.vModelText,Q.value]])]),e.createElementVNode("div",wd,[t[139]||(t[139]=e.createElementVNode("label",{class:"di-form-label"},"最大行数",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[46]||(t[46]=l=>pe.value=l),type:"number",placeholder:"10000",class:"di-input"},null,512),[[e.vModelText,pe.value,void 0,{number:!0}]])])],64)):e.createCommentVNode("",!0),k.value==="csv_import"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t[146]||(t[146]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"取込オプション")],-1)),e.createElementVNode("div",Bd,[t[142]||(t[142]=e.createElementVNode("label",{class:"di-form-label"},"エラー処理",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[47]||(t[47]=l=>ve.value=l),class:"di-select"},[...t[141]||(t[141]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"stop_on_first"},"最初のエラーで停止",-1),e.createElementVNode("option",{value:"skip_and_continue"},"スキップして続行",-1),e.createElementVNode("option",{value:"collect_all"},"全エラー収集",-1)])],512),[[e.vModelSelect,ve.value]])]),e.createElementVNode("div",Cd,[t[144]||(t[144]=e.createElementVNode("label",{class:"di-form-label"},"重複処理",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[48]||(t[48]=l=>w.value=l),class:"di-select"},[...t[143]||(t[143]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"skip"},"スキップ",-1),e.createElementVNode("option",{value:"overwrite"},"上書き",-1),e.createElementVNode("option",{value:"error"},"エラー",-1)])],512),[[e.vModelSelect,w.value]])]),e.createElementVNode("div",$d,[t[145]||(t[145]=e.createElementVNode("label",{class:"di-form-label"},"事前バリデーション",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[49]||(t[49]=l=>V.value=l),rows:"2",placeholder:"取込前のチェック内容...",class:"di-textarea"},null,512),[[e.vModelText,V.value]])])],64)):e.createCommentVNode("",!0),t[150]||(t[150]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"エラー定義")],-1)),e.createElementVNode("div",Dd,[d.value.length>0?(e.openBlock(),e.createElementBlock("div",Sd,[t[149]||(t[149]=e.createElementVNode("div",{class:"di-csv-columns-header"},[e.createElementVNode("span",{class:"di-csv-err-col"},"対象列"),e.createElementVNode("span",{class:"di-csv-err-cond"},"エラー条件"),e.createElementVNode("span",{class:"di-csv-err-msg"},"エラーメッセージ"),e.createElementVNode("span",{class:"di-csv-err-sev"},"種別"),e.createElementVNode("span",{class:"di-csv-err-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.value,(l,r)=>(e.openBlock(),e.createElementBlock("div",{key:r,class:"di-csv-column-row"},[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":v=>l.column=v,class:"di-csv-select di-csv-err-col"},[t[147]||(t[147]=e.createElementVNode("option",{value:""},"（全体）",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(io.value,v=>(e.openBlock(),e.createElementBlock("option",{key:v,value:v},e.toDisplayString(v),9,Md))),128))],8,Td),[[e.vModelSelect,l.column]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.condition=v,placeholder:"必須項目が空",class:"di-csv-input di-csv-err-cond"},null,8,_d),[[e.vModelText,l.condition]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.message=v,placeholder:"○○は必須です",class:"di-csv-input di-csv-err-msg"},null,8,Id),[[e.vModelText,l.message]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":v=>l.severity=v,class:"di-csv-select di-csv-err-sev"},[...t[148]||(t[148]=[e.createElementVNode("option",{value:"error"},"エラー",-1),e.createElementVNode("option",{value:"warning"},"警告",-1)])],8,Ud),[[e.vModelSelect,l.severity]]),e.createElementVNode("button",{onClick:v=>ao(r),class:"di-csv-remove-btn",title:"削除"},"×",8,Ld)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:no,class:"di-btn-add-field"}," + エラー定義を追加 ")])],64)):e.createCommentVNode("",!0),k.value==="email"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("div",Fd,[e.createElementVNode("span",null,[e.createVNode(e.unref(To),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[151]||(t[151]=e.createTextVNode(" メール基本設定",-1))])]),e.createElementVNode("div",Pd,[e.createElementVNode("div",Ad,[t[152]||(t[152]=e.createElementVNode("label",{class:"di-form-label"},"トリガー *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[50]||(t[50]=l=>b.value=l),type:"text",placeholder:"注文確定時、ボタンクリック",class:"di-input"},null,512),[[e.vModelText,b.value]])]),e.createElementVNode("div",zd,[t[153]||(t[153]=e.createElementVNode("label",{class:"di-form-label"},"宛先 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[51]||(t[51]=l=>P.value=l),type:"text",placeholder:"ユーザーメール、管理者固定",class:"di-input"},null,512),[[e.vModelText,P.value]])])]),e.createElementVNode("div",Od,[e.createElementVNode("div",jd,[t[154]||(t[154]=e.createElementVNode("label",{class:"di-form-label"},"CC",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[52]||(t[52]=l=>j.value=l),type:"text",placeholder:"CC宛先",class:"di-input"},null,512),[[e.vModelText,j.value]])]),e.createElementVNode("div",qd,[t[155]||(t[155]=e.createElementVNode("label",{class:"di-form-label"},"BCC",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[53]||(t[53]=l=>g.value=l),type:"text",placeholder:"BCC宛先",class:"di-input"},null,512),[[e.vModelText,g.value]])])]),e.createElementVNode("div",Hd,[t[156]||(t[156]=e.createElementVNode("label",{class:"di-form-label"},"件名テンプレート *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[54]||(t[54]=l=>$.value=l),type:"text",placeholder:"【注文確認】ご注文番号 {orderNumber}",class:"di-input"},null,512),[[e.vModelText,$.value]])]),e.createElementVNode("div",Rd,[t[157]||(t[157]=e.createElementVNode("label",{class:"di-form-label"},"本文テンプレート概要",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[55]||(t[55]=l=>f.value=l),rows:"3",placeholder:"本文の概要を記述...",class:"di-textarea"},null,512),[[e.vModelText,f.value]])]),e.createElementVNode("div",Kd,[t[158]||(t[158]=e.createElementVNode("label",{class:"di-form-label"},"テンプレートファイルパス",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[56]||(t[56]=l=>p.value=l),type:"text",placeholder:"resources/mail/order_confirm.blade.php",class:"di-input di-input-mono"},null,512),[[e.vModelText,p.value]])]),t[163]||(t[163]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"差し込み変数")],-1)),e.createElementVNode("div",Yd,[e.createElementVNode("div",Gd,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(l,r)=>(e.openBlock(),e.createElementBlock("span",{key:r,class:"di-calc-tag"},[e.createTextVNode(e.toDisplayString(l)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(v=>uo(r),["stop"]),class:"di-calc-tag-remove"},"×",8,Xd)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[57]||(t[57]=l=>G.value=l),onKeydown:[t[58]||(t[58]=e.withKeys(e.withModifiers(l=>co(),["prevent"]),["enter"])),mo],type:"text",placeholder:"変数名を入力してEnter (例: userName)",class:"di-calc-tags-field",autocomplete:"off"},null,544),[[e.vModelText,G.value]])]),t[159]||(t[159]=e.createElementVNode("span",{class:"di-form-hint"},"Enter で追加",-1))]),t[164]||(t[164]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"オプション")],-1)),e.createElementVNode("div",Zd,[t[160]||(t[160]=e.createElementVNode("label",{class:"di-form-label"},"添付ファイル",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[59]||(t[59]=l=>M.value=l),type:"text",placeholder:"添付ファイルの説明",class:"di-input"},null,512),[[e.vModelText,M.value]])]),e.createElementVNode("div",Jd,[t[161]||(t[161]=e.createElementVNode("label",{class:"di-form-label"},"送信条件",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[60]||(t[60]=l=>he.value=l),type:"text",placeholder:"メール送信設定がONの場合",class:"di-input"},null,512),[[e.vModelText,he.value]])]),e.createElementVNode("div",Qd,[t[162]||(t[162]=e.createElementVNode("label",{class:"di-form-label"},"エラー処理",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[61]||(t[61]=l=>Y.value=l),type:"text",placeholder:"キューに入れてリトライ",class:"di-input"},null,512),[[e.vModelText,Y.value]])])],64)):e.createCommentVNode("",!0),k.value==="sort"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("div",Wd,[e.createElementVNode("span",null,[e.createVNode(e.unref(ko),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[165]||(t[165]=e.createTextVNode(" ソート設定",-1))])]),e.createElementVNode("div",er,[e.createElementVNode("label",tr,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":t[62]||(t[62]=l=>Ne.value=l),class:"di-checkbox"},null,512),[[e.vModelCheckbox,Ne.value]]),t[166]||(t[166]=e.createTextVNode(" このカラムはソート可能 ",-1))])]),Ne.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",or,[e.createElementVNode("div",lr,[t[168]||(t[168]=e.createElementVNode("label",{class:"di-form-label"},"データ型",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[63]||(t[63]=l=>be.value=l),class:"di-select"},[...t[167]||(t[167]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"string"},"文字列",-1),e.createElementVNode("option",{value:"number"},"数値",-1),e.createElementVNode("option",{value:"date"},"日付",-1),e.createElementVNode("option",{value:"custom"},"カスタム",-1)])],512),[[e.vModelSelect,be.value]])]),e.createElementVNode("div",nr,[t[170]||(t[170]=e.createElementVNode("label",{class:"di-form-label"},"デフォルト方向",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[64]||(t[64]=l=>ce.value=l),class:"di-select"},[...t[169]||(t[169]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"asc"},"昇順 (A→Z, 1→9)",-1),e.createElementVNode("option",{value:"desc"},"降順 (Z→A, 9→1)",-1)])],512),[[e.vModelSelect,ce.value]])])]),e.createElementVNode("div",ar,[t[171]||(t[171]=e.createElementVNode("label",{class:"di-form-label"},"ソートキー (DBカラム/APIフィールド)",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[65]||(t[65]=l=>Se.value=l),type:"text",placeholder:"users.name / created_at",class:"di-input di-input-mono"},null,512),[[e.vModelText,Se.value]])]),e.createElementVNode("div",ir,[e.createElementVNode("label",sr,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":t[66]||(t[66]=l=>ue.value=l),class:"di-checkbox"},null,512),[[e.vModelCheckbox,ue.value]]),t[172]||(t[172]=e.createTextVNode(" 初期表示時のデフォルトソート ",-1))])])],64)):e.createCommentVNode("",!0),e.createElementVNode("div",dr,[t[173]||(t[173]=e.createElementVNode("label",{class:"di-form-label"},"未ソート時の並び順",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[67]||(t[67]=l=>x.value=l),type:"text",placeholder:"ID昇順 / 登録日降順 / APIレスポンス順",class:"di-input"},null,512),[[e.vModelText,x.value]])]),e.createElementVNode("div",rr,[t[174]||(t[174]=e.createElementVNode("label",{class:"di-form-label"},"補足",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[68]||(t[68]=l=>fe.value=l),type:"text",placeholder:"サーバーサイドソート / ページネーション時はリセット",class:"di-input"},null,512),[[e.vModelText,fe.value]])])],64)):e.createCommentVNode("",!0),e.createElementVNode("div",cr,[t[175]||(t[175]=e.createElementVNode("label",{class:"di-form-label"},"補足メモ（任意）",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[69]||(t[69]=l=>u.value=l),rows:"2",placeholder:"補足情報があれば...",class:"di-textarea"},null,512),[[e.vModelText,u.value]])])],64)):e.createCommentVNode("",!0),E.value==="form"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("div",ur,[t[177]||(t[177]=e.createElementVNode("label",{class:"di-form-label"},"入力タイプ",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[70]||(t[70]=l=>Z.value=l),class:"di-select"},[...t[176]||(t[176]=[e.createElementVNode("option",{value:""},"選択してください",-1),e.createElementVNode("option",{value:"text"},"テキスト (text)",-1),e.createElementVNode("option",{value:"number"},"数値 (number)",-1),e.createElementVNode("option",{value:"email"},"メール (email)",-1),e.createElementVNode("option",{value:"password"},"パスワード (password)",-1),e.createElementVNode("option",{value:"tel"},"電話番号 (tel)",-1),e.createElementVNode("option",{value:"url"},"URL (url)",-1),e.createElementVNode("option",{value:"date"},"日付 (date)",-1),e.createElementVNode("option",{value:"datetime-local"},"日時 (datetime-local)",-1),e.createElementVNode("option",{value:"select"},"セレクト (select)",-1),e.createElementVNode("option",{value:"textarea"},"テキストエリア (textarea)",-1),e.createElementVNode("option",{value:"checkbox"},"チェックボックス (checkbox)",-1),e.createElementVNode("option",{value:"radio"},"ラジオボタン (radio)",-1),e.createElementVNode("option",{value:"file"},"ファイル (file)",-1)])],512),[[e.vModelSelect,Z.value]])]),O.value.length>0?(e.openBlock(),e.createElementBlock("div",mr,[t[178]||(t[178]=e.createElementVNode("label",{class:"di-form-label"},"対応カラム",-1)),e.createElementVNode("div",pr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.value,(l,r)=>(e.openBlock(),e.createElementBlock("div",{key:r,class:"di-field-tag"},[e.createElementVNode("span",vr,e.toDisplayString(l.table)+"."+e.toDisplayString(l.column),1),l.type?(e.openBlock(),e.createElementBlock("span",fr,e.toDisplayString(l.type),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:v=>He(r),class:"di-field-tag-remove"},"×",8,Vr)]))),128))])])):e.createCommentVNode("",!0),ee.value?(e.openBlock(),e.createElementBlock("div",hr,[e.createElementVNode("div",Er,[e.createElementVNode("label",yr,[e.createVNode(e.unref(Ge),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[179]||(t[179]=e.createTextVNode(" 対応するDBカラム ",-1))]),e.createElementVNode("div",kr,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[71]||(t[71]=l=>De.value=l),onFocus:t[72]||(t[72]=l=>y.value=!0),type:"text",placeholder:"テーブル.カラムを検索...",class:"di-input di-binding-search"},null,544),[[e.vModelText,De.value]]),De.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:t[73]||(t[73]=l=>{De.value="",y.value=!1}),class:"di-binding-clear"},[e.createVNode(e.unref(Ie),{style:{width:"14px",height:"14px"}})])):e.createCommentVNode("",!0)]),y.value&&ae.value.length>0?(e.openBlock(),e.createElementBlock("div",Nr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ae.value,l=>(e.openBlock(),e.createElementBlock("button",{key:l.fullName,onClick:r=>we(l),class:"di-binding-item has-db"},[e.createElementVNode("div",gr,[e.createElementVNode("span",xr,e.toDisplayString(l.fullName),1),e.createElementVNode("span",wr,e.toDisplayString(l.type),1)]),l.comment?(e.openBlock(),e.createElementBlock("span",Br,e.toDisplayString(l.comment),1)):e.createCommentVNode("",!0)],8,br))),128))])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),de.value&&(Z.value==="select"||Z.value==="radio"||Z.value==="checkbox")?(e.openBlock(),e.createElementBlock("div",Cr,[e.createElementVNode("button",{onClick:Et,class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":X.value}])},[e.createVNode(e.unref(Bt),{style:{width:"14px",height:"14px"}}),t[180]||(t[180]=e.createTextVNode(" 選択肢を定義 ",-1)),ge.value?(e.openBlock(),e.createElementBlock("span",$r,e.toDisplayString(ge.value.entries.length)+"件",1)):e.createCommentVNode("",!0)],2),X.value?(e.openBlock(),e.createElementBlock("div",Dr,[q.value.length>0?(e.openBlock(),e.createElementBlock("div",Sr,[t[181]||(t[181]=e.createElementVNode("div",{class:"di-master-entries-header"},[e.createElementVNode("span",{class:"di-master-col-val"},"値"),e.createElementVNode("span",{class:"di-master-col-lbl"},"ラベル"),e.createElementVNode("span",{class:"di-master-col-color"},"色"),e.createElementVNode("span",{class:"di-master-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,(l,r)=>(e.openBlock(),e.createElementBlock("div",{key:r,class:"di-master-entry-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.value=v,placeholder:"1",class:"di-master-input di-master-col-val"},null,8,Tr),[[e.vModelText,l.value]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.label=v,placeholder:"受付",class:"di-master-input di-master-col-lbl"},null,8,Mr),[[e.vModelText,l.label]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":v=>l.color=v,type:"color",class:"di-master-color-input"},null,8,_r),[[e.vModelText,l.color]]),e.createElementVNode("button",{onClick:v=>kt(r),class:"di-master-entry-remove"},"×",8,Ir)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:yt,class:"di-btn-add-field",style:{"margin-top":"4px"}}," + 値を追加 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",Ur,[e.createElementVNode("button",{onClick:t[74]||(t[74]=l=>J.value=!J.value),class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":J.value}])},[e.createVNode(e.unref(St),{style:{width:"14px",height:"14px"}}),t[182]||(t[182]=e.createTextVNode(" 必須入力 ",-1)),J.value?(e.openBlock(),e.createElementBlock("span",Lr,"必須")):e.createCommentVNode("",!0)],2)]),e.createElementVNode("div",Fr,[t[183]||(t[183]=e.createElementVNode("label",{class:"di-form-label"},"バリデーションルール",-1)),e.createElementVNode("div",Pr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,(l,r)=>(e.openBlock(),e.createElementBlock("span",{key:r,class:"di-calc-tag",style:{background:"#ec4899"}},[e.createTextVNode(e.toDisplayString(l)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(v=>eo(r),["stop"]),class:"di-calc-tag-remove"},"×",8,Ar)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[75]||(t[75]=l=>U.value=l),onKeydown:[t[76]||(t[76]=e.withKeys(e.withModifiers(l=>Wt(),["prevent"]),["enter"])),to],type:"text",placeholder:B.value.length===0?"max:255, email, 必須 など (Enter で追加)":"",class:"di-calc-tags-field",autocomplete:"off"},null,40,zr),[[e.vModelText,U.value]])]),t[184]||(t[184]=e.createElementVNode("span",{class:"di-form-hint"},"Enter で追加、Backspace で削除",-1))]),e.createElementVNode("div",Or,[t[185]||(t[185]=e.createElementVNode("label",{class:"di-form-label"},"プレースホルダー",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[77]||(t[77]=l=>R.value=l),type:"text",placeholder:"例: user@example.com",class:"di-input"},null,512),[[e.vModelText,R.value]])]),e.createElementVNode("div",jr,[t[186]||(t[186]=e.createElementVNode("label",{class:"di-form-label"},"デフォルト値",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[78]||(t[78]=l=>te.value=l),type:"text",placeholder:"初期値",class:"di-input di-input-mono"},null,512),[[e.vModelText,te.value]])]),e.createElementVNode("div",qr,[t[187]||(t[187]=e.createElementVNode("label",{class:"di-form-label"},"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[79]||(t[79]=l=>oe.value=l),rows:"3",placeholder:"このフォーム要素の説明...",class:"di-textarea"},null,512),[[e.vModelText,oe.value]])]),e.createElementVNode("div",Hr,[t[188]||(t[188]=e.createElementVNode("label",{class:"di-form-label"},"補足メモ（任意）",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[80]||(t[80]=l=>u.value=l),rows:"2",placeholder:"補足情報があれば...",class:"di-textarea"},null,512),[[e.vModelText,u.value]])])],64)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Rr,[e.createElementVNode("button",{onClick:rt,class:"di-btn-delete"},[e.createVNode(e.unref(lt),{style:{width:"14px",height:"14px"}}),t[189]||(t[189]=e.createTextVNode(" 削除 ",-1))]),e.createElementVNode("div",Kr,[e.createElementVNode("button",{onClick:Ye,class:"di-btn-cancel"},"キャンセル"),e.createElementVNode("button",{onClick:et,class:"di-btn-save"},[e.createVNode(e.unref(_t),{style:{width:"14px",height:"14px"}}),t[190]||(t[190]=e.createTextVNode(" 保存 ",-1))])])])],2)])):e.createCommentVNode("",!0)]))}}),Ut=dt(Yr,[["__scopeId","data-v-9b622171"]]),Gr={key:0,"data-dev-inspector":"",class:"di-loading-overlay"},Xr={class:"di-highlight-label"},Zr=["onClick"],Jr={key:0,class:"di-note-label-row"},Qr=["onClick"],Wr={"data-dev-inspector":"",class:"di-scan-banner"},ec=["onClick"],tc={class:"di-analysis-type"},oc={key:0,class:"di-analysis-tags"},lc={key:1,class:"di-analysis-db"},nc={key:2,class:"di-analysis-api-source"},ac={key:3,class:"di-analysis-conditional"},ic=["onClick"],sc={key:0,class:"di-analysis-text"},dc={"data-dev-inspector":"",class:"di-analysis-banner"},rc=["onClick"],cc={key:0,class:"di-unannotated-label-text"},uc=e.defineComponent({__name:"DevPickOverlay",setup(T){const a=Qe.useDevInspectorStore(),E=e.ref(null),k=e.ref(null),I=e.ref(0),F=e.ref(0),z=e.ref(0),Z={db_direct:"#3b82f6",db_formatted:"#8b5cf6",calculated:"#f59e0b",static:"#10b981",other:"#94a3b8"},J={action:"#a78bfa",form:"#ec4899"};function B(w){return{db:"DB",form:"フォーム",button:"ボタン",link:"リンク",modal:"モーダル",conditional:"条件",computed:"計算",api:"API",other:"その他"}[w]||w}function U(w){var d,b;const V=a.getElementConfig(w);if(V!=null&&V.elementType&&J[V.elementType])return J[V.elementType];if((d=V==null?void 0:V.note)!=null&&d.displayType)return Z[V.note.displayType]||"#60a5fa";if(!(V!=null&&V.sourceBinding)){const P=((b=V==null?void 0:V.note)==null?void 0:b.type)||"info";return{info:"#60a5fa",warning:"#fbbf24",todo:"#10b981",question:"#a78bfa"}[P]||"#60a5fa"}return V.sourceBinding.isStatic?"#10b981":V.sourceBinding.type==="v-model"?"#8b5cf6":V.sourceBinding.type==="api"?"#f59e0b":"#60a5fa"}function R(w){var g,$,f,p,h;const V=a.noteHighlightFilter;if(V==="all")return!0;const d=a.getElementConfig(w);if(!d)return!1;const b=(g=d.note)==null?void 0:g.displayType,P=!!(($=d.note)!=null&&$.condition||(f=d.note)!=null&&f.conditionColumn),j=!!((p=d.note)!=null&&p.storedCalc);switch(V){case"db":return b==="db_direct"||b==="db_formatted";case"calculated":return b==="calculated";case"storedCalc":return j;case"static":return b==="static";case"conditional":return P;case"action":return d.elementType==="action";case"form":return d.elementType==="form";case"other":return b==="other"||!b&&!d.elementType&&!!((h=d.note)!=null&&h.text);default:return!0}}function te(){var P,j;const w=document.querySelector("dialog[open]");if(w)return w;const V=document.querySelectorAll('[role="dialog"], [role="alertdialog"]');for(const g of V){const $=g.getBoundingClientRect();if($.width>0&&$.height>0)return g}const d='.v-overlay--active .v-overlay__content, .el-dialog__wrapper:not([style*="display: none"]) .el-dialog, .modal.show .modal-dialog, .modal-overlay[style*="display: block"], .v-dialog--active';try{const g=document.querySelector(d);if(g){const $=g.getBoundingClientRect();if($.width>0&&$.height>0)return g}}catch{}const b=document.querySelectorAll(".fixed.inset-0, .fixed.inset-x-0.inset-y-0, [data-modal], [data-overlay]");for(const g of b){if(((P=g.dataset)==null?void 0:P.devInspector)!==void 0)continue;const $=getComputedStyle(g),f=parseInt($.zIndex,10);if(isNaN(f)||f<40)continue;const p=g.getBoundingClientRect();if(p.width>=window.innerWidth*.9&&p.height>=window.innerHeight*.9)return g}for(const g of document.body.children){if(((j=g.dataset)==null?void 0:j.devInspector)!==void 0)continue;const $=getComputedStyle(g);if($.position!=="fixed")continue;const f=parseInt($.zIndex,10);if(isNaN(f)||f<40)continue;const p=g.getBoundingClientRect();if(p.width>=window.innerWidth*.9&&p.height>=window.innerHeight*.9)return g}return null}function oe(w,V){return V.contains(w)}const K=e.computed(()=>{var j,g,$,f,p,h,G,M,he,Y,Ne,be,Se,ce,ue,x,fe,X,q,de,ge,C,O,_,W,Ce,Te,Ue,Ve,ne,Re,Me,Le,xe,Fe,Pe,ye,Ae,ke,$e,Ke,ze,_e,s,o,n,m;const w=I.value,V=F.value;z.value;const d=[];if(!a.isEnabled)return d;const b=te(),P=a.getConfiguredSelectors();for(const u of P)try{const A=document.querySelector(u);if(A){if(b&&!oe(A,b))continue;const H=A.getBoundingClientRect(),i=a.getElementConfig(u),Oe=((j=i==null?void 0:i.sourceBinding)==null?void 0:j.isStatic)||!1,Ee=((g=i==null?void 0:i.sourceBinding)==null?void 0:g.type)||"";let L="",ie="";const Xe=($=i==null?void 0:i.note)==null?void 0:$.displayType,qe=[];if((f=i==null?void 0:i.note)!=null&&f.sampleValue?qe.push(`例: ${i.note.sampleValue}${i.note.unit?i.note.unit:""}`):(p=i==null?void 0:i.note)!=null&&p.unit&&qe.push(`単位: ${i.note.unit}`),(h=i==null?void 0:i.note)!=null&&h.decimalHandling){const y={round:"四捨五入",floor:"切り捨て",ceil:"切り上げ",decimal_1:"小数第1位",decimal_2:"小数第2位",integer:"整数"};qe.push(y[i.note.decimalHandling]||i.note.decimalHandling)}(G=i==null?void 0:i.note)!=null&&G.nullDisplay&&qe.push(`NULL時: ${i.note.nullDisplay}`),(M=i==null?void 0:i.note)!=null&&M.displayFormat&&qe.push(i.note.displayFormat);const We=qe.length>0?`
${qe.join(" / ")}`:"",Ye=!!((he=i==null?void 0:i.note)!=null&&he.condition||(Y=i==null?void 0:i.note)!=null&&Y.conditionColumn);let Ze="";if(Ye){const y={hidden:"非表示",disabled:"無効化",different_value:"別の値",empty:"空欄"},ae=[];(Ne=i==null?void 0:i.note)!=null&&Ne.condition&&ae.push(i.note.condition),(be=i==null?void 0:i.note)!=null&&be.conditionColumn&&ae.push(`判定: ${i.note.conditionColumn}`),(Se=i==null?void 0:i.note)!=null&&Se.hiddenBehavior&&ae.push(`不一致時: ${y[i.note.hiddenBehavior]||i.note.hiddenBehavior}`),(ce=i==null?void 0:i.note)!=null&&ce.hiddenNote&&ae.push(`→ ${i.note.hiddenNote}`),Ze=`
条件: ${ae.join(" / ")}`}const et=Ye?" ⚡":"";if((i==null?void 0:i.elementType)==="action"&&(i!=null&&i.actionInfo)){const y=i.actionInfo;y.type==="navigate"?L=`遷移: ${y.target||"?"}`:y.type==="api"?L=`API: ${y.method||"GET"} ${y.target||"?"}`:y.type==="modal"?L=`モーダル: ${y.target||"?"}`:y.type==="emit"?L=`イベント: ${y.target||"?"}`:y.type==="function"?L=`関数: ${y.target||"?"}`:L="アクション",ie=(y.description||L)+((ue=i==null?void 0:i.note)!=null&&ue.text?`
${i.note.text}`:"")}else if((i==null?void 0:i.elementType)==="form"&&(i!=null&&i.formInfo)){const y=i.formInfo,ae=(x=i==null?void 0:i.fieldInfoList)!=null&&x.length?i.fieldInfoList:i!=null&&i.fieldInfo?[i.fieldInfo]:[],we=ae.length>0?ae.map(Je=>`${Je.table}.${Je.column}`).join(", "):"",je=ae.length>0?`${ae[0].table}.${ae[0].column}`:"",He=je?a.getMasterDefinition(je):null;y.inputType==="select"?L=`選択: ${we||y.description||"?"}${He?` (${He.entries.length}件)`:""}`:y.inputType==="textarea"?L=`テキスト: ${we||y.description||"?"}`:y.inputType==="checkbox"?L=`チェック: ${we||y.description||"?"}`:y.inputType==="radio"?L=`ラジオ: ${we||y.description||"?"}`:L=`入力: ${we||y.description||y.inputType||"?"}`,y.required&&(L+=" (必須)");const ee=[];y.description&&ee.push(y.description),(fe=y.validation)!=null&&fe.length&&ee.push(`検証: ${y.validation.join(", ")}`),y.placeholder&&ee.push(`placeholder: ${y.placeholder}`),y.defaultValue&&ee.push(`初期値: ${y.defaultValue}`),ie=ee.join(`
`)+((X=i==null?void 0:i.note)!=null&&X.text?`
${i.note.text}`:"")}else if((i==null?void 0:i.elementType)==="action")L="アクション",ie=((q=i==null?void 0:i.note)==null?void 0:q.text)||"";else if((i==null?void 0:i.elementType)==="form")L="フォーム",ie=((de=i==null?void 0:i.note)==null?void 0:de.text)||"";else if(Xe==="db_direct"){const y=(ge=i==null?void 0:i.fieldInfoList)!=null&&ge.length?i.fieldInfoList:i!=null&&i.fieldInfo?[i.fieldInfo]:[];if(y.length>0){const ae=y.map(ee=>`${ee.table}.${ee.column}`).join(", "),we=`${y[0].table}.${y[0].column}`,je=a.getMasterDefinition(we),He=je?` (${je.entries.length}値)`:"";L=`DB: ${ae}${He}${et}`,ie=y.map(ee=>`${ee.table}.${ee.column}${ee.type?` (${ee.type})`:""}`).join(`
`)+We+Ze+((C=i==null?void 0:i.note)!=null&&C.text?`
${i.note.text}`:"")}}else if(Xe==="db_formatted"){const y=(O=i==null?void 0:i.fieldInfoList)!=null&&O.length?i.fieldInfoList:i!=null&&i.fieldInfo?[i.fieldInfo]:[];if(y.length>0){const ae=y.map(ee=>`${ee.table}.${ee.column}`).join(", "),we=`${y[0].table}.${y[0].column}`,je=a.getMasterDefinition(we),He=je?` (${je.entries.length}値)`:"";L=`DB: ${ae} (整形)${He}${et}`,ie=y.map(ee=>`${ee.table}.${ee.column}`).join(`
`)+((_=i==null?void 0:i.note)!=null&&_.formatDescription?`
整形: ${i.note.formatDescription}`:"")+We+Ze+((W=i==null?void 0:i.note)!=null&&W.text?`
${i.note.text}`:"")}}else Xe==="calculated"?(L="計算値"+((Ce=i==null?void 0:i.note)!=null&&Ce.unit?` (${i.note.unit})`:"")+et,ie=(((Te=i==null?void 0:i.note)==null?void 0:Te.calcDescription)||"計算値")+((Ve=(Ue=i==null?void 0:i.note)==null?void 0:Ue.calcSources)!=null&&Ve.length?`
参照: ${i.note.calcSources.join(", ")}`:"")+We+Ze+((ne=i==null?void 0:i.note)!=null&&ne.text?`
${i.note.text}`:"")):Xe==="static"?(L="固定"+et,ie=(((Re=i==null?void 0:i.note)==null?void 0:Re.text)||"固定文言")+Ze):Xe==="other"?(L="メモ",ie=((Me=i==null?void 0:i.note)==null?void 0:Me.text)||""):(Le=i==null?void 0:i.fieldInfoList)!=null&&Le.length||(xe=i==null?void 0:i.fieldInfo)!=null&&xe.table&&((Fe=i==null?void 0:i.fieldInfo)!=null&&Fe.column)?(L=`DB: ${((Pe=i==null?void 0:i.fieldInfoList)!=null&&Pe.length?i.fieldInfoList:i!=null&&i.fieldInfo?[i.fieldInfo]:[]).map(we=>`${we.table}.${we.column}`).join(", ")}`,ie=((ye=i==null?void 0:i.note)==null?void 0:ye.text)||""):Oe?(L="固定",ie=((Ae=i==null?void 0:i.note)==null?void 0:Ae.text)||"固定文言"):Ee==="v-model"?(L="フォーム",ie=((ke=i==null?void 0:i.note)==null?void 0:ke.text)||""):Ee==="api"?(L="データ",ie=(($e=i==null?void 0:i.note)==null?void 0:$e.text)||""):(Ke=i==null?void 0:i.note)!=null&&Ke.type?(L={info:"情報",warning:"注意",todo:"TODO",question:"質問"}[i.note.type]||"メモ",ie=((ze=i==null?void 0:i.note)==null?void 0:ze.text)||""):(L="メモ",ie=((_e=i==null?void 0:i.note)==null?void 0:_e.text)||"");const rt=ie||((s=i==null?void 0:i.note)==null?void 0:s.text)||"",ct=((o=i==null?void 0:i.note)==null?void 0:o.type)||"info",De=!!((n=i==null?void 0:i.note)!=null&&n.text||(m=i==null?void 0:i.note)!=null&&m.displayType);d.push({selector:u,top:`${H.top+w}px`,left:`${H.left+V}px`,width:`${H.width}px`,height:`${H.height}px`,color:U(u),isStatic:Oe,label:L,noteText:rt,noteType:ct,hasNote:De})}}catch{}return d}),N=e.computed(()=>{var P;const w=I.value,V=F.value;z.value;const d=[];if(!a.isEnabled||a.scanResults.length===0)return d;const b=te();for(const j of a.scanResults)try{const g=document.querySelector(j.selector);if(g){if(b&&!oe(g,b))continue;const $=g.getBoundingClientRect();d.push({selector:j.selector,top:`${$.top+w}px`,left:`${$.left+V}px`,width:`${$.width}px`,height:`${$.height}px`,isStatic:((P=j.detected.sourceBinding)==null?void 0:P.isStatic)||!1})}}catch{}return d}),le=e.computed(()=>{var j,g;const w=I.value,V=F.value;z.value;const d=[],b=a.analysisFilter;if(b==="none"||!a.isEnabled||a.analysisResults.length===0)return d;const P=te();for(const $ of a.analysisResults){if(!$.matched)continue;const f=$.element;try{const p=document.querySelector($.selector);if(!p||P&&!oe(p,P))continue;const h=p.getBoundingClientRect();if(h.width>window.innerWidth*.8||h.height>window.innerHeight*.5)continue;const G=p.querySelector("[data-di-binding]")||(p.hasAttribute("data-di-binding")?p:null);let M="",he=f.binding||"";const Y=[...f.tags||[]];if(G){const _=G.getAttribute("data-di-db"),W=G.getAttribute("data-di-binding");_&&(M=_,Y.includes("db")||Y.push("db")),W&&(he=W)}!M&&f.db&&(M=`${f.db.table}.${f.db.column}`,Y.includes("db")||Y.push("db"));let Ne="";f.api&&(Ne=`${f.api.method} ${f.api.endpoint}`,Y.includes("api")||Y.push("api"));let be="";if(he){const _=a.getApiSourceForBinding(he);_&&_.endpoint?be=`${_.method||"GET"} ${_.endpoint}`:_&&_.composable&&(be=_.composable)}const Se=(j=f.conditional)==null?void 0:j.expression,ce=(g=f.modal)==null?void 0:g.target,ue=!!M||Y.includes("db"),x=!!Ne||Y.includes("api"),fe=Y.includes("form"),X=Y.includes("button"),q=Y.includes("link"),de=Y.includes("modal"),ge=Y.includes("conditional"),C=Y.includes("computed");if(b==="db-api"){if(!ue&&!x)continue}else if(b==="form"){if(!fe)continue}else if(b==="button"){if(!X)continue}else if(b==="link"){if(!q)continue}else if(b==="modal"){if(!de)continue}else if(b==="conditional"){if(!ge)continue}else if(b==="computed"){if(!C)continue}else if(b==="other"&&(ue||x||fe||X||q||de||ge||C))continue;let O="other";ue?O="db":x?O="api":fe?O="form":X?O="button":q?O="link":de?O="modal":ge?O="conditional":C&&(O="computed"),d.push({selector:$.selector,top:`${h.top+w}px`,left:`${h.left+V}px`,width:`${h.width}px`,height:`${h.height}px`,tags:Y,primaryTag:O,text:f.text||he||"",dbInfo:M,apiInfo:Ne,apiSource:be,conditionalExpr:Se,modalTarget:ce})}catch{}}return d}),me=e.computed(()=>{const w=I.value,V=F.value;z.value;const d=[];if(!a.isEnabled||!a.showUnannotatedDetection||a.unannotatedElements.length===0)return d;const b=te();for(const P of a.unannotatedElements)try{const j=document.querySelector(P.selector);if(!j||b&&!oe(j,b))continue;const g=j.getBoundingClientRect();d.push({selector:P.selector,top:`${g.top+w}px`,left:`${g.left+V}px`,width:`${g.width}px`,height:`${g.height}px`,category:P.category,text:P.text})}catch{}return d});function se(w){if(!a.isPickMode)return;if(w.target.closest("[data-dev-inspector]")){E.value=null,k.value=null,a.setHoveredSelector(null);return}const d=document.elementFromPoint(w.clientX,w.clientY);if(!d||d===document.body||d===document.documentElement){E.value=null,k.value=null,a.setHoveredSelector(null);return}if(d.closest("[data-dev-inspector]"))return;k.value=d;const b=d.getBoundingClientRect();E.value={top:`${b.top+window.scrollY}px`,left:`${b.left+window.scrollX}px`,width:`${b.width}px`,height:`${b.height}px`};const P=a.generateSelector(d);a.setHoveredSelector(P)}function Be(w){if(!(!a.isPickMode||w.target.closest("[data-dev-inspector]"))&&(w.preventDefault(),w.stopPropagation(),k.value)){const d=a.generateSelector(k.value);if(a.remapTargetId){a.remapAnnotation(a.remapTargetId,d),a.remapTargetId=null,a.togglePickMode(),a.openPanel();return}a.startEditing(d),a.togglePickMode()}}function Q(w){w.key==="Escape"&&a.isPickMode&&(a.remapTargetId=null,a.togglePickMode())}function pe(){I.value=window.scrollY,F.value=window.scrollX,z.value++}let ve=null;return e.onMounted(()=>{window.addEventListener("mousemove",se,!0),window.addEventListener("click",Be,!0),window.addEventListener("keydown",Q),window.addEventListener("scroll",pe),window.addEventListener("resize",pe),ve=new MutationObserver(()=>{z.value++}),ve.observe(document.body,{childList:!0,subtree:!1})}),e.onUnmounted(()=>{window.removeEventListener("mousemove",se,!0),window.removeEventListener("click",Be,!0),window.removeEventListener("keydown",Q),window.removeEventListener("scroll",pe),window.removeEventListener("resize",pe),ve==null||ve.disconnect()}),e.watch(()=>a.isPickMode,w=>{w||(E.value=null,k.value=null)}),(w,V)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(a).isInitializing?(e.openBlock(),e.createElementBlock("div",Gr,[...V[1]||(V[1]=[e.createElementVNode("div",{class:"di-loading-content"},[e.createElementVNode("div",{class:"di-loading-spinner"}),e.createElementVNode("span",{class:"di-loading-text"},"Developer Mode 起動中...")],-1)])])):e.createCommentVNode("",!0),e.unref(a).isPickMode&&E.value?(e.openBlock(),e.createElementBlock("div",{key:1,"data-dev-inspector":"",class:"di-highlight",style:e.normalizeStyle({top:E.value.top,left:E.value.left,width:E.value.width,height:E.value.height})},[e.createElementVNode("div",Xr,e.toDisplayString(e.unref(a).hoveredSelector),1)],4)):e.createCommentVNode("",!0),e.unref(a).isPickMode?(e.openBlock(),e.createElementBlock("div",{key:2,"data-dev-inspector":"",class:"di-pick-banner",style:e.normalizeStyle(e.unref(a).remapTargetId?{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"}:{})},[e.createElementVNode("span",null,e.toDisplayString(e.unref(a).remapTargetId?"新しい要素をクリックして再設定":"要素をクリックしてメモを追加"),1),V[2]||(V[2]=e.createElementVNode("kbd",null,"ESC",-1)),V[3]||(V[3]=e.createElementVNode("span",{class:"di-pick-hint"},"でキャンセル",-1))],4)):e.createCommentVNode("",!0),e.unref(a).isEnabled&&!e.unref(a).isPickMode&&!e.unref(a).editingElementId?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:3},e.renderList(K.value,d=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:d.selector,"data-dev-inspector":"",class:e.normalizeClass([d.hasNote?"di-note-highlight":"di-annotation-box",{"di-element-hovered-pulse":e.unref(a).hoveredSelector===d.selector}]),style:e.normalizeStyle({top:d.top,left:d.left,width:d.width,height:d.height,borderColor:(d.hasNote,d.color),backgroundColor:e.unref(a).hoveredSelector===d.selector?d.color+"30":d.color+(d.hasNote?"18":"15")}),onClick:b=>e.unref(a).startEditing(d.selector)},[d.hasNote?(e.openBlock(),e.createElementBlock("div",Jr,[e.createElementVNode("span",{class:"di-note-indicator",style:e.normalizeStyle({backgroundColor:d.color})},null,4),e.createElementVNode("div",{class:"di-annotation-label",style:e.normalizeStyle({backgroundColor:d.color})},e.toDisplayString(d.label),5)])):(e.openBlock(),e.createElementBlock("div",{key:1,class:"di-annotation-label",style:e.normalizeStyle({backgroundColor:d.color})},e.toDisplayString(d.label),5))],14,Zr)),[[e.vShow,!d.hasNote||e.unref(a).showNoteHighlights&&R(d.selector)]])),128)):e.createCommentVNode("",!0),e.unref(a).isEnabled&&!e.unref(a).editingElementId&&N.value.length>0&&e.unref(a).analysisResults.length===0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,d=>(e.openBlock(),e.createElementBlock("div",{key:"scan-"+d.selector,"data-dev-inspector":"",class:e.normalizeClass(["di-scan-highlight",{"di-scan-static":d.isStatic}]),style:e.normalizeStyle({top:d.top,left:d.left,width:d.width,height:d.height}),onClick:b=>e.unref(a).startEditing(d.selector)},[e.createElementVNode("div",{class:e.normalizeClass(["di-scan-label",{"di-scan-label-static":d.isStatic}])},e.toDisplayString(d.isStatic?"固定文言":"動的データ"),3)],14,Qr))),128)),e.createElementVNode("div",Wr,[e.createElementVNode("span",null,e.toDisplayString(N.value.length)+"件の要素を検出",1),e.createElementVNode("button",{onClick:V[0]||(V[0]=d=>e.unref(a).clearScanResults()),class:"di-scan-banner-close"},"✕ 閉じる")])],64)):e.createCommentVNode("",!0),e.unref(a).isEnabled&&!e.unref(a).editingElementId&&le.value.length>0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:5},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(le.value,d=>(e.openBlock(),e.createElementBlock("div",{key:"analysis-"+d.selector,"data-dev-inspector":"",class:e.normalizeClass(["di-analysis-highlight","di-analysis-"+d.primaryTag]),style:e.normalizeStyle({top:d.top,left:d.left,width:d.width,height:d.height}),onClick:b=>e.unref(a).startEditing(d.selector)},[e.createElementVNode("div",{class:e.normalizeClass(["di-analysis-label","di-analysis-label-"+d.primaryTag])},[e.createElementVNode("span",tc,e.toDisplayString(B(d.primaryTag)),1),d.tags.length>1?(e.openBlock(),e.createElementBlock("span",oc,"+"+e.toDisplayString(d.tags.length-1),1)):e.createCommentVNode("",!0),d.dbInfo?(e.openBlock(),e.createElementBlock("span",lc,e.toDisplayString(d.dbInfo),1)):e.createCommentVNode("",!0),d.apiSource?(e.openBlock(),e.createElementBlock("span",nc,"← "+e.toDisplayString(d.apiSource),1)):e.createCommentVNode("",!0),d.conditionalExpr?(e.openBlock(),e.createElementBlock("span",ac,e.toDisplayString(d.conditionalExpr),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"di-analysis-delete",onClick:e.withModifiers(b=>e.unref(a).removeAnalysisResult(d.selector),["stop"]),title:"この要素を非表示"},"×",8,ic)],2),d.text&&d.text.length<30?(e.openBlock(),e.createElementBlock("div",sc,e.toDisplayString(d.text),1)):e.createCommentVNode("",!0)],14,ec))),128)),e.createElementVNode("div",dc,[e.createElementVNode("span",null,"📊 分析データ: "+e.toDisplayString(le.value.length)+"件の要素",1)])],64)):e.createCommentVNode("",!0),e.unref(a).isEnabled&&!e.unref(a).isPickMode&&!e.unref(a).editingElementId&&me.value.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:6},e.renderList(me.value,d=>(e.openBlock(),e.createElementBlock("div",{key:"unannotated-"+d.selector,"data-dev-inspector":"",class:e.normalizeClass(["di-unannotated-highlight",{"di-unannotated-hovered":e.unref(a).hoveredUnannotatedSelector===d.selector,["di-unannotated-hovered-"+d.category]:e.unref(a).hoveredUnannotatedSelector===d.selector}]),style:e.normalizeStyle({top:d.top,left:d.left,width:d.width,height:d.height}),onClick:b=>e.unref(a).quickAnnotate(d.selector,d.category==="form"?"form":d.category==="action"?"action":"datasource")},[e.createElementVNode("div",{class:e.normalizeClass(["di-unannotated-label",{["di-unannotated-label-"+d.category]:e.unref(a).hoveredUnannotatedSelector===d.selector}])},[e.createElementVNode("span",null,e.toDisplayString(d.category==="binding"?"DB":d.category==="form"?"Form":"Act"),1),d.text?(e.openBlock(),e.createElementBlock("span",cc,e.toDisplayString(d.text),1)):e.createCommentVNode("",!0)],2)],14,rc))),128)):e.createCommentVNode("",!0)]))}}),Lt=dt(uc,[["__scopeId","data-v-2d23ecdd"]]),mc={class:"di-editor-modal"},pc={class:"di-editor-header"},vc={class:"di-header-actions"},fc={class:"di-path-badge"},Vc={class:"di-editor-content"},hc={class:"di-form-group"},Ec={class:"di-form-group"},yc={class:"di-form-section"},kc={class:"di-form-section-header"},Nc={class:"di-api-header-actions"},bc={class:"di-dropdown-wrapper"},gc={key:1,class:"di-suggestion-dropdown"},xc={key:0,class:"di-suggestion-actions"},wc=["onMousedown","disabled"],Bc={class:"di-suggestion-endpoint"},Cc={key:0,class:"di-suggestion-timing"},$c={key:1,class:"di-suggestion-empty"},Dc={key:0,class:"di-suggestion-banner"},Sc={key:1,class:"di-suggestion-banner di-suggestion-banner-empty"},Tc={key:2,class:"di-empty-hint"},Mc={class:"di-api-entry-row"},_c=["onUpdate:modelValue"],Ic=["value"],Uc=["onUpdate:modelValue"],Lc=["onClick"],Fc={class:"di-api-entry-row2"},Pc=["onUpdate:modelValue"],Ac=["onUpdate:modelValue"],zc=["value"],Oc={class:"di-form-section"},jc={class:"di-auth-row"},qc={key:0,class:"di-auth-details"},Hc={class:"di-form-group"},Rc={class:"di-form-group"},Kc={class:"di-form-group"},Yc={class:"di-form-group"},Gc={class:"di-editor-footer"},Xc={class:"di-editor-actions"},Zc=["disabled"],Jc=e.defineComponent({__name:"DevScreenEditor",setup(T){const a=Qe.useDevInspectorStore(),E=e.ref(""),k=e.ref(""),I=e.ref([]),F=e.ref(!1),z=e.ref(""),Z=e.ref(""),J=e.ref(""),B=e.ref(""),U=e.ref(!1),R=e.ref([]),te=e.ref(!1),oe=e.computed(()=>typeof window<"u"?window.location.pathname:"/");e.watch(()=>a.editingScreen,f=>{f&&K()});function K(){var p,h,G,M;const f=a.getScreenConfig();f?(E.value=f.name,k.value=f.description||"",I.value=f.apis.map(he=>({...he})),F.value=((p=f.auth)==null?void 0:p.required)||!1,z.value=((G=(h=f.auth)==null?void 0:h.roles)==null?void 0:G.join(", "))||"",Z.value=((M=f.auth)==null?void 0:M.description)||"",J.value=f.figmaUrl||"",B.value=f.notes||""):N()}function N(){E.value="",k.value="",I.value=[],F.value=!1,z.value="",Z.value="",J.value="",B.value=""}function le(){a.editingScreen=!1,N()}function me(){I.value.push({method:"GET",endpoint:"",description:"",loadTiming:"onMount"})}function se(f){I.value.splice(f,1)}function Be(){if(!E.value.trim())return;const f={path:oe.value,name:E.value.trim(),description:k.value.trim()||void 0,apis:I.value.filter(p=>p.endpoint.trim()),auth:F.value||z.value.trim()?{required:F.value,roles:z.value.trim()?z.value.split(",").map(p=>p.trim()).filter(Boolean):void 0,description:Z.value.trim()||void 0}:void 0,figmaUrl:J.value.trim()||void 0,notes:B.value.trim()||void 0,updatedAt:new Date().toISOString()};a.setScreenConfig(f),le()}function Q(){a.deleteScreenConfig(oe.value),le()}const pe={GET:"#10b981",POST:"#3b82f6",PUT:"#f59e0b",DELETE:"#ef4444",PATCH:"#8b5cf6"},ve={onMount:"読込時",action:"アクション",conditional:"条件付き"};function w(){R.value=a.suggestScreenApis(),U.value=!0}function V(f){return I.value.some(p=>p.method===f.method&&p.endpoint===f.endpoint)}const d=e.computed(()=>R.value.filter(f=>!V(f)));function b(f){V(f)||I.value.push({...f})}function P(){for(const f of d.value)I.value.push({...f})}function j(){setTimeout(()=>{te.value=!1},150)}const g=["GET","POST","PUT","DELETE","PATCH"],$=[{value:"onMount",label:"画面読込時"},{value:"action",label:"アクション時"},{value:"conditional",label:"条件付き"}];return(f,p)=>(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.unref(a).editingScreen?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-editor-overlay",onClick:e.withModifiers(le,["self"]),"data-dev-inspector":""},[e.createElementVNode("div",mc,[e.createElementVNode("div",pc,[p[9]||(p[9]=e.createElementVNode("h3",null,"画面情報を編集",-1)),e.createElementVNode("div",vc,[e.createElementVNode("span",fc,e.toDisplayString(oe.value),1),e.createElementVNode("button",{onClick:le,class:"di-editor-close"},[e.createVNode(e.unref(Ie),{style:{width:"20px",height:"20px"}})])])]),e.createElementVNode("div",Vc,[e.createElementVNode("div",hc,[p[10]||(p[10]=e.createElementVNode("label",{class:"di-form-label"},"画面名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":p[0]||(p[0]=h=>E.value=h),type:"text",placeholder:"ユーザー詳細",class:"di-input"},null,512),[[e.vModelText,E.value]])]),e.createElementVNode("div",Ec,[p[11]||(p[11]=e.createElementVNode("label",{class:"di-form-label"},"画面の説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":p[1]||(p[1]=h=>k.value=h),rows:"2",placeholder:"この画面の概要...",class:"di-textarea"},null,512),[[e.vModelText,k.value]])]),e.createElementVNode("div",yc,[e.createElementVNode("div",kc,[p[15]||(p[15]=e.createElementVNode("label",{class:"di-form-label"},"API一覧",-1)),e.createElementVNode("div",Nc,[e.createElementVNode("button",{onClick:w,class:"di-btn-suggest",title:"要素情報からAPI推定"},[e.createVNode(e.unref(st),{style:{width:"13px",height:"13px"}}),p[12]||(p[12]=e.createTextVNode(" 自動推定 ",-1))]),e.createElementVNode("div",bc,[R.value.length>0?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:p[2]||(p[2]=h=>te.value=!te.value),onBlur:p[3]||(p[3]=h=>j()),class:"di-btn-dropdown",title:"推定結果から選択"},[e.createVNode(e.unref(Tt),{style:{width:"13px",height:"13px"}}),p[13]||(p[13]=e.createTextVNode(" 候補から選択 ",-1))],32)):e.createCommentVNode("",!0),te.value&&R.value.length>0?(e.openBlock(),e.createElementBlock("div",gc,[d.value.length>0?(e.openBlock(),e.createElementBlock("div",xc,[e.createElementVNode("button",{onMousedown:e.withModifiers(P,["prevent"]),class:"di-suggestion-add-all"}," すべて追加 ("+e.toDisplayString(d.value.length)+") ",33)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(R.value,(h,G)=>(e.openBlock(),e.createElementBlock("button",{key:G,onMousedown:e.withModifiers(M=>b(h),["prevent"]),class:e.normalizeClass(["di-suggestion-item",{"di-suggestion-added":V(h)}]),disabled:V(h)},[e.createElementVNode("span",{class:"di-suggestion-method",style:e.normalizeStyle({backgroundColor:pe[h.method]+"20",color:pe[h.method]})},e.toDisplayString(h.method),5),e.createElementVNode("code",Bc,e.toDisplayString(h.endpoint),1),h.loadTiming?(e.openBlock(),e.createElementBlock("span",Cc,e.toDisplayString(ve[h.loadTiming]||h.loadTiming),1)):e.createCommentVNode("",!0),V(h)?(e.openBlock(),e.createBlock(e.unref(No),{key:1,style:{width:"12px",height:"12px",color:"#10b981","flex-shrink":"0"}})):e.createCommentVNode("",!0)],42,wc))),128)),R.value.length===0?(e.openBlock(),e.createElementBlock("div",$c," 推定結果がありません ")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),e.createElementVNode("button",{onClick:me,class:"di-btn-add"},[e.createVNode(e.unref(ot),{style:{width:"14px",height:"14px"}}),p[14]||(p[14]=e.createTextVNode(" 手動追加 ",-1))])])]),U.value&&R.value.length>0&&d.value.length>0?(e.openBlock(),e.createElementBlock("div",Dc,[e.createVNode(e.unref(st),{style:{width:"13px",height:"13px",color:"#f59e0b","flex-shrink":"0"}}),e.createElementVNode("span",null,e.toDisplayString(R.value.length)+"件のAPIを推定しました",1),e.createElementVNode("button",{onMousedown:e.withModifiers(P,["prevent"]),class:"di-suggestion-banner-btn"},"すべて追加",32)])):U.value&&R.value.length===0?(e.openBlock(),e.createElementBlock("div",Sc,[...p[16]||(p[16]=[e.createElementVNode("span",null,"要素のDB情報からAPIを推定できませんでした。要素にDB情報を登録してください。",-1)])])):e.createCommentVNode("",!0),I.value.length===0&&!U.value?(e.openBlock(),e.createElementBlock("div",Tc," APIが未登録です。「自動推定」で要素情報からAPIを推定できます。 ")):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(h,G)=>(e.openBlock(),e.createElementBlock("div",{key:G,class:"di-api-entry"},[e.createElementVNode("div",Mc,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":M=>h.method=M,class:"di-select di-select-method"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(g,M=>e.createElementVNode("option",{key:M,value:M},e.toDisplayString(M),9,Ic)),64))],8,_c),[[e.vModelSelect,h.method]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":M=>h.endpoint=M,type:"text",placeholder:"/api/users/:id",class:"di-input di-input-endpoint"},null,8,Uc),[[e.vModelText,h.endpoint]]),e.createElementVNode("button",{onClick:M=>se(G),class:"di-btn-remove"},[e.createVNode(e.unref(_o),{style:{width:"14px",height:"14px"}})],8,Lc)]),e.createElementVNode("div",Fc,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":M=>h.description=M,type:"text",placeholder:"説明（任意）",class:"di-input di-input-desc"},null,8,Pc),[[e.vModelText,h.description]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":M=>h.loadTiming=M,class:"di-select di-select-timing"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList($,M=>e.createElementVNode("option",{key:M.value,value:M.value},e.toDisplayString(M.label),9,zc)),64))],8,Ac),[[e.vModelSelect,h.loadTiming]])])]))),128))]),e.createElementVNode("div",Oc,[p[20]||(p[20]=e.createElementVNode("label",{class:"di-form-label"},"認証設定",-1)),e.createElementVNode("div",jc,[e.createElementVNode("button",{onClick:p[4]||(p[4]=h=>F.value=!F.value),class:e.normalizeClass(["di-toggle-btn",{active:F.value}])},[e.createElementVNode("span",{class:e.normalizeClass(["di-toggle-knob",{active:F.value}])},null,2)],2),p[17]||(p[17]=e.createElementVNode("span",{class:"di-auth-label"},"ログイン必須",-1))]),F.value?(e.openBlock(),e.createElementBlock("div",qc,[e.createElementVNode("div",Hc,[p[18]||(p[18]=e.createElementVNode("label",{class:"di-form-label"},"必要ロール（カンマ区切り）",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":p[5]||(p[5]=h=>z.value=h),type:"text",placeholder:"admin, manager",class:"di-input"},null,512),[[e.vModelText,z.value]])]),e.createElementVNode("div",Rc,[p[19]||(p[19]=e.createElementVNode("label",{class:"di-form-label"},"認証メモ",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":p[6]||(p[6]=h=>Z.value=h),type:"text",placeholder:"自分のデータのみ閲覧可",class:"di-input"},null,512),[[e.vModelText,Z.value]])])])):e.createCommentVNode("",!0)]),e.createElementVNode("div",Kc,[p[21]||(p[21]=e.createElementVNode("label",{class:"di-form-label"},"Figma URL",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":p[7]||(p[7]=h=>J.value=h),type:"text",placeholder:"https://www.figma.com/design/...",class:"di-input"},null,512),[[e.vModelText,J.value]])]),e.createElementVNode("div",Yc,[p[22]||(p[22]=e.createElementVNode("label",{class:"di-form-label"},"メモ",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":p[8]||(p[8]=h=>B.value=h),rows:"3",placeholder:"この画面に関するメモ...",class:"di-textarea"},null,512),[[e.vModelText,B.value]])])]),e.createElementVNode("div",Gc,[e.createElementVNode("button",{onClick:Q,class:"di-btn-delete"},[e.createVNode(e.unref(lt),{style:{width:"14px",height:"14px"}}),p[23]||(p[23]=e.createTextVNode(" 削除 ",-1))]),e.createElementVNode("div",Xc,[e.createElementVNode("button",{onClick:le,class:"di-btn-cancel"},"キャンセル"),e.createElementVNode("button",{onClick:Be,class:"di-btn-save",disabled:!E.value.trim()},[e.createVNode(e.unref(_t),{style:{width:"14px",height:"14px"}}),p[24]||(p[24]=e.createTextVNode(" 保存 ",-1))],8,Zc)])])])])):e.createCommentVNode("",!0)]))}}),Ft=dt(Jc,[["__scopeId","data-v-a3b58e7a"]]),Qc={key:0,"data-dev-inspector":""},Pt=e.defineComponent({__name:"DevInspector",props:{storageKey:{default:"devInspector:elementConfigs"},enabledInProduction:{type:Boolean,default:!1},initialAnnotations:{},analysisData:{},analysisDataUrl:{},autoLoadAnalysis:{type:Boolean},autoApplyAnalysis:{type:Boolean}},setup(T){const a=T,E=Qe.useDevInspectorStore();return e.onMounted(()=>{E.init({storageKey:a.storageKey,enabledInProduction:a.enabledInProduction,initialAnnotations:a.initialAnnotations})}),(k,I)=>e.unref(E).isAvailable?(e.openBlock(),e.createElementBlock("div",Qc,[e.createVNode(It),e.createVNode(Ut),e.createVNode(Ft),e.createVNode(Lt)])):e.createCommentVNode("",!0)}}),At={install(T,a={}){const{autoRegister:E=!0,...k}=a;E&&T.component("DevInspector",Pt),T.provide("devInspectorOptions",k)}};exports.useDevInspector=Qe.useDevInspector;exports.useDevInspectorStore=Qe.useDevInspectorStore;exports.vitePluginDevInspector=Vo.default;exports.DevElementEditor=Ut;exports.DevInspector=Pt;exports.DevPanel=It;exports.DevPickOverlay=Lt;exports.DevScreenEditor=Ft;exports.VueDevInspector=At;exports.default=At;
