"use strict";const e=require("vue"),Nt=require("./useDevInspector-BC5J2qZg.cjs");/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=A=>A.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U=(A,p)=>({size:s,strokeWidth:g=2,absoluteStrokeWidth:D,color:Y,class:O,...X},{attrs:se,slots:F})=>e.h("svg",{...xt,width:s||xt.width,height:s||xt.height,stroke:Y||xt.stroke,"stroke-width":D?Number(g)*24/Number(s):g,...se,class:["lucide",`lucide-${jo(A)}`],...X},[...p.map(de=>e.h(...de)),...F.default?[F.default()]:[]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=U("AlertCircleIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=U("AlertTriangleIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=U("ArrowUpDownIcon",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=U("BarChart3Icon",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=U("CalculatorIcon",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=U("CheckIcon",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=U("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=U("ChevronUpIcon",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=U("ClipboardListIcon",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=U("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=U("CodeIcon",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=U("DatabaseIcon",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=U("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=U("ExternalLinkIcon",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=U("EyeOffIcon",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=U("EyeIcon",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=U("FileSpreadsheetIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=U("FileTextIcon",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=U("FormInputIcon",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=U("GitBranchIcon",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=U("GitMergeIcon",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=U("ListIcon",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=U("LockIcon",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=U("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=U("MessageSquareIcon",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=U("MinusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=U("MousePointer2Icon",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=U("PenLineIcon",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=U("PenSquareIcon",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=U("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=U("SaveIcon",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=U("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=U("ServerIcon",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=U("ShieldQuestionIcon",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=U("ShieldIcon",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=U("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=U("TypeIcon",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=U("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=U("Wand2Icon",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=U("XIcon",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-vue-next v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=U("ZapIcon",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);async function ul(A,p,s={}){var te;const g=await Promise.resolve().then(()=>require("./xlsx-qn1xoUuv.cjs")),{systemName:D="System",author:Y=""}=s,O=new Date,X=`${O.getFullYear()}/${O.getMonth()+1}/${O.getDate()}`,se=g.utils.book_new(),F=[];F.push(["画面機能仕様書","","","","","","","","","","","システム名","","","","",D,"","","","","","画面ID/画面名","","","","",(A==null?void 0:A.name)||"","","","","","","作成者","","","","",Y,"","作成日","","","","",X]),F.push([]),F.push(["URL","","","","","","","","","","","画面英語名","","","","","","","","","","","View Component","","","","",(A==null?void 0:A.componentPath)||"","","","","","","Figma URL","","","","",(A==null?void 0:A.figmaUrl)||""]),F.push([]),F.push(["機能概要"]),F.push([(A==null?void 0:A.description)||""]),F.push([]),F.push(["画面レイアウト　figmaURL"]),F.push([(A==null?void 0:A.figmaUrl)||""]),F.push([]),A!=null&&A.apis&&A.apis.length>0&&(F.push(["API一覧"]),F.push(["","メソッド","","エンドポイント","","","","","","","","説明"]),A.apis.forEach(h=>{F.push(["",h.method,"",h.endpoint,"","","","","","","",h.description])}),F.push([])),F.push(["画面項目　ヘッダーフッターは省く"]),F.push(["","No.","","項目名","","","","","","","","","","","","説明","","","","","","","","","","","","","","","","表示条件","","","","","","","","","","","","","","","備考"]),Object.values(p).forEach((h,pe)=>{var _e,H,Ce;const Ee=h.id;let ke="",Oe="",oe="";if((_e=h.note)!=null&&_e.text&&(ke=h.note.text),h.fieldInfo&&(ke+=ke?`
`:"",ke+=`DB: ${h.fieldInfo.table}.${h.fieldInfo.column}`,h.fieldInfo.type&&(ke+=` (${h.fieldInfo.type})`),h.fieldInfo.description&&(ke+=`
${h.fieldInfo.description}`)),h.actionInfo&&(oe=`[${{navigate:"画面遷移",api:"API呼び出し",modal:"モーダル表示",emit:"イベント発火",function:"関数実行",csv_export:"CSV出力",csv_import:"CSV取込",email:"メール送信",sort:"ソート"}[h.actionInfo.type]||h.actionInfo.type}]`,h.actionInfo.target&&(oe+=` ${h.actionInfo.method||""} ${h.actionInfo.target}`),h.actionInfo.description&&(oe+=`
${h.actionInfo.description}`)),h.links){const b=[];h.links.testPath&&b.push(`テスト: ${h.links.testPath}`),h.links.figmaUrl&&b.push(`Figma: ${h.links.figmaUrl}`),h.links.githubIssue&&b.push(`Issue: ${h.links.githubIssue}`),h.links.githubPr&&b.push(`PR: ${h.links.githubPr}`),b.length>0&&(oe+=oe?`

`:"",oe+=b.join(`
`))}if(h.devMeta){const b=[];(H=h.devMeta.usedStores)!=null&&H.length&&b.push(`Store: ${h.devMeta.usedStores.join(", ")}`),(Ce=h.devMeta.usedComponents)!=null&&Ce.length&&b.push(`Components: ${h.devMeta.usedComponents.join(", ")}`),h.devMeta.accessibility&&b.push(`A11y: ${h.devMeta.accessibility}`),h.devMeta.responsive&&b.push(`Responsive: ${h.devMeta.responsive}`),b.length>0&&(oe+=oe?`

`:"",oe+=`[開発情報]
`+b.join(`
`))}F.push(["",pe+1,"",Ee,"","","","","","","","","","","",ke,"","","","","","","","","","","","","","","",Oe,"","","","","","","","","","","","","","",oe])});const j=g.utils.aoa_to_sheet(F);j["!cols"]=[{wch:3},{wch:5},{wch:3},{wch:20},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:30},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:20},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:5},{wch:30}],g.utils.book_append_sheet(se,j,"画面設計書");const ce=`画面仕様書_${((te=A==null?void 0:A.name)==null?void 0:te.replace(/[/\\?%*:|"<>]/g,"-"))||"screen"}_${X.replace(/\//g,"")}.xlsx`;return g.writeFile(se,ce),ce}const ml={key:0,class:"di-panel","data-dev-inspector":""},pl={class:"di-header"},vl={class:"di-header-title"},fl={class:"di-tab-bar"},Vl={key:0,class:"di-tab-badge"},El={key:0,class:"di-tab-badge"},kl={key:0,class:"di-tab-badge"},hl={class:"di-edit-section"},yl={class:"di-note-toggle-badge"},gl={key:1,class:"di-note-filter"},bl={class:"di-filter-buttons"},Nl=["onClick"],Bl={key:2,class:"di-element-list-section"},Cl={class:"di-element-list-header"},xl={class:"di-count-badge"},wl={key:0},Dl={class:"di-element-tree"},$l={key:0,class:"di-tree-group"},_l={class:"di-tree-icon"},Sl={class:"di-count-badge"},Tl={key:0,class:"di-element-list"},Ml=["onDragstart","onClick","onMouseenter"],Il={class:"di-element-item-body"},Ul={class:"di-element-item-label"},Fl=["onClick"],Ll={key:1,class:"di-tree-group"},Pl={class:"di-tree-icon"},Al={class:"di-count-badge"},zl={key:0,class:"di-tree-children"},Ol={key:0,class:"di-rename-row"},jl=["onKeydown","onBlur"],ql=["onClick","onDragover","onDragleave","onDrop"],Hl={class:"di-tree-icon"},Rl={class:"di-count-badge"},Kl=["onClick"],Gl={key:2},Yl={key:0,class:"di-element-list"},Xl=["onDragstart","onClick","onMouseenter"],Wl={class:"di-element-item-body"},Zl={class:"di-element-item-label"},Jl=["onClick"],Ql={key:1,class:"di-tree-children"},en={key:0,class:"di-rename-row"},tn=["onKeydown","onBlur"],on=["onClick","onDragover","onDragleave","onDrop"],ln={class:"di-tree-icon"},nn={class:"di-count-badge"},an=["onClick"],sn={key:2},dn={key:0,class:"di-element-list"},rn=["onDragstart","onClick","onMouseenter"],cn={class:"di-element-item-body"},un={class:"di-element-item-label"},mn=["onClick"],pn={key:1,class:"di-tree-children"},vn={key:0,class:"di-rename-row"},fn=["onKeydown","onBlur"],Vn=["onClick","onDragover","onDragleave","onDrop"],En={class:"di-tree-icon"},kn={class:"di-count-badge"},hn=["onClick"],yn={key:2},gn={key:0,class:"di-element-list"},bn=["onDragstart","onClick","onMouseenter"],Nn={class:"di-element-item-body"},Bn={class:"di-element-item-label"},Cn=["onClick"],xn={key:2,class:"di-tree-group"},wn={class:"di-tree-icon"},Dn={class:"di-count-badge"},$n={key:0,class:"di-tree-children"},_n={key:0,class:"di-rename-row"},Sn=["onKeydown","onBlur"],Tn=["onClick","onDragover","onDragleave","onDrop"],Mn={class:"di-tree-icon"},In={class:"di-count-badge"},Un=["onClick"],Fn={key:2},Ln={key:0,class:"di-element-list"},Pn=["onDragstart","onClick","onMouseenter"],An={class:"di-element-item-body"},zn={class:"di-element-item-label"},On=["onClick"],jn={key:1,class:"di-tree-children"},qn={key:0,class:"di-rename-row"},Hn=["onKeydown","onBlur"],Rn=["onClick","onDragover","onDragleave","onDrop"],Kn={class:"di-tree-icon"},Gn={class:"di-count-badge"},Yn=["onClick"],Xn={key:2},Wn={key:0,class:"di-element-list"},Zn=["onDragstart","onClick","onMouseenter"],Jn={class:"di-element-item-body"},Qn={class:"di-element-item-label"},ea=["onClick"],ta={key:0,class:"di-tree-subgroup"},oa={key:0,class:"di-rename-row"},la={class:"di-tree-icon"},na={class:"di-count-badge"},aa={key:2,class:"di-element-list"},ia=["onDragstart","onClick","onMouseenter"],sa={class:"di-element-item-body"},da={class:"di-element-item-label"},ra=["onClick"],ca={key:0,class:"di-unannotated-badge"},ua={key:3,class:"di-unannotated-results"},ma={class:"di-unannotated-summary"},pa={key:0},va={key:1},fa={key:2},Va={class:"di-unannotated-list"},Ea=["onMouseenter"],ka={class:"di-unannotated-text"},ha=["onClick"],ya=["onClick"],ga={key:4,class:"di-unannotated-empty"},ba={key:5,class:"di-broken-warning"},Na={class:"di-broken-header"},Ba={class:"di-broken-list"},Ca={class:"di-broken-item-info"},xa={class:"di-broken-item-note"},wa={class:"di-broken-item-selector"},Da={class:"di-broken-item-actions"},$a=["onClick"],_a=["onClick"],Sa={class:"di-broken-actions"},Ta={class:"di-content"},Ma={class:"di-section"},Ia={class:"di-screen-header"},Ua={class:"di-screen-name"},Fa={key:0,class:"di-screen-desc"},La={key:1,class:"di-auth-badges"},Pa={key:0,class:"di-auth-badge di-auth-required"},Aa={key:1,class:"di-auth-note"},za={key:0,class:"di-card"},Oa={class:"di-card-label"},ja={class:"di-code-blue"},qa={key:1,class:"di-card"},Ha={class:"di-card-label"},Ra=["href"],Ka={key:2,class:"di-card"},Ga={class:"di-card-label"},Ya={class:"di-api-list"},Xa={class:"di-api-info"},Wa={class:"di-api-endpoint"},Za={key:0,class:"di-api-desc"},Ja={key:0,class:"di-api-timing-badge"},Qa={key:3,class:"di-card"},ei={class:"di-card-label"},ti={class:"di-screen-notes"},oi={key:1,class:"di-no-spec"},li={class:"di-card di-cross-search-section"},ni={class:"di-cross-search-header"},ai={class:"di-cross-search-body"},ii={class:"di-filter-buttons",style:{"margin-bottom":"8px"}},si=["onClick"],di=["placeholder"],ri={key:0,class:"di-cross-search-count"},ci={key:1,class:"di-cross-search-results"},ui={class:"di-cross-search-page-header"},mi={key:0,class:"di-cross-search-page-name"},pi=["onClick"],vi={class:"di-cross-search-field"},fi={key:0,class:"di-cross-search-context"},Vi={class:"di-card di-screen-flow-section"},Ei={key:0,class:"di-screen-flow-badge"},ki={key:0,class:"di-screen-flow-body"},hi={key:0,class:"di-screen-flow-empty"},yi={class:"di-flow-node-path"},gi={key:0,class:"di-flow-node-name"},bi=["onClick"],Ni={class:"di-flow-target"},Bi={key:0,class:"di-flow-edge-label"},Ci={key:1,class:"di-flow-orphans"},xi={class:"di-section"},wi={class:"di-section-header",style:{"margin-bottom":"8px"}},Di={key:0,class:"di-section-badge"},$i={class:"di-master-table-name"},_i=["onClick"],Si={class:"di-master-item-header"},Ti={class:"di-master-col-name"},Mi={key:0,class:"di-master-col-type"},Ii={class:"di-master-item-name"},Ui={class:"di-master-entries-preview"},Fi={key:0,class:"di-master-entry-more"},Li={class:"di-master-editor"},Pi={class:"di-master-editor-header"},Ai={class:"di-master-editor-body"},zi={class:"di-master-row"},Oi={class:"di-master-field"},ji=["disabled"],qi={class:"di-master-field"},Hi=["disabled"],Ri={class:"di-master-row"},Ki={class:"di-master-field"},Gi={class:"di-master-field"},Yi={class:"di-master-field",style:{"margin-bottom":"12px"}},Xi={class:"di-master-entries-header"},Wi={class:"di-master-entries-list"},Zi=["onUpdate:modelValue"],Ji=["onUpdate:modelValue"],Qi=["onUpdate:modelValue"],es=["onUpdate:modelValue"],ts=["onClick"],os={class:"di-master-entries-header",style:{"margin-top":"16px"}},ls={key:0,class:"di-master-entries-list"},ns=["onUpdate:modelValue"],as=["value"],is=["onUpdate:modelValue"],ss=["value"],ds=["onUpdate:modelValue"],rs=["onUpdate:modelValue"],cs=["onClick"],us={key:1,class:"di-master-empty",style:{"margin-top":"4px","font-size":"11px"}},ms={class:"di-master-editor-footer"},ps=["disabled"],vs={class:"di-section"},fs={class:"di-section-header",style:{"margin-bottom":"8px"}},Vs={key:0,class:"di-section-badge"},Es=["onClick"],ks={class:"di-batch-item-info"},hs={class:"di-batch-item-name"},ys={key:0,class:"di-batch-item-schedule"},gs={class:"di-batch-editor"},bs={class:"di-batch-editor-header"},Ns={class:"di-batch-editor-body"},Bs={class:"di-batch-row"},Cs={class:"di-batch-field"},xs={class:"di-batch-field"},ws={class:"di-batch-row"},Ds={class:"di-batch-field"},$s={class:"di-batch-field",style:{"margin-bottom":"12px"}},_s={class:"di-batch-row"},Ss={class:"di-batch-field"},Ts={class:"di-batch-tags-input"},Ms=["onClick"],Is={class:"di-batch-field"},Us={class:"di-batch-tags-input"},Fs=["onClick"],Ls={class:"di-batch-section-label"},Ps={key:0},As={class:"di-batch-step-no"},zs=["onUpdate:modelValue"],Os=["onUpdate:modelValue"],js=["onUpdate:modelValue"],qs=["onUpdate:modelValue"],Hs=["onClick"],Rs={class:"di-batch-row"},Ks={class:"di-batch-field"},Gs={class:"di-batch-field"},Ys={class:"di-batch-row"},Xs={class:"di-batch-field"},Ws={class:"di-batch-field"},Zs={class:"di-batch-editor-footer"},Js=["disabled"],Qs={class:"di-export-buttons"},ed={class:"di-action-buttons"},td={key:0,class:"di-export-summary"},od={class:"di-export-summary-row"},ld={class:"di-export-summary-count"},nd={class:"di-export-summary-row"},ad={class:"di-export-summary-count"},id={class:"di-export-summary-row"},sd={class:"di-export-summary-count"},dd={key:0,class:"di-indicator","data-dev-inspector":""},rd={class:"di-modal"},cd=["value"],ud={class:"di-modal-actions"},md={class:"di-modal"},pd={class:"di-file-drop"},vd={key:0,class:"di-error"},fd={class:"di-modal-actions"},Vd=["disabled"],Ed=e.defineComponent({__name:"DevPanel",setup(A){const p=e.inject("teleportTarget","body"),s=Nt.useDevInspectorStore(),g=e.ref("elements"),D=e.ref(!1),Y=e.ref(!1),O=e.ref(""),X=e.ref(""),se={GET:"#10b981",POST:"#3b82f6",PUT:"#f59e0b",DELETE:"#ef4444",PATCH:"#8b5cf6"},F=e.computed(()=>s.currentScreenSpec),de=e.computed(()=>s.getScreenConfig()),j=e.computed(()=>{var v;const i=de.value,o=F.value;return!i&&!o?null:{name:(i==null?void 0:i.name)||(o==null?void 0:o.name)||"",description:(i==null?void 0:i.description)||(o==null?void 0:o.description)||"",componentPath:(i==null?void 0:i.componentPath)||(o==null?void 0:o.componentPath)||"",figmaUrl:(i==null?void 0:i.figmaUrl)||(o==null?void 0:o.figmaUrl)||"",apis:(i==null?void 0:i.apis)||((v=o==null?void 0:o.apis)==null?void 0:v.map(x=>({...x,loadTiming:void 0})))||[],auth:(i==null?void 0:i.auth)||null,notes:(i==null?void 0:i.notes)||(o!=null&&o.notes?o.notes.join(`
`):"")}}),re=e.computed(()=>Object.keys(s.elementConfigs).length),ce=e.computed(()=>{const i=typeof window<"u"?window.location.pathname:"/";return Object.entries(s.elementConfigs).filter(([,o])=>!o.pagePath||o.pagePath===i).map(([o,v])=>{var n,c,d;let x="";return(n=v.note)!=null&&n.text?x=v.note.text:v.fieldInfo?x=`${v.fieldInfo.table}.${v.fieldInfo.column}`:(c=v.actionInfo)!=null&&c.description?x=v.actionInfo.description:(d=v.actionInfo)!=null&&d.type?(x={navigate:"画面遷移",api:"API",modal:"モーダル",emit:"イベント",function:"関数",csv_export:"CSV出力",csv_import:"CSV取込",email:"メール送信"}[v.actionInfo.type]||v.actionInfo.type,v.actionInfo.target&&(x+=` → ${v.actionInfo.target}`)):v.formInfo&&(x=v.formInfo.label||v.formInfo.inputType||"フォーム"),x||(x=o),{id:o,desc:x,type:v.elementType,isConditional:!!v.isConditional,tabContext:v.tabContext||"",modalName:v.modalName||"",config:v}})}),te=e.computed(()=>{const i=s.noteHighlightFilter;return i==="all"?ce.value:ce.value.filter(o=>{var d,k,V,G,q;const v=o.config,x=(d=v.note)==null?void 0:d.displayType,n=!!((k=v.note)!=null&&k.condition||(V=v.note)!=null&&V.conditionColumn),c=!!((G=v.note)!=null&&G.storedCalc);switch(i){case"db":return x==="db_direct"||x==="db_formatted";case"calculated":return x==="calculated";case"storedCalc":return c;case"static":return x==="static";case"conditional":return n;case"action":return v.elementType==="action";case"form":return v.elementType==="form";case"other":return x==="other"||!x&&!v.elementType&&!!((q=v.note)!=null&&q.text);default:return!0}})}),h=e.computed(()=>te.value.filter(i=>!i.isConditional&&!i.tabContext));function pe(i){let o=i.elements.length;for(const v of Object.values(i.children))o+=pe(v);return o}function Ee(i,o){const v={};return i.forEach(x=>{const n=x[o];if(!n)return;const c=n.split(">").map(k=>k.trim()).filter(Boolean);let d=v;for(let k=0;k<c.length;k++){const V=c[k];d[V]||(d[V]={elements:[],children:{}}),k===c.length-1&&d[V].elements.push(x),d=d[V].children}}),v}const ke=e.computed(()=>Ee(te.value.filter(i=>i.tabContext&&!i.isConditional),"tabContext")),Oe=e.computed(()=>te.value.filter(i=>i.tabContext&&!i.isConditional)),oe=e.ref(!0),_e=e.ref(!1),H=e.ref({}),Ce=e.computed(()=>te.value.filter(i=>i.isConditional)),b=e.computed(()=>te.value.filter(i=>i.isConditional&&i.modalName)),B=e.computed(()=>Ee(b.value,"modalName")),m=e.computed(()=>te.value.filter(i=>i.isConditional&&!i.modalName)),w=e.ref(!1),_=e.ref({}),R=e.computed(()=>Object.values(s.elementConfigs).filter(i=>{var o,v;return!!((o=i.note)!=null&&o.text||(v=i.note)!=null&&v.displayType)}).length),S=e.computed(()=>{const i=s.noteHighlightFilter;return i==="all"?R.value:Object.values(s.elementConfigs).filter(o=>{var c,d,k,V,G,q,st;if(!((c=o.note)!=null&&c.text||(d=o.note)!=null&&d.displayType||o.elementType))return!1;const v=(k=o.note)==null?void 0:k.displayType,x=!!((V=o.note)!=null&&V.condition||(G=o.note)!=null&&G.conditionColumn),n=!!((q=o.note)!=null&&q.storedCalc);switch(i){case"db":return v==="db_direct"||v==="db_formatted";case"calculated":return v==="calculated";case"storedCalc":return n;case"static":return v==="static";case"conditional":return x;case"action":return o.elementType==="action";case"form":return o.elementType==="form";case"other":return v==="other"||!v&&!o.elementType&&!!((st=o.note)!=null&&st.text);default:return!0}}).length});function z(){const i=s.exportConfigs();navigator.clipboard.writeText(i),D.value=!1}function C(){const i=s.exportConfigs(),o=new Blob([i],{type:"application/json"}),v=URL.createObjectURL(o),x=document.createElement("a");x.href=v,x.download="dev-mode-configs.json",x.click(),URL.revokeObjectURL(v),D.value=!1}function E(){s.downloadAnnotations()}async function y(){try{await ul(s.currentScreenSpec,s.elementConfigs,{systemName:"System"})}catch(i){console.error("Failed to export xlsx:",i),alert("xlsx export failed. Make sure xlsx package is installed.")}}function ue(){try{s.importConfigs(O.value),O.value="",X.value="",Y.value=!1}catch{X.value="JSONの形式が正しくありません"}}function L(i){var n;const v=(n=i.target.files)==null?void 0:n[0];if(!v)return;const x=new FileReader;x.onload=c=>{var d;O.value=(d=c.target)==null?void 0:d.result},x.readAsText(v)}function Ie(){confirm("すべての要素設定を削除しますか？")&&s.clearAllConfigs()}e.ref("/dev-inspector-analysis.json"),e.ref(!1),e.ref(""),e.ref(0),e.ref(!1);const le=[{value:"all",label:"すべて"},{value:"db",label:"DB"},{value:"calculated",label:"計算値"},{value:"storedCalc",label:"保存計算値"},{value:"static",label:"固定"},{value:"conditional",label:"条件付き"},{value:"action",label:"アクション"},{value:"form",label:"フォーム"},{value:"other",label:"その他"}];e.computed(()=>s.getCurrentPageApis());const Ue=e.computed(()=>s.brokenAnnotations.length);e.watch(()=>s.isPanelOpen,i=>{i&&s.detectBrokenAnnotations()});function je(){confirm(`${Ue.value}件の壊れたメモを削除しますか？`)&&s.deleteBrokenAnnotations()}const Se=e.ref(!1),xe=e.ref(null),P=e.ref({table:"",column:"",name:"",columnType:"",description:"",entries:[],transitions:[]}),he=e.computed(()=>Object.keys(s.masterDefinitions).length),Ke=e.computed(()=>{const i=Object.values(s.masterDefinitions),o={};for(const v of i)o[v.table]||(o[v.table]=[]),o[v.table].push(v);return o});function Fe(i){if(i){const o=s.getMasterDefinition(i);o&&(xe.value=i,P.value={table:o.table,column:o.column,name:o.name,columnType:o.columnType||"",description:o.description||"",entries:[...o.entries.map(v=>({...v}))],transitions:o.transitions?o.transitions.map(v=>({...v})):[]})}else xe.value=null,P.value={table:"",column:"",name:"",columnType:"",description:"",entries:[{value:"",label:""}],transitions:[]};Se.value=!0}function Ge(){const i=P.value;if(!i.table||!i.column)return;const o=`${i.table}.${i.column}`,v=i.transitions.filter(n=>n.from||n.to||n.trigger),x={id:o,table:i.table,column:i.column,name:i.name||i.column,columnType:i.columnType||void 0,description:i.description||void 0,entries:i.entries.filter(n=>n.value||n.label),transitions:v.length>0?v:void 0,updatedAt:new Date().toISOString()};s.setMasterDefinition(x),Se.value=!1}function Ye(){P.value.entries.push({value:"",label:""})}function Xe(i){P.value.entries.splice(i,1)}function ie(){P.value.transitions.push({from:"",to:"",trigger:""})}function ye(i){P.value.transitions.splice(i,1)}function ve(i){confirm(`マスタ定義「${i}」を削除しますか？`)&&s.deleteMasterDefinition(i)}const we=e.ref(!1),qe=e.ref(null),T=e.ref({name:"",schedule:"",trigger:"",description:"",inputTables:[],outputTables:[],steps:[],timeout:"",retryPolicy:"",notifyOnError:"",notifyOnComplete:""}),Le=e.ref(""),Je=e.ref(""),He=e.computed(()=>Object.keys(s.batchDefinitions).length),ct=e.computed(()=>Object.values(s.batchDefinitions));function nt(i){if(i){const o=s.getBatchDefinition(i);o&&(qe.value=i,T.value={name:o.name,schedule:o.schedule||"",trigger:o.trigger||"",description:o.description||"",inputTables:o.inputTables?[...o.inputTables]:[],outputTables:o.outputTables?[...o.outputTables]:[],steps:o.steps.map(v=>({...v})),timeout:o.timeout||"",retryPolicy:o.retryPolicy||"",notifyOnError:o.notifyOnError||"",notifyOnComplete:o.notifyOnComplete||""})}else qe.value=null,T.value={name:"",schedule:"",trigger:"",description:"",inputTables:[],outputTables:[],steps:[{order:1,description:""}],timeout:"",retryPolicy:"",notifyOnError:"",notifyOnComplete:""};Le.value="",Je.value="",we.value=!0}function ut(){const i=T.value;if(!i.name)return;const v={id:qe.value||`batch_${i.name.replace(/\s+/g,"_").toLowerCase()}_${Date.now()}`,name:i.name,schedule:i.schedule||void 0,trigger:i.trigger||void 0,description:i.description||void 0,inputTables:i.inputTables.length>0?i.inputTables:void 0,outputTables:i.outputTables.length>0?i.outputTables:void 0,steps:i.steps.filter(x=>x.description).map((x,n)=>({...x,order:n+1})),timeout:i.timeout||void 0,retryPolicy:i.retryPolicy||void 0,notifyOnError:i.notifyOnError||void 0,notifyOnComplete:i.notifyOnComplete||void 0,updatedAt:new Date().toISOString()};s.setBatchDefinition(v),we.value=!1}function mt(){const i=T.value.steps.length+1;T.value.steps.push({order:i,description:""})}function Vt(i){T.value.steps.splice(i,1)}function Et(i){var o;confirm(`バッチ定義「${((o=s.getBatchDefinition(i))==null?void 0:o.name)||i}」を削除しますか？`)&&s.deleteBatchDefinition(i)}function kt(){const i=Le.value.trim();i&&!T.value.inputTables.includes(i)&&T.value.inputTables.push(i),Le.value=""}function ht(i){T.value.inputTables.splice(i,1)}function Pe(){const i=Je.value.trim();i&&!T.value.outputTables.includes(i)&&T.value.outputTables.push(i),Je.value=""}function Te(i){T.value.outputTables.splice(i,1)}const Ae=[{value:"column",label:"カラム",placeholder:"users.email, orders..."},{value:"api",label:"API",placeholder:"GET /api/users..."},{value:"text",label:"テキスト",placeholder:"メモ、説明文で検索..."}],at=e.computed(()=>{var i;return((i=Ae.find(o=>o.value===s.crossSearchMode))==null?void 0:i.placeholder)||"検索..."}),M=e.computed(()=>{const i={};for(const o of s.crossSearchResults)i[o.pagePath]||(i[o.pagePath]={pagePath:o.pagePath,pageName:o.pageName,items:[]}),i[o.pagePath].items.push(o);return Object.values(i)}),fe=e.computed(()=>M.value.length),W=e.computed(()=>{const i=s.unannotatedElements;return{binding:i.filter(o=>o.category==="binding").length,form:i.filter(o=>o.category==="form").length,action:i.filter(o=>o.category==="action").length}});function ge(){s.showUnannotatedDetection?(s.showUnannotatedDetection=!1,s.unannotatedElements=[],s.hoveredUnannotatedSelector=null):(s.showUnannotatedDetection=!0,s.detectUnannotatedElements())}function We(i){s.unannotatedElements=s.unannotatedElements.filter(o=>o.selector!==i)}function Ze(i){s.hoveredUnannotatedSelector=i;try{const o=document.querySelector(i);if(!o)return;const v=o.getBoundingClientRect();(v.bottom<0||v.top>window.innerHeight)&&o.scrollIntoView({behavior:"smooth",block:"center"})}catch{}}function tt(){s.hoveredUnannotatedSelector=null}function ne(i){s.hoveredSelector=i;try{const o=document.querySelector(i);if(!o)return;const v=o.getBoundingClientRect();(v.bottom<0||v.top>window.innerHeight)&&o.scrollIntoView({behavior:"smooth",block:"center"})}catch{}}function a(){s.hoveredSelector=null}const be=e.ref(null),ee=e.ref(null);function I(i,o){be.value=o,i.dataTransfer&&(i.dataTransfer.effectAllowed="move",i.dataTransfer.setData("text/plain",o))}function Z(){be.value=null,ee.value=null}function De(i,o){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="move"),ee.value=o}function Ve(i,o){const v=i.relatedTarget,x=i.currentTarget;x&&v&&x.contains(v)||ee.value===o&&(ee.value=null)}function me(i,o){i.preventDefault(),ee.value=null;const v=be.value;if(be.value=null,!(!v||!s.elementConfigs[v])){if(o==="__page__")s.setElementConfig(v,{tabContext:void 0,modalName:void 0,isConditional:!1});else if(o.startsWith("tab:")){const n=o.slice(4);s.setElementConfig(v,{tabContext:n,modalName:void 0,isConditional:!1})}else if(o==="__modal_unnamed__")s.setElementConfig(v,{isConditional:!0,modalName:void 0,tabContext:void 0});else if(o.startsWith("modal:")){const n=o.slice(6);s.setElementConfig(v,{isConditional:!0,modalName:n,tabContext:void 0})}}}const ze=e.ref(null),J=e.ref("");function $e(i,o,v){v.stopPropagation(),ze.value=i,J.value=o}function et(i){const o=J.value.trim();if(ze.value=null,!!o){if(i.startsWith("tab:")){const v=i.slice(4),x=v.split(" > ");x[x.length-1]=o;const n=x.join(" > ");if(v===n)return;for(const[k,V]of Object.entries(s.elementConfigs))V.tabContext&&(V.tabContext===v?s.setElementConfig(k,{tabContext:n}):V.tabContext.startsWith(v+" > ")&&s.setElementConfig(k,{tabContext:n+V.tabContext.slice(v.length)}));const c=v.replace(/ > /g,">"),d=n.replace(/ > /g,">");H.value[c]!==void 0&&(H.value[d]=H.value[c],delete H.value[c])}else if(i.startsWith("modal:")){const v=i.slice(6),x=v.split(" > ");x[x.length-1]=o;const n=x.join(" > ");if(v===n)return;for(const[k,V]of Object.entries(s.elementConfigs))V.modalName&&(V.modalName===v?s.setElementConfig(k,{modalName:n}):V.modalName.startsWith(v+" > ")&&s.setElementConfig(k,{modalName:n+V.modalName.slice(v.length)}));const c=v.replace(/ > /g,">"),d=n.replace(/ > /g,">");_.value[c]!==void 0&&(_.value[d]=_.value[c],delete _.value[c])}}}function it(){ze.value=null,J.value=""}function Re(i,o){i.key==="Enter"?et(o):i.key==="Escape"&&it()}const N=e.ref(null),Q=e.ref("");function Ne(i,o){N.value=i,Q.value=""}function Me(){const i=Q.value.trim();if(N.value=null,!!i)for(const o of m.value)s.setElementConfig(o.id,{modalName:i,isConditional:!0})}function ae(){N.value=null,Q.value=""}const K=e.computed(()=>typeof window<"u"?window.location.pathname:"/"),Qe=e.computed(()=>{const i=s.screenFlowData,o={};for(const v of i.edges){if(!o[v.from]){const x=i.nodes.find(n=>n.path===v.from)||{path:v.from,name:v.from,annotationCount:0};o[v.from]={node:x,edges:[]}}o[v.from].edges.push(v)}return Object.values(o)});function pt(i){i&&s.startEditing(i)}return(i,o)=>{var v,x;return e.openBlock(),e.createElementBlock(e.Fragment,null,[(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(p)},[e.unref(s).isEnabled&&!e.unref(s).isPanelOpen?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[0]||(o[0]=(...n)=>e.unref(s).openPanel&&e.unref(s).openPanel(...n)),class:"di-fab",title:"画面仕様を表示","data-dev-inspector":""},[e.createVNode(e.unref(wt),{style:{width:"20px",height:"20px"}})])):e.createCommentVNode("",!0)],8,["to"])),(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(p)},[e.unref(s).isEnabled&&e.unref(s).isPanelOpen?(e.openBlock(),e.createElementBlock("div",ml,[e.createElementVNode("div",pl,[e.createElementVNode("div",vl,[e.createVNode(e.unref(Zt),{style:{width:"20px",height:"20px",color:"#60a5fa"}}),o[69]||(o[69]=e.createElementVNode("span",null,"Developer Mode",-1))]),e.createElementVNode("button",{onClick:o[1]||(o[1]=(...n)=>e.unref(s).closePanel&&e.unref(s).closePanel(...n)),class:"di-close-btn"},[e.createVNode(e.unref(lt),{style:{width:"20px",height:"20px"}})])]),e.createElementVNode("div",fl,[e.createElementVNode("button",{onClick:o[2]||(o[2]=n=>g.value="elements"),class:e.normalizeClass(["di-tab-btn",{active:g.value==="elements"}])},[e.createVNode(e.unref(eo),{style:{width:"14px",height:"14px"}}),o[70]||(o[70]=e.createElementVNode("span",null,"要素設定",-1)),re.value>0?(e.openBlock(),e.createElementBlock("span",Vl,e.toDisplayString(re.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("button",{onClick:o[3]||(o[3]=n=>g.value="masters"),class:e.normalizeClass(["di-tab-btn",{active:g.value==="masters"}])},[e.createVNode(e.unref(rt),{style:{width:"14px",height:"14px"}}),o[71]||(o[71]=e.createElementVNode("span",null,"マスタ",-1)),he.value>0?(e.openBlock(),e.createElementBlock("span",El,e.toDisplayString(he.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("button",{onClick:o[4]||(o[4]=n=>g.value="batches"),class:e.normalizeClass(["di-tab-btn",{active:g.value==="batches"}])},[e.createVNode(e.unref(Wt),{style:{width:"14px",height:"14px"}}),o[72]||(o[72]=e.createElementVNode("span",null,"バッチ",-1)),He.value>0?(e.openBlock(),e.createElementBlock("span",kl,e.toDisplayString(He.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("button",{onClick:o[5]||(o[5]=n=>g.value="export"),class:e.normalizeClass(["di-tab-btn",{active:g.value==="export"}])},[e.createVNode(e.unref(Tt),{style:{width:"14px",height:"14px"}}),o[73]||(o[73]=e.createElementVNode("span",null,"出力",-1))],2)]),e.withDirectives(e.createElementVNode("div",hl,[e.createElementVNode("button",{onClick:o[6]||(o[6]=(...n)=>e.unref(s).togglePickMode&&e.unref(s).togglePickMode(...n)),class:e.normalizeClass(["di-pick-btn",{active:e.unref(s).isPickMode}])},[e.createVNode(e.unref(Qt),{style:{width:"16px",height:"16px"}}),e.createElementVNode("span",null,e.toDisplayString(e.unref(s).isPickMode?"要素選択中...":"任意の要素にメモを追加"),1)],2),R.value>0?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[7]||(o[7]=(...n)=>e.unref(s).toggleNoteHighlights&&e.unref(s).toggleNoteHighlights(...n)),class:e.normalizeClass(["di-note-toggle-btn",{active:e.unref(s).showNoteHighlights}])},[e.unref(s).showNoteHighlights?(e.openBlock(),e.createBlock(e.unref(Zo),{key:0,style:{width:"14px",height:"14px"}})):(e.openBlock(),e.createBlock(e.unref(Wo),{key:1,style:{width:"14px",height:"14px"}})),o[74]||(o[74]=e.createElementVNode("span",null,"メモハイライト",-1)),e.createElementVNode("span",yl,e.toDisplayString(e.unref(s).noteHighlightFilter==="all"?R.value:`${S.value}/${R.value}`),1)],2)):e.createCommentVNode("",!0),R.value>0&&e.unref(s).showNoteHighlights?(e.openBlock(),e.createElementBlock("div",gl,[e.createElementVNode("div",bl,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(le,n=>e.createElementVNode("button",{key:n.value,onClick:c=>e.unref(s).noteHighlightFilter=n.value,class:e.normalizeClass(["di-filter-btn",{active:e.unref(s).noteHighlightFilter===n.value}])},e.toDisplayString(n.label),11,Nl)),64))])])):e.createCommentVNode("",!0),ce.value.length>0?(e.openBlock(),e.createElementBlock("div",Bl,[e.createElementVNode("div",Cl,[e.createVNode(e.unref(eo),{style:{width:"14px",height:"14px",color:"#94a3b8"}}),o[75]||(o[75]=e.createElementVNode("span",null,"登録済み要素",-1)),e.createElementVNode("span",xl,[e.createTextVNode(e.toDisplayString(te.value.length),1),te.value.length!==ce.value.length?(e.openBlock(),e.createElementBlock("span",wl," / "+e.toDisplayString(ce.value.length),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",Dl,[h.value.length>0||ee.value==="__page__"?(e.openBlock(),e.createElementBlock("div",$l,[e.createElementVNode("button",{class:e.normalizeClass(["di-tree-group-header",{"di-drop-target":ee.value==="__page__"}]),onClick:o[8]||(o[8]=n=>oe.value=!oe.value),onDragover:o[9]||(o[9]=n=>De(n,"__page__")),onDragleave:o[10]||(o[10]=n=>Ve(n,"__page__")),onDrop:o[11]||(o[11]=n=>me(n,"__page__"))},[e.createElementVNode("span",_l,e.toDisplayString(oe.value?"▼":"▶"),1),o[76]||(o[76]=e.createElementVNode("span",null,"タブ外",-1)),e.createElementVNode("span",Sl,e.toDisplayString(h.value.length),1)],34),oe.value?(e.openBlock(),e.createElementBlock("div",Tl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(s).hoveredSelector===n.id,"di-dragging":be.value===n.id}]),draggable:"true",onDragstart:c=>I(c,n.id),onDragend:Z,onClick:c=>e.unref(s).startEditing(n.id),onMouseenter:c=>ne(n.id),onMouseleave:a},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(n.type||"other")])},e.toDisplayString(n.type==="datasource"?"DB":n.type==="action"?"Act":n.type==="form"?"Form":n.type==="chart"?"Chart":"-"),3),e.createElementVNode("div",Il,[e.createElementVNode("div",Ul,e.toDisplayString(n.desc),1)]),e.createElementVNode("button",{class:"di-element-delete-btn",onClick:e.withModifiers(c=>e.unref(s).deleteElementConfig(n.id),["stop"]),title:"削除"},"×",8,Fl)],42,Ml))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),Oe.value.length>0||be.value&&!((v=ee.value)!=null&&v.startsWith("modal:"))&&ee.value!=="__modal_unnamed__"?(e.openBlock(),e.createElementBlock("div",Ll,[e.createElementVNode("button",{class:"di-tree-group-header",onClick:o[12]||(o[12]=n=>_e.value=!_e.value)},[e.createElementVNode("span",Pl,e.toDisplayString(_e.value?"▼":"▶"),1),o[77]||(o[77]=e.createElementVNode("span",null,"タブ内",-1)),e.createElementVNode("span",Al,e.toDisplayString(Oe.value.length),1)]),_e.value?(e.openBlock(),e.createElementBlock("div",zl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ke.value,(n,c)=>(e.openBlock(),e.createElementBlock("div",{key:"t1-"+c,class:"di-tree-subgroup"},[ze.value==="tab:"+c?(e.openBlock(),e.createElementBlock("div",Ol,[o[78]||(o[78]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-tab"},"T",-1)),e.withDirectives(e.createElementVNode("input",{class:"di-rename-input","onUpdate:modelValue":o[13]||(o[13]=d=>J.value=d),onKeydown:d=>Re(d,"tab:"+c),onBlur:d=>et("tab:"+c),ref_for:!0,ref:"renameInputRef",autofocus:""},null,40,jl),[[e.vModelText,J.value]])])):(e.openBlock(),e.createElementBlock("button",{key:1,class:e.normalizeClass(["di-tree-group-header di-tree-subgroup-header",{"di-drop-target":ee.value==="tab:"+c}]),onClick:d=>H.value[c]=!H.value[c],onDragover:d=>De(d,"tab:"+c),onDragleave:d=>Ve(d,"tab:"+c),onDrop:d=>me(d,"tab:"+c)},[e.createElementVNode("span",Hl,e.toDisplayString(H.value[c]?"▼":"▶"),1),o[79]||(o[79]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-tab"},"T",-1)),e.createElementVNode("span",null,e.toDisplayString(c),1),e.createElementVNode("span",Rl,e.toDisplayString(pe(n)),1),e.createElementVNode("span",{class:"di-rename-btn",onClick:d=>$e("tab:"+c,String(c),d),title:"名前変更"},"✏",8,Kl)],42,ql)),H.value[c]?(e.openBlock(),e.createElementBlock("div",Gl,[n.elements.length>0?(e.openBlock(),e.createElementBlock("div",Yl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.elements,d=>(e.openBlock(),e.createElementBlock("div",{key:d.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(s).hoveredSelector===d.id,"di-dragging":be.value===d.id}]),draggable:"true",onDragstart:k=>I(k,d.id),onDragend:Z,onClick:k=>e.unref(s).startEditing(d.id),onMouseenter:k=>ne(d.id),onMouseleave:a},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(d.type||"other")])},e.toDisplayString(d.type==="datasource"?"DB":d.type==="action"?"Act":d.type==="form"?"Form":d.type==="chart"?"Chart":"-"),3),e.createElementVNode("div",Wl,[e.createElementVNode("div",Zl,e.toDisplayString(d.desc),1)]),e.createElementVNode("button",{class:"di-element-delete-btn",onClick:e.withModifiers(k=>e.unref(s).deleteElementConfig(d.id),["stop"]),title:"削除"},"×",8,Jl)],42,Xl))),128))])):e.createCommentVNode("",!0),Object.keys(n.children).length>0?(e.openBlock(),e.createElementBlock("div",Ql,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.children,(d,k)=>(e.openBlock(),e.createElementBlock("div",{key:"t2-"+k,class:"di-tree-subgroup"},[ze.value==="tab:"+c+" > "+k?(e.openBlock(),e.createElementBlock("div",en,[o[80]||(o[80]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-tab"},"T",-1)),e.withDirectives(e.createElementVNode("input",{class:"di-rename-input","onUpdate:modelValue":o[14]||(o[14]=V=>J.value=V),onKeydown:V=>Re(V,"tab:"+c+" > "+k),onBlur:V=>et("tab:"+c+" > "+k),autofocus:""},null,40,tn),[[e.vModelText,J.value]])])):(e.openBlock(),e.createElementBlock("button",{key:1,class:e.normalizeClass(["di-tree-group-header di-tree-subgroup-header",{"di-drop-target":ee.value==="tab:"+c+" > "+k}]),onClick:V=>H.value[c+">"+k]=!H.value[c+">"+k],onDragover:V=>De(V,"tab:"+c+" > "+k),onDragleave:V=>Ve(V,"tab:"+c+" > "+k),onDrop:V=>me(V,"tab:"+c+" > "+k)},[e.createElementVNode("span",ln,e.toDisplayString(H.value[c+">"+k]?"▼":"▶"),1),o[81]||(o[81]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-tab"},"T",-1)),e.createElementVNode("span",null,e.toDisplayString(k),1),e.createElementVNode("span",nn,e.toDisplayString(pe(d)),1),e.createElementVNode("span",{class:"di-rename-btn",onClick:V=>$e("tab:"+c+" > "+k,String(k),V),title:"名前変更"},"✏",8,an)],42,on)),H.value[c+">"+k]?(e.openBlock(),e.createElementBlock("div",sn,[d.elements.length>0?(e.openBlock(),e.createElementBlock("div",dn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.elements,V=>(e.openBlock(),e.createElementBlock("div",{key:V.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(s).hoveredSelector===V.id,"di-dragging":be.value===V.id}]),draggable:"true",onDragstart:G=>I(G,V.id),onDragend:Z,onClick:G=>e.unref(s).startEditing(V.id),onMouseenter:G=>ne(V.id),onMouseleave:a},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(V.type||"other")])},e.toDisplayString(V.type==="datasource"?"DB":V.type==="action"?"Act":V.type==="form"?"Form":V.type==="chart"?"Chart":"-"),3),e.createElementVNode("div",cn,[e.createElementVNode("div",un,e.toDisplayString(V.desc),1)]),e.createElementVNode("button",{class:"di-element-delete-btn",onClick:e.withModifiers(G=>e.unref(s).deleteElementConfig(V.id),["stop"]),title:"削除"},"×",8,mn)],42,rn))),128))])):e.createCommentVNode("",!0),Object.keys(d.children).length>0?(e.openBlock(),e.createElementBlock("div",pn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.children,(V,G)=>(e.openBlock(),e.createElementBlock("div",{key:"t3-"+G,class:"di-tree-subgroup"},[ze.value==="tab:"+c+" > "+k+" > "+G?(e.openBlock(),e.createElementBlock("div",vn,[o[82]||(o[82]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-tab"},"T",-1)),e.withDirectives(e.createElementVNode("input",{class:"di-rename-input","onUpdate:modelValue":o[15]||(o[15]=q=>J.value=q),onKeydown:q=>Re(q,"tab:"+c+" > "+k+" > "+G),onBlur:q=>et("tab:"+c+" > "+k+" > "+G),autofocus:""},null,40,fn),[[e.vModelText,J.value]])])):(e.openBlock(),e.createElementBlock("button",{key:1,class:e.normalizeClass(["di-tree-group-header di-tree-subgroup-header",{"di-drop-target":ee.value==="tab:"+c+" > "+k+" > "+G}]),onClick:q=>H.value[c+">"+k+">"+G]=!H.value[c+">"+k+">"+G],onDragover:q=>De(q,"tab:"+c+" > "+k+" > "+G),onDragleave:q=>Ve(q,"tab:"+c+" > "+k+" > "+G),onDrop:q=>me(q,"tab:"+c+" > "+k+" > "+G)},[e.createElementVNode("span",En,e.toDisplayString(H.value[c+">"+k+">"+G]?"▼":"▶"),1),o[83]||(o[83]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-tab"},"T",-1)),e.createElementVNode("span",null,e.toDisplayString(G),1),e.createElementVNode("span",kn,e.toDisplayString(pe(V)),1),e.createElementVNode("span",{class:"di-rename-btn",onClick:q=>$e("tab:"+c+" > "+k+" > "+G,String(G),q),title:"名前変更"},"✏",8,hn)],42,Vn)),H.value[c+">"+k+">"+G]?(e.openBlock(),e.createElementBlock("div",yn,[V.elements.length>0?(e.openBlock(),e.createElementBlock("div",gn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.elements,q=>(e.openBlock(),e.createElementBlock("div",{key:q.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(s).hoveredSelector===q.id,"di-dragging":be.value===q.id}]),draggable:"true",onDragstart:st=>I(st,q.id),onDragend:Z,onClick:st=>e.unref(s).startEditing(q.id),onMouseenter:st=>ne(q.id),onMouseleave:a},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(q.type||"other")])},e.toDisplayString(q.type==="datasource"?"DB":q.type==="action"?"Act":q.type==="form"?"Form":q.type==="chart"?"Chart":"-"),3),e.createElementVNode("div",Nn,[e.createElementVNode("div",Bn,e.toDisplayString(q.desc),1)]),e.createElementVNode("button",{class:"di-element-delete-btn",onClick:e.withModifiers(st=>e.unref(s).deleteElementConfig(q.id),["stop"]),title:"削除"},"×",8,Cn)],42,bn))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),Ce.value.length>0||be.value&&((x=ee.value)!=null&&x.startsWith("modal:")||ee.value==="__modal_unnamed__")?(e.openBlock(),e.createElementBlock("div",xn,[e.createElementVNode("button",{class:"di-tree-group-header",onClick:o[16]||(o[16]=n=>w.value=!w.value)},[e.createElementVNode("span",wn,e.toDisplayString(w.value?"▼":"▶"),1),o[84]||(o[84]=e.createElementVNode("span",null,"モーダル",-1)),e.createElementVNode("span",Dn,e.toDisplayString(Ce.value.length),1)]),w.value?(e.openBlock(),e.createElementBlock("div",$n,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,(n,c)=>(e.openBlock(),e.createElementBlock("div",{key:"m1-"+c,class:"di-tree-subgroup"},[ze.value==="modal:"+c?(e.openBlock(),e.createElementBlock("div",_n,[o[85]||(o[85]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-modal"},"M",-1)),e.withDirectives(e.createElementVNode("input",{class:"di-rename-input","onUpdate:modelValue":o[17]||(o[17]=d=>J.value=d),onKeydown:d=>Re(d,"modal:"+c),onBlur:d=>et("modal:"+c),autofocus:""},null,40,Sn),[[e.vModelText,J.value]])])):(e.openBlock(),e.createElementBlock("button",{key:1,class:e.normalizeClass(["di-tree-group-header di-tree-subgroup-header",{"di-drop-target":ee.value==="modal:"+c}]),onClick:d=>_.value[String(c)]=!_.value[String(c)],onDragover:d=>De(d,"modal:"+c),onDragleave:d=>Ve(d,"modal:"+c),onDrop:d=>me(d,"modal:"+c)},[e.createElementVNode("span",Mn,e.toDisplayString(_.value[String(c)]?"▼":"▶"),1),o[86]||(o[86]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-modal"},"M",-1)),e.createElementVNode("span",null,e.toDisplayString(c),1),e.createElementVNode("span",In,e.toDisplayString(pe(n)),1),e.createElementVNode("span",{class:"di-rename-btn",onClick:d=>$e("modal:"+c,String(c),d),title:"名前変更"},"✏",8,Un)],42,Tn)),_.value[String(c)]?(e.openBlock(),e.createElementBlock("div",Fn,[n.elements.length>0?(e.openBlock(),e.createElementBlock("div",Ln,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.elements,d=>(e.openBlock(),e.createElementBlock("div",{key:d.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(s).hoveredSelector===d.id,"di-dragging":be.value===d.id}]),draggable:"true",onDragstart:k=>I(k,d.id),onDragend:Z,onClick:k=>e.unref(s).startEditing(d.id),onMouseenter:k=>ne(d.id),onMouseleave:a},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(d.type||"other")])},e.toDisplayString(d.type==="datasource"?"DB":d.type==="action"?"Act":d.type==="form"?"Form":d.type==="chart"?"Chart":"-"),3),e.createElementVNode("div",An,[e.createElementVNode("div",zn,e.toDisplayString(d.desc),1)]),e.createElementVNode("button",{class:"di-element-delete-btn",onClick:e.withModifiers(k=>e.unref(s).deleteElementConfig(d.id),["stop"]),title:"削除"},"×",8,On)],42,Pn))),128))])):e.createCommentVNode("",!0),Object.keys(n.children).length>0?(e.openBlock(),e.createElementBlock("div",jn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.children,(d,k)=>(e.openBlock(),e.createElementBlock("div",{key:"m2-"+k,class:"di-tree-subgroup"},[ze.value==="modal:"+c+" > "+k?(e.openBlock(),e.createElementBlock("div",qn,[o[87]||(o[87]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-modal"},"M",-1)),e.withDirectives(e.createElementVNode("input",{class:"di-rename-input","onUpdate:modelValue":o[18]||(o[18]=V=>J.value=V),onKeydown:V=>Re(V,"modal:"+c+" > "+k),onBlur:V=>et("modal:"+c+" > "+k),autofocus:""},null,40,Hn),[[e.vModelText,J.value]])])):(e.openBlock(),e.createElementBlock("button",{key:1,class:e.normalizeClass(["di-tree-group-header di-tree-subgroup-header",{"di-drop-target":ee.value==="modal:"+c+" > "+k}]),onClick:V=>_.value[c+">"+k]=!_.value[c+">"+k],onDragover:V=>De(V,"modal:"+c+" > "+k),onDragleave:V=>Ve(V,"modal:"+c+" > "+k),onDrop:V=>me(V,"modal:"+c+" > "+k)},[e.createElementVNode("span",Kn,e.toDisplayString(_.value[c+">"+k]?"▼":"▶"),1),o[88]||(o[88]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-modal"},"M",-1)),e.createElementVNode("span",null,e.toDisplayString(k),1),e.createElementVNode("span",Gn,e.toDisplayString(pe(d)),1),e.createElementVNode("span",{class:"di-rename-btn",onClick:V=>$e("modal:"+c+" > "+k,String(k),V),title:"名前変更"},"✏",8,Yn)],42,Rn)),_.value[c+">"+k]?(e.openBlock(),e.createElementBlock("div",Xn,[d.elements.length>0?(e.openBlock(),e.createElementBlock("div",Wn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.elements,V=>(e.openBlock(),e.createElementBlock("div",{key:V.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(s).hoveredSelector===V.id,"di-dragging":be.value===V.id}]),draggable:"true",onDragstart:G=>I(G,V.id),onDragend:Z,onClick:G=>e.unref(s).startEditing(V.id),onMouseenter:G=>ne(V.id),onMouseleave:a},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(V.type||"other")])},e.toDisplayString(V.type==="datasource"?"DB":V.type==="action"?"Act":V.type==="form"?"Form":V.type==="chart"?"Chart":"-"),3),e.createElementVNode("div",Jn,[e.createElementVNode("div",Qn,e.toDisplayString(V.desc),1)]),e.createElementVNode("button",{class:"di-element-delete-btn",onClick:e.withModifiers(G=>e.unref(s).deleteElementConfig(V.id),["stop"]),title:"削除"},"×",8,ea)],42,Zn))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]))),128)),m.value.length>0||ee.value==="__modal_unnamed__"?(e.openBlock(),e.createElementBlock("div",ta,[N.value==="__unnamed__"?(e.openBlock(),e.createElementBlock("div",oa,[o[89]||(o[89]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-modal"},"M",-1)),e.withDirectives(e.createElementVNode("input",{class:"di-rename-input","onUpdate:modelValue":o[19]||(o[19]=n=>Q.value=n),onKeydown:[e.withKeys(Me,["enter"]),e.withKeys(ae,["escape"])],onBlur:Me,autofocus:""},null,544),[[e.vModelText,Q.value]])])):(e.openBlock(),e.createElementBlock("button",{key:1,class:e.normalizeClass(["di-tree-group-header di-tree-subgroup-header",{"di-drop-target":ee.value==="__modal_unnamed__"}]),onClick:o[21]||(o[21]=n=>_.value.__unnamed=!_.value.__unnamed),onDragover:o[22]||(o[22]=n=>De(n,"__modal_unnamed__")),onDragleave:o[23]||(o[23]=n=>Ve(n,"__modal_unnamed__")),onDrop:o[24]||(o[24]=n=>me(n,"__modal_unnamed__"))},[e.createElementVNode("span",la,e.toDisplayString(_.value.__unnamed?"▼":"▶"),1),o[90]||(o[90]=e.createElementVNode("span",{class:"di-tree-badge di-tree-badge-modal"},"M",-1)),o[91]||(o[91]=e.createElementVNode("span",null,"未分類",-1)),e.createElementVNode("span",na,e.toDisplayString(m.value.length),1),e.createElementVNode("span",{class:"di-rename-btn",onClick:o[20]||(o[20]=e.withModifiers(n=>Ne("__unnamed__"),["stop"])),title:"モーダル名を設定"},"✏")],34)),_.value.__unnamed?(e.openBlock(),e.createElementBlock("div",aa,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.id,class:e.normalizeClass(["di-element-item",{"di-element-item-active":e.unref(s).hoveredSelector===n.id,"di-dragging":be.value===n.id}]),draggable:"true",onDragstart:c=>I(c,n.id),onDragend:Z,onClick:c=>e.unref(s).startEditing(n.id),onMouseenter:c=>ne(n.id),onMouseleave:a},[e.createElementVNode("span",{class:e.normalizeClass(["di-element-type-badge","di-element-type-"+(n.type||"other")])},e.toDisplayString(n.type==="datasource"?"DB":n.type==="action"?"Act":n.type==="form"?"Form":n.type==="chart"?"Chart":"-"),3),e.createElementVNode("div",sa,[e.createElementVNode("div",da,e.toDisplayString(n.desc),1)]),e.createElementVNode("button",{class:"di-element-delete-btn",onClick:e.withModifiers(c=>e.unref(s).deleteElementConfig(n.id),["stop"]),title:"削除"},"×",8,ra)],42,ia))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:ge,class:e.normalizeClass(["di-unannotated-btn",{active:e.unref(s).showUnannotatedDetection}])},[e.createVNode(e.unref(Yo),{style:{width:"14px",height:"14px"}}),e.createElementVNode("span",null,e.toDisplayString(e.unref(s).showUnannotatedDetection?"未登録検出 ON":"未登録要素を検出"),1),e.unref(s).unannotatedElements.length>0?(e.openBlock(),e.createElementBlock("span",ca,e.toDisplayString(e.unref(s).unannotatedElements.length),1)):e.createCommentVNode("",!0)],2),e.unref(s).showUnannotatedDetection&&e.unref(s).unannotatedElements.length>0?(e.openBlock(),e.createElementBlock("div",ua,[e.createElementVNode("div",ma,[e.createTextVNode(e.toDisplayString(e.unref(s).unannotatedElements.length)+"件検出: ",1),W.value.binding>0?(e.openBlock(),e.createElementBlock("span",pa,"バインディング "+e.toDisplayString(W.value.binding),1)):e.createCommentVNode("",!0),W.value.form>0?(e.openBlock(),e.createElementBlock("span",va," / フォーム "+e.toDisplayString(W.value.form),1)):e.createCommentVNode("",!0),W.value.action>0?(e.openBlock(),e.createElementBlock("span",fa," / アクション "+e.toDisplayString(W.value.action),1)):e.createCommentVNode("",!0)]),e.createElementVNode("div",Va,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s).unannotatedElements,n=>(e.openBlock(),e.createElementBlock("div",{key:n.selector,class:e.normalizeClass(["di-unannotated-item",{"di-unannotated-item-active":e.unref(s).hoveredUnannotatedSelector===n.selector,["di-unannotated-item-"+n.category]:e.unref(s).hoveredUnannotatedSelector===n.selector}]),onMouseenter:c=>Ze(n.selector),onMouseleave:tt},[e.createElementVNode("span",{class:e.normalizeClass(["di-unannotated-category","di-unannotated-cat-"+n.category])},e.toDisplayString(n.category==="binding"?"DB":n.category==="form"?"Form":"Act"),3),e.createElementVNode("span",ka,e.toDisplayString(n.text||n.tagName),1),e.createElementVNode("button",{onClick:c=>e.unref(s).quickAnnotate(n.selector,n.suggestedType),class:"di-unannotated-register"}," 登録 ",8,ha),e.createElementVNode("button",{onClick:c=>We(n.selector),class:"di-unannotated-dismiss"},[e.createVNode(e.unref(lt),{style:{width:"10px",height:"10px"}})],8,ya)],42,Ea))),128))])])):e.createCommentVNode("",!0),e.unref(s).showUnannotatedDetection&&e.unref(s).unannotatedElements.length===0?(e.openBlock(),e.createElementBlock("div",ga," 未登録の要素はありません ")):e.createCommentVNode("",!0),Ue.value>0?(e.openBlock(),e.createElementBlock("div",ba,[e.createElementVNode("div",Na,[e.createVNode(e.unref(Ho),{style:{width:"14px",height:"14px",color:"#f59e0b"}}),e.createElementVNode("span",null,e.toDisplayString(Ue.value)+"件のメモが見つかりません",1)]),o[94]||(o[94]=e.createElementVNode("div",{class:"di-broken-desc"},"コード変更によりセレクタが壊れた可能性があります",-1)),e.createElementVNode("div",Ba,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s).brokenAnnotations,n=>{var c,d;return e.openBlock(),e.createElementBlock("div",{key:n,class:"di-broken-item"},[e.createElementVNode("div",Ca,[e.createElementVNode("div",xa,e.toDisplayString(((d=(c=e.unref(s).elementConfigs[n])==null?void 0:c.note)==null?void 0:d.text)||"(メモなし)"),1),e.createElementVNode("div",wa,e.toDisplayString(n),1)]),e.createElementVNode("div",Da,[e.createElementVNode("button",{onClick:k=>e.unref(s).startRemap(n),class:"di-broken-remap-btn",title:"新しい要素に再設定"},[e.createVNode(e.unref(Qt),{style:{width:"12px",height:"12px"}}),o[92]||(o[92]=e.createTextVNode(" 再設定 ",-1))],8,$a),e.createElementVNode("button",{onClick:k=>{e.unref(s).deleteElementConfig(n),e.unref(s).detectBrokenAnnotations()},class:"di-broken-item-delete",title:"削除"},[e.createVNode(e.unref(bt),{style:{width:"12px",height:"12px"}})],8,_a)])])}),128))]),e.createElementVNode("div",Sa,[e.createElementVNode("button",{onClick:je,class:"di-broken-delete-btn"},[e.createVNode(e.unref(bt),{style:{width:"12px",height:"12px"}}),o[93]||(o[93]=e.createTextVNode(" まとめて削除 ",-1))])])])):e.createCommentVNode("",!0),e.createCommentVNode("",!0)],512),[[e.vShow,g.value==="elements"]]),e.createElementVNode("div",Ta,[e.withDirectives(e.createElementVNode("div",null,[j.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Ma,[e.createElementVNode("div",Ia,[e.createElementVNode("h2",Ua,e.toDisplayString(j.value.name),1),e.createElementVNode("button",{onClick:o[27]||(o[27]=n=>e.unref(s).editingScreen=!0),class:"di-screen-edit-btn",title:"画面情報を編集"},[e.createVNode(e.unref(to),{style:{width:"14px",height:"14px"}})])]),j.value.description?(e.openBlock(),e.createElementBlock("p",Fa,e.toDisplayString(j.value.description),1)):e.createCommentVNode("",!0),j.value.auth?(e.openBlock(),e.createElementBlock("div",La,[j.value.auth.required?(e.openBlock(),e.createElementBlock("span",Pa,[e.createVNode(e.unref(tl),{style:{width:"11px",height:"11px"}}),o[104]||(o[104]=e.createTextVNode(" ログイン必須 ",-1))])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.value.auth.roles||[],n=>(e.openBlock(),e.createElementBlock("span",{key:n,class:"di-auth-badge di-auth-role"},[e.createVNode(e.unref(sl),{style:{width:"11px",height:"11px"}}),e.createTextVNode(" "+e.toDisplayString(n),1)]))),128)),j.value.auth.description?(e.openBlock(),e.createElementBlock("span",Aa,e.toDisplayString(j.value.auth.description),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),j.value.componentPath?(e.openBlock(),e.createElementBlock("div",za,[e.createElementVNode("div",Oa,[e.createVNode(e.unref(Zt),{style:{width:"16px",height:"16px"}}),o[105]||(o[105]=e.createElementVNode("span",null,"Component Path",-1))]),e.createElementVNode("code",ja,e.toDisplayString(j.value.componentPath),1)])):e.createCommentVNode("",!0),j.value.figmaUrl?(e.openBlock(),e.createElementBlock("div",qa,[e.createElementVNode("div",Ha,[e.createVNode(e.unref(Xo),{style:{width:"16px",height:"16px"}}),o[106]||(o[106]=e.createElementVNode("span",null,"Figma Design",-1))]),e.createElementVNode("a",{href:j.value.figmaUrl,target:"_blank",class:"di-link-purple"},e.toDisplayString(j.value.figmaUrl),9,Ra)])):e.createCommentVNode("",!0),j.value.apis.length?(e.openBlock(),e.createElementBlock("div",Ka,[e.createElementVNode("div",Ga,[e.createVNode(e.unref(il),{style:{width:"16px",height:"16px"}}),o[107]||(o[107]=e.createElementVNode("span",null,"API Endpoints",-1))]),e.createElementVNode("div",Ya,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j.value.apis,(n,c)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:"di-api-item"},[e.createElementVNode("span",{class:"di-method-badge",style:e.normalizeStyle({backgroundColor:se[n.method]+"20",color:se[n.method]})},e.toDisplayString(n.method),5),e.createElementVNode("div",Xa,[e.createElementVNode("code",Wa,e.toDisplayString(n.endpoint),1),n.description?(e.openBlock(),e.createElementBlock("p",Za,e.toDisplayString(n.description),1)):e.createCommentVNode("",!0)]),n.loadTiming?(e.openBlock(),e.createElementBlock("span",Ja,e.toDisplayString(n.loadTiming==="onMount"?"読込時":n.loadTiming==="action"?"アクション":"条件付き"),1)):e.createCommentVNode("",!0)]))),128))])])):e.createCommentVNode("",!0),j.value.notes?(e.openBlock(),e.createElementBlock("div",Qa,[e.createElementVNode("div",ei,[e.createVNode(e.unref(qo),{style:{width:"16px",height:"16px"}}),o[108]||(o[108]=e.createElementVNode("span",null,"Notes",-1))]),e.createElementVNode("p",ti,e.toDisplayString(j.value.notes),1)])):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock("div",oi,[e.createVNode(e.unref(wt),{style:{width:"48px",height:"48px",color:"#334155"}}),o[110]||(o[110]=e.createElementVNode("p",null,[e.createTextVNode("この画面の仕様情報は"),e.createElementVNode("br"),e.createTextVNode("まだ登録されていません")],-1)),e.createElementVNode("button",{onClick:o[28]||(o[28]=n=>e.unref(s).editingScreen=!0),class:"di-screen-register-btn"},[e.createVNode(e.unref(to),{style:{width:"14px",height:"14px"}}),o[109]||(o[109]=e.createTextVNode(" 画面情報を登録 ",-1))])])),e.createElementVNode("div",li,[e.createElementVNode("div",ni,[e.createVNode(e.unref(al),{style:{width:"14px",height:"14px",color:"#94a3b8"}}),o[111]||(o[111]=e.createElementVNode("span",null,"横断検索",-1))]),o[112]||(o[112]=e.createElementVNode("div",{class:"di-cross-search-desc"},"全画面のメモを横断検索。カラム名・APIエンドポイント・メモ内テキストで絞り込めます。",-1)),e.createElementVNode("div",ai,[e.createElementVNode("div",ii,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(Ae,n=>e.createElementVNode("button",{key:n.value,onClick:c=>e.unref(s).crossSearchMode=n.value,class:e.normalizeClass(["di-filter-btn",{active:e.unref(s).crossSearchMode===n.value}])},e.toDisplayString(n.label),11,si)),64))]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[29]||(o[29]=n=>e.unref(s).crossSearchQuery=n),type:"text",class:"di-cross-search-input",placeholder:at.value},null,8,di),[[e.vModelText,e.unref(s).crossSearchQuery]]),e.unref(s).crossSearchQuery.trim()?(e.openBlock(),e.createElementBlock("div",ri,e.toDisplayString(e.unref(s).crossSearchResults.length)+"件 ("+e.toDisplayString(fe.value)+"画面) ",1)):e.createCommentVNode("",!0),M.value.length>0?(e.openBlock(),e.createElementBlock("div",ci,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.pagePath,class:"di-cross-search-group"},[e.createElementVNode("div",ui,[e.createTextVNode(e.toDisplayString(n.pagePath)+" ",1),n.pageName!==n.pagePath?(e.openBlock(),e.createElementBlock("span",mi,"("+e.toDisplayString(n.pageName)+")",1)):e.createCommentVNode("",!0)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.items,(c,d)=>(e.openBlock(),e.createElementBlock("div",{key:d,class:e.normalizeClass(["di-cross-search-item",c.elementType?"di-cross-item-"+c.elementType:""]),onClick:k=>c.selector&&e.unref(s).startEditing(c.selector)},[e.createElementVNode("span",vi,e.toDisplayString(c.matchedField),1),c.matchContext?(e.openBlock(),e.createElementBlock("span",fi,e.toDisplayString(c.matchContext),1)):e.createCommentVNode("",!0)],10,pi))),128))]))),128))])):e.createCommentVNode("",!0)])]),e.createElementVNode("div",Vi,[e.createElementVNode("button",{onClick:o[30]||(o[30]=n=>e.unref(s).showScreenFlow=!e.unref(s).showScreenFlow),class:e.normalizeClass(["di-screen-flow-toggle",{active:e.unref(s).showScreenFlow}])},[e.createVNode(e.unref(el),{style:{width:"14px",height:"14px"}}),o[113]||(o[113]=e.createElementVNode("span",null,"画面フロー",-1)),e.unref(s).screenFlowData.edges.length>0?(e.openBlock(),e.createElementBlock("span",Ei,e.toDisplayString(e.unref(s).screenFlowData.nodes.length)+"画面 / "+e.toDisplayString(e.unref(s).screenFlowData.edges.length)+"遷移 ",1)):e.createCommentVNode("",!0)],2),e.unref(s).showScreenFlow?(e.openBlock(),e.createElementBlock("div",ki,[e.unref(s).screenFlowData.edges.length===0?(e.openBlock(),e.createElementBlock("div",hi," navigate型のアクションが登録されていません ")):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Qe.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.node.path,class:"di-flow-group"},[e.createElementVNode("div",{class:e.normalizeClass(["di-flow-node",{"di-flow-node-current":n.node.path===K.value}])},[e.createElementVNode("span",yi,e.toDisplayString(n.node.path),1),n.node.name!==n.node.path?(e.openBlock(),e.createElementBlock("span",gi,"("+e.toDisplayString(n.node.name)+")",1)):e.createCommentVNode("",!0)],2),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.edges,c=>(e.openBlock(),e.createElementBlock("div",{key:c.from+c.to,class:"di-flow-edge",onClick:d=>pt(c.selector)},[o[114]||(o[114]=e.createElementVNode("span",{class:"di-flow-arrow"},"→",-1)),e.createElementVNode("span",Ni,e.toDisplayString(c.to),1),c.label?(e.openBlock(),e.createElementBlock("span",Bi,"["+e.toDisplayString(c.label)+"]",1)):e.createCommentVNode("",!0)],8,bi))),128))]))),128)),e.unref(s).screenFlowData.orphanPages.length>0?(e.openBlock(),e.createElementBlock("div",Ci,[o[115]||(o[115]=e.createElementVNode("div",{class:"di-flow-orphans-header"},"遷移なしのページ",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(s).screenFlowData.orphanPages,n=>(e.openBlock(),e.createElementBlock("span",{key:n.path,class:"di-flow-orphan-item"},e.toDisplayString(n.path),1))),128))])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])],512),[[e.vShow,g.value==="elements"]]),e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("div",xi,[e.createElementVNode("div",wi,[e.createVNode(e.unref(rt),{style:{width:"16px",height:"16px",color:"#a78bfa"}}),o[116]||(o[116]=e.createElementVNode("span",null,"マスタ定義",-1)),he.value>0?(e.openBlock(),e.createElementBlock("span",Di,e.toDisplayString(he.value),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:o[31]||(o[31]=n=>Fe()),class:"di-btn-icon",style:{"margin-left":"auto"},title:"新規追加"},[e.createVNode(e.unref(yt),{style:{width:"14px",height:"14px"}})])]),he.value>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(Ke.value,(n,c)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:"di-master-table-group"},[e.createElementVNode("div",$i,e.toDisplayString(c),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n,d=>(e.openBlock(),e.createElementBlock("div",{key:d.id,class:"di-master-item",onClick:k=>Fe(d.id)},[e.createElementVNode("div",Si,[e.createElementVNode("span",Ti,"."+e.toDisplayString(d.column),1),d.columnType?(e.openBlock(),e.createElementBlock("span",Mi,e.toDisplayString(d.columnType),1)):e.createCommentVNode("",!0),e.createElementVNode("span",Ii,e.toDisplayString(d.name),1)]),e.createElementVNode("div",Ui,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(d.entries.slice(0,5),(k,V)=>(e.openBlock(),e.createElementBlock("span",{key:V,class:"di-master-entry-chip",style:e.normalizeStyle(k.color?{borderColor:k.color,color:k.color}:{})},e.toDisplayString(k.value)+"="+e.toDisplayString(k.label),5))),128)),d.entries.length>5?(e.openBlock(),e.createElementBlock("span",Fi,"+"+e.toDisplayString(d.entries.length-5),1)):e.createCommentVNode("",!0)])],8,_i))),128))]))),128)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"di-master-empty",onClick:o[32]||(o[32]=n=>Fe())},[...o[117]||(o[117]=[e.createElementVNode("span",null,"テーブル.カラムのマスタ値を定義",-1)])]))]),(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(p)},[Se.value?(e.openBlock(),e.createElementBlock("div",{key:0,"data-dev-inspector":"",class:"di-modal-overlay",onClick:o[41]||(o[41]=e.withModifiers(n=>Se.value=!1,["self"]))},[e.createElementVNode("div",Li,[e.createElementVNode("div",Pi,[e.createElementVNode("h3",null,e.toDisplayString(xe.value?"マスタ定義を編集":"新規マスタ定義"),1),e.createElementVNode("button",{onClick:o[33]||(o[33]=n=>Se.value=!1),class:"di-close-btn"},[e.createVNode(e.unref(lt),{style:{width:"16px",height:"16px"}})])]),e.createElementVNode("div",Ai,[e.createElementVNode("div",zi,[e.createElementVNode("div",Oi,[o[118]||(o[118]=e.createElementVNode("label",null,"テーブル",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[34]||(o[34]=n=>P.value.table=n),placeholder:"orders",disabled:!!xe.value},null,8,ji),[[e.vModelText,P.value.table]])]),e.createElementVNode("div",qi,[o[119]||(o[119]=e.createElementVNode("label",null,"カラム",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[35]||(o[35]=n=>P.value.column=n),placeholder:"status",disabled:!!xe.value},null,8,Hi),[[e.vModelText,P.value.column]])])]),e.createElementVNode("div",Ri,[e.createElementVNode("div",Ki,[o[120]||(o[120]=e.createElementVNode("label",null,"表示名",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[36]||(o[36]=n=>P.value.name=n),placeholder:"ステータス"},null,512),[[e.vModelText,P.value.name]])]),e.createElementVNode("div",Gi,[o[121]||(o[121]=e.createElementVNode("label",null,"型",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[37]||(o[37]=n=>P.value.columnType=n),placeholder:"integer"},null,512),[[e.vModelText,P.value.columnType]])])]),e.createElementVNode("div",Yi,[o[122]||(o[122]=e.createElementVNode("label",null,"説明",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[38]||(o[38]=n=>P.value.description=n),placeholder:"注文のステータスを管理"},null,512),[[e.vModelText,P.value.description]])]),e.createElementVNode("div",Xi,[o[123]||(o[123]=e.createElementVNode("label",null,"マスタ値",-1)),e.createElementVNode("button",{onClick:Ye,class:"di-btn-icon",title:"追加"},[e.createVNode(e.unref(yt),{style:{width:"14px",height:"14px"}})])]),e.createElementVNode("div",Wi,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.value.entries,(n,c)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:"di-master-entry-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.value=d,placeholder:"値",class:"di-master-entry-value"},null,8,Zi),[[e.vModelText,n.value]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.label=d,placeholder:"ラベル",class:"di-master-entry-label"},null,8,Ji),[[e.vModelText,n.label]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.color=d,placeholder:"#色",class:"di-master-entry-color"},null,8,Qi),[[e.vModelText,n.color]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.description=d,placeholder:"説明",class:"di-master-entry-desc"},null,8,es),[[e.vModelText,n.description]]),e.createElementVNode("button",{onClick:d=>Xe(c),class:"di-btn-icon di-btn-icon-danger"},[e.createVNode(e.unref(lt),{style:{width:"12px",height:"12px"}})],8,ts)]))),128))]),e.createElementVNode("div",os,[o[124]||(o[124]=e.createElementVNode("label",null,"状態遷移",-1)),e.createElementVNode("button",{onClick:ie,class:"di-btn-icon",title:"遷移を追加"},[e.createVNode(e.unref(yt),{style:{width:"14px",height:"14px"}})])]),P.value.transitions.length>0?(e.openBlock(),e.createElementBlock("div",ls,[o[128]||(o[128]=e.createElementVNode("div",{class:"di-transition-header"},[e.createElementVNode("span",{class:"di-transition-col-from"},"遷移元"),e.createElementVNode("span",{class:"di-transition-col-arrow"},"→"),e.createElementVNode("span",{class:"di-transition-col-to"},"遷移先"),e.createElementVNode("span",{class:"di-transition-col-trigger"},"トリガー"),e.createElementVNode("span",{class:"di-transition-col-condition"},"条件"),e.createElementVNode("span",{class:"di-transition-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.value.transitions,(n,c)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:"di-transition-row"},[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":d=>n.from=d,class:"di-transition-select di-transition-col-from"},[o[125]||(o[125]=e.createElementVNode("option",{value:""},"-",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.value.entries.filter(d=>d.value),d=>(e.openBlock(),e.createElementBlock("option",{key:d.value,value:d.value},e.toDisplayString(d.label||d.value),9,as))),128))],8,ns),[[e.vModelSelect,n.from]]),o[127]||(o[127]=e.createElementVNode("span",{class:"di-transition-col-arrow"},"→",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":d=>n.to=d,class:"di-transition-select di-transition-col-to"},[o[126]||(o[126]=e.createElementVNode("option",{value:""},"-",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.value.entries.filter(d=>d.value),d=>(e.openBlock(),e.createElementBlock("option",{key:d.value,value:d.value},e.toDisplayString(d.label||d.value),9,ss))),128))],8,is),[[e.vModelSelect,n.to]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.trigger=d,placeholder:"トリガー",class:"di-transition-input di-transition-col-trigger"},null,8,ds),[[e.vModelText,n.trigger]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.condition=d,placeholder:"条件",class:"di-transition-input di-transition-col-condition"},null,8,rs),[[e.vModelText,n.condition]]),e.createElementVNode("button",{onClick:d=>ye(c),class:"di-btn-icon di-btn-icon-danger"},[e.createVNode(e.unref(lt),{style:{width:"12px",height:"12px"}})],8,cs)]))),128))])):(e.openBlock(),e.createElementBlock("div",us," 状態遷移を定義（任意） "))]),e.createElementVNode("div",ms,[xe.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[39]||(o[39]=n=>{ve(xe.value),Se.value=!1}),class:"di-btn-small di-btn-danger"},"削除")):e.createCommentVNode("",!0),o[129]||(o[129]=e.createElementVNode("div",{style:{flex:"1"}},null,-1)),e.createElementVNode("button",{onClick:o[40]||(o[40]=n=>Se.value=!1),class:"di-btn-small"},"キャンセル"),e.createElementVNode("button",{onClick:Ge,class:"di-btn-small di-btn-primary",disabled:!P.value.table||!P.value.column},"保存",8,ps)])])])):e.createCommentVNode("",!0)],8,["to"]))],512),[[e.vShow,g.value==="masters"]]),e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("div",vs,[e.createElementVNode("div",fs,[e.createVNode(e.unref(Wt),{style:{width:"16px",height:"16px",color:"#f59e0b"}}),o[130]||(o[130]=e.createElementVNode("span",null,"バッチ処理",-1)),He.value>0?(e.openBlock(),e.createElementBlock("span",Vs,e.toDisplayString(He.value),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:o[42]||(o[42]=n=>nt()),class:"di-btn-icon",style:{"margin-left":"auto"},title:"新規追加"},[e.createVNode(e.unref(yt),{style:{width:"14px",height:"14px"}})])]),He.value>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(ct.value,n=>(e.openBlock(),e.createElementBlock("div",{key:n.id,class:"di-batch-item",onClick:c=>nt(n.id)},[e.createElementVNode("div",ks,[e.createElementVNode("div",hs,e.toDisplayString(n.name),1),n.schedule?(e.openBlock(),e.createElementBlock("div",ys,e.toDisplayString(n.schedule),1)):e.createCommentVNode("",!0)])],8,Es))),128)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"di-batch-empty",onClick:o[43]||(o[43]=n=>nt())},[...o[131]||(o[131]=[e.createElementVNode("span",null,"バッチ処理を定義",-1)])]))]),(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(p)},[we.value?(e.openBlock(),e.createElementBlock("div",{key:0,"data-dev-inspector":"",class:"di-modal-overlay",onClick:o[59]||(o[59]=e.withModifiers(n=>we.value=!1,["self"]))},[e.createElementVNode("div",gs,[e.createElementVNode("div",bs,[e.createElementVNode("h3",null,e.toDisplayString(qe.value?"バッチ処理を編集":"新規バッチ処理"),1),e.createElementVNode("button",{onClick:o[44]||(o[44]=n=>we.value=!1),class:"di-close-btn"},[e.createVNode(e.unref(lt),{style:{width:"16px",height:"16px"}})])]),e.createElementVNode("div",Ns,[e.createElementVNode("div",Bs,[e.createElementVNode("div",Cs,[o[132]||(o[132]=e.createElementVNode("label",null,"バッチ名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[45]||(o[45]=n=>T.value.name=n),placeholder:"月次レポート生成"},null,512),[[e.vModelText,T.value.name]])]),e.createElementVNode("div",xs,[o[133]||(o[133]=e.createElementVNode("label",null,"スケジュール",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[46]||(o[46]=n=>T.value.schedule=n),placeholder:"毎月1日 AM2:00"},null,512),[[e.vModelText,T.value.schedule]])])]),e.createElementVNode("div",ws,[e.createElementVNode("div",Ds,[o[134]||(o[134]=e.createElementVNode("label",null,"手動トリガー",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[47]||(o[47]=n=>T.value.trigger=n),placeholder:"管理画面から実行"},null,512),[[e.vModelText,T.value.trigger]])])]),e.createElementVNode("div",$s,[o[135]||(o[135]=e.createElementVNode("label",null,"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":o[48]||(o[48]=n=>T.value.description=n),rows:"2",placeholder:"バッチ処理の概要..."},null,512),[[e.vModelText,T.value.description]])]),o[145]||(o[145]=e.createElementVNode("div",{class:"di-batch-section-label"},"入出力テーブル",-1)),e.createElementVNode("div",_s,[e.createElementVNode("div",Ss,[o[136]||(o[136]=e.createElementVNode("label",null,"入力テーブル",-1)),e.createElementVNode("div",Ts,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value.inputTables,(n,c)=>(e.openBlock(),e.createElementBlock("span",{key:c,class:"di-batch-tag"},[e.createTextVNode(e.toDisplayString(n)+" ",1),e.createElementVNode("button",{onClick:d=>ht(c),class:"di-batch-tag-remove"},"×",8,Ms)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[49]||(o[49]=n=>Le.value=n),onKeydown:o[50]||(o[50]=e.withKeys(e.withModifiers(n=>kt(),["prevent"]),["enter"])),type:"text",placeholder:"テーブル名",class:"di-batch-tag-input"},null,544),[[e.vModelText,Le.value]])])]),e.createElementVNode("div",Is,[o[137]||(o[137]=e.createElementVNode("label",null,"出力テーブル",-1)),e.createElementVNode("div",Us,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value.outputTables,(n,c)=>(e.openBlock(),e.createElementBlock("span",{key:c,class:"di-batch-tag"},[e.createTextVNode(e.toDisplayString(n)+" ",1),e.createElementVNode("button",{onClick:d=>Te(c),class:"di-batch-tag-remove"},"×",8,Fs)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[51]||(o[51]=n=>Je.value=n),onKeydown:o[52]||(o[52]=e.withKeys(e.withModifiers(n=>Pe(),["prevent"]),["enter"])),type:"text",placeholder:"テーブル名",class:"di-batch-tag-input"},null,544),[[e.vModelText,Je.value]])])])]),e.createElementVNode("div",Ls,[o[138]||(o[138]=e.createTextVNode(" 処理ステップ ",-1)),e.createElementVNode("button",{onClick:mt,class:"di-btn-icon",style:{"margin-left":"auto"},title:"ステップ追加"},[e.createVNode(e.unref(yt),{style:{width:"14px",height:"14px"}})])]),T.value.steps.length>0?(e.openBlock(),e.createElementBlock("div",Ps,[o[140]||(o[140]=e.createElementVNode("div",{class:"di-batch-steps-header"},[e.createElementVNode("span",{class:"di-batch-step-no"},"No"),e.createElementVNode("span",{class:"di-batch-step-desc"},"処理内容"),e.createElementVNode("span",{class:"di-batch-step-target"},"対象"),e.createElementVNode("span",{class:"di-batch-step-type"},"種別"),e.createElementVNode("span",{class:"di-batch-step-error"},"エラー処理"),e.createElementVNode("span",{class:"di-batch-step-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value.steps,(n,c)=>(e.openBlock(),e.createElementBlock("div",{key:c,class:"di-batch-step-row"},[e.createElementVNode("span",As,e.toDisplayString(c+1),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.description=d,placeholder:"処理内容",class:"di-batch-step-input di-batch-step-desc"},null,8,zs),[[e.vModelText,n.description]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.target=d,placeholder:"対象テーブル",class:"di-batch-step-input di-batch-step-target"},null,8,Os),[[e.vModelText,n.target]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":d=>n.type=d,class:"di-batch-step-select di-batch-step-type"},[...o[139]||(o[139]=[e.createElementVNode("option",{value:""},"-",-1),e.createElementVNode("option",{value:"query"},"query",-1),e.createElementVNode("option",{value:"api"},"api",-1),e.createElementVNode("option",{value:"file"},"file",-1),e.createElementVNode("option",{value:"mail"},"mail",-1),e.createElementVNode("option",{value:"other"},"other",-1)])],8,js),[[e.vModelSelect,n.type]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":d=>n.errorHandling=d,placeholder:"エラー時",class:"di-batch-step-input di-batch-step-error"},null,8,qs),[[e.vModelText,n.errorHandling]]),e.createElementVNode("button",{onClick:d=>Vt(c),class:"di-btn-icon di-btn-icon-danger"},[e.createVNode(e.unref(lt),{style:{width:"12px",height:"12px"}})],8,Hs)]))),128))])):e.createCommentVNode("",!0),o[146]||(o[146]=e.createElementVNode("div",{class:"di-batch-section-label"},"運用設定",-1)),e.createElementVNode("div",Rs,[e.createElementVNode("div",Ks,[o[141]||(o[141]=e.createElementVNode("label",null,"タイムアウト",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[53]||(o[53]=n=>T.value.timeout=n),placeholder:"30分"},null,512),[[e.vModelText,T.value.timeout]])]),e.createElementVNode("div",Gs,[o[142]||(o[142]=e.createElementVNode("label",null,"リトライ",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[54]||(o[54]=n=>T.value.retryPolicy=n),placeholder:"3回まで、5分間隔"},null,512),[[e.vModelText,T.value.retryPolicy]])])]),e.createElementVNode("div",Ys,[e.createElementVNode("div",Xs,[o[143]||(o[143]=e.createElementVNode("label",null,"エラー通知先",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[55]||(o[55]=n=>T.value.notifyOnError=n),placeholder:"admin@example.com"},null,512),[[e.vModelText,T.value.notifyOnError]])]),e.createElementVNode("div",Ws,[o[144]||(o[144]=e.createElementVNode("label",null,"完了通知先",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":o[56]||(o[56]=n=>T.value.notifyOnComplete=n),placeholder:"manager@example.com"},null,512),[[e.vModelText,T.value.notifyOnComplete]])])])]),e.createElementVNode("div",Zs,[qe.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:o[57]||(o[57]=n=>{Et(qe.value),we.value=!1}),class:"di-btn-small di-btn-danger"},"削除")):e.createCommentVNode("",!0),o[147]||(o[147]=e.createElementVNode("div",{style:{flex:"1"}},null,-1)),e.createElementVNode("button",{onClick:o[58]||(o[58]=n=>we.value=!1),class:"di-btn-small"},"キャンセル"),e.createElementVNode("button",{onClick:ut,class:"di-btn-small di-btn-primary",disabled:!T.value.name},"保存",8,Js)])])])):e.createCommentVNode("",!0)],8,["to"]))],512),[[e.vShow,g.value==="batches"]]),e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("div",Qs,[e.createElementVNode("button",{onClick:E,class:"di-btn-green"},[e.createVNode(e.unref(Qo),{style:{width:"16px",height:"16px"}}),o[148]||(o[148]=e.createTextVNode(" Git管理用に保存 ",-1))]),e.createElementVNode("button",{onClick:y,class:"di-btn-blue"},[e.createVNode(e.unref(lo),{style:{width:"16px",height:"16px"}}),o[149]||(o[149]=e.createTextVNode(" 画面仕様書 (xlsx) 出力 ",-1))]),e.createElementVNode("button",{onClick:o[60]||(o[60]=n=>e.unref(s).downloadSddSpec()),class:"di-btn-green-outline"},[e.createVNode(e.unref(wt),{style:{width:"16px",height:"16px"}}),o[150]||(o[150]=e.createTextVNode(" SDD仕様書 (md) ",-1))]),e.createElementVNode("button",{onClick:o[61]||(o[61]=n=>e.unref(s).downloadClientSpec()),class:"di-btn-blue-outline"},[e.createVNode(e.unref(wt),{style:{width:"16px",height:"16px"}}),o[151]||(o[151]=e.createTextVNode(" 納品用仕様書 (md) ",-1))])]),o[159]||(o[159]=e.createElementVNode("p",{class:"di-export-hint"},[e.createTextVNode(" JSON: "),e.createElementVNode("code",null,"dev-annotations.json"),e.createTextVNode(" に配置してcommit ")],-1)),e.createElementVNode("div",ed,[e.createElementVNode("button",{onClick:o[62]||(o[62]=n=>D.value=!0),class:"di-btn-small"},[e.createVNode(e.unref(Tt),{style:{width:"14px",height:"14px"}}),o[152]||(o[152]=e.createTextVNode(" エクスポート ",-1))]),e.createElementVNode("button",{onClick:o[63]||(o[63]=n=>Y.value=!0),class:"di-btn-small"},[e.createVNode(e.unref(rl),{style:{width:"14px",height:"14px"}}),o[153]||(o[153]=e.createTextVNode(" インポート ",-1))]),re.value>0?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:Ie,class:"di-btn-small di-btn-danger"},[e.createVNode(e.unref(bt),{style:{width:"14px",height:"14px"}}),o[154]||(o[154]=e.createTextVNode(" 全削除 ",-1))])):e.createCommentVNode("",!0)]),re.value>0||he.value>0||He.value>0?(e.openBlock(),e.createElementBlock("div",td,[o[158]||(o[158]=e.createElementVNode("div",{class:"di-export-summary-title"},"登録状況",-1)),e.createElementVNode("div",od,[o[155]||(o[155]=e.createElementVNode("span",null,"要素設定",-1)),e.createElementVNode("span",ld,e.toDisplayString(re.value)+"件",1)]),e.createElementVNode("div",nd,[o[156]||(o[156]=e.createElementVNode("span",null,"マスタ定義",-1)),e.createElementVNode("span",ad,e.toDisplayString(he.value)+"件",1)]),e.createElementVNode("div",id,[o[157]||(o[157]=e.createElementVNode("span",null,"バッチ処理",-1)),e.createElementVNode("span",sd,e.toDisplayString(He.value)+"件",1)])])):e.createCommentVNode("",!0)],512),[[e.vShow,g.value==="export"]])]),o[160]||(o[160]=e.createElementVNode("div",{class:"di-footer"},[e.createElementVNode("kbd",null,"Ctrl"),e.createElementVNode("span",null,"+"),e.createElementVNode("kbd",null,"Shift"),e.createElementVNode("span",null,"+"),e.createElementVNode("kbd",null,"D"),e.createElementVNode("span",{class:"di-footer-text"},"で開発者モード切替")],-1))])):e.createCommentVNode("",!0)],8,["to"])),(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(p)},[e.unref(s).isEnabled?(e.openBlock(),e.createElementBlock("div",dd,[...o[161]||(o[161]=[e.createElementVNode("span",{class:"di-indicator-dot"},null,-1),e.createTextVNode(" Developer Mode ",-1)])])):e.createCommentVNode("",!0)],8,["to"])),(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(p)},[D.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-modal-overlay",onClick:o[65]||(o[65]=e.withModifiers(n=>D.value=!1,["self"])),"data-dev-inspector":""},[e.createElementVNode("div",rd,[o[163]||(o[163]=e.createElementVNode("h3",{class:"di-modal-title"},"設定をエクスポート",-1)),e.createElementVNode("textarea",{readonly:"",value:e.unref(s).exportConfigs(),class:"di-modal-textarea"},null,8,cd),e.createElementVNode("div",ud,[e.createElementVNode("button",{onClick:o[64]||(o[64]=n=>D.value=!1),class:"di-btn-small"},"閉じる"),e.createElementVNode("button",{onClick:C,class:"di-btn-small di-btn-gray"},[e.createVNode(e.unref(Tt),{style:{width:"14px",height:"14px"}}),o[162]||(o[162]=e.createTextVNode(" ファイル保存 ",-1))]),e.createElementVNode("button",{onClick:z,class:"di-btn-small di-btn-primary"},"コピー")])])])):e.createCommentVNode("",!0)],8,["to"])),(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(p)},[Y.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-modal-overlay",onClick:o[68]||(o[68]=e.withModifiers(n=>Y.value=!1,["self"])),"data-dev-inspector":""},[e.createElementVNode("div",md,[o[165]||(o[165]=e.createElementVNode("h3",{class:"di-modal-title"},"設定をインポート",-1)),e.createElementVNode("label",pd,[e.createElementVNode("input",{type:"file",accept:".json",onChange:L},null,32),o[164]||(o[164]=e.createElementVNode("span",null,"JSONファイルをドラッグまたはクリック",-1))]),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":o[66]||(o[66]=n=>O.value=n),placeholder:"またはJSONを直接貼り付け...",class:"di-modal-textarea di-modal-textarea-input"},null,512),[[e.vModelText,O.value]]),X.value?(e.openBlock(),e.createElementBlock("p",vd,e.toDisplayString(X.value),1)):e.createCommentVNode("",!0),e.createElementVNode("div",fd,[e.createElementVNode("button",{onClick:o[67]||(o[67]=n=>{Y.value=!1,O.value="",X.value=""}),class:"di-btn-small"}," キャンセル "),e.createElementVNode("button",{onClick:ue,disabled:!O.value,class:"di-btn-small di-btn-primary"}," インポート ",8,Vd)])])])):e.createCommentVNode("",!0)],8,["to"]))],64)}}}),$t=(A,p)=>{const s=A.__vccOpts||A;for(const[g,D]of p)s[g]=D;return s},ao=$t(Ed,[["__scopeId","data-v-fe3fc659"]]),kd={class:"di-editor-header"},hd={class:"di-header-actions"},yd={key:0,class:"di-source-badge-row"},gd={key:0,class:"di-source-detail"},bd={class:"di-context-row"},Nd={class:"di-context-field di-context-field-dropdown"},Bd={class:"di-dropdown-wrapper"},Cd={key:0,class:"di-dropdown-list"},xd=["onMousedown"],wd={class:"di-context-field di-context-field-dropdown"},Dd={class:"di-dropdown-wrapper"},$d={key:0,class:"di-dropdown-list"},_d=["onMousedown"],Sd={class:"di-editor-tabs"},Td={class:"di-editor-content"},Md={class:"di-form-group"},Id={class:"di-display-type-grid"},Ud=["onClick"],Fd={class:"di-display-type-desc"},Ld={key:0,class:"di-field-tags"},Pd={class:"di-field-tags-list"},Ad={class:"di-field-tag-name"},zd={key:0,class:"di-field-tag-type"},Od=["onClick"],jd={key:1,class:"di-binding-selector"},qd={class:"di-form-group"},Hd={class:"di-form-label"},Rd={class:"di-binding-search-wrapper"},Kd={key:0,class:"di-binding-list"},Gd=["onClick"],Yd={class:"di-binding-item-main"},Xd={class:"di-binding-name"},Wd={class:"di-binding-type"},Zd={key:0,class:"di-binding-component"},Jd={key:1,class:"di-binding-empty"},Qd={key:2,class:"di-form-divider"},er={class:"di-form-row"},tr={class:"di-form-group di-suggest-wrapper"},or={key:0,class:"di-suggest-list"},lr=["onMousedown"],nr={class:"di-form-group di-suggest-wrapper"},ar={key:0,class:"di-suggest-list"},ir=["onMousedown"],sr={class:"di-form-group"},dr=["value"],rr=["disabled"],cr={key:3,class:"di-master-inline"},ur={key:0,class:"di-condition-badge",style:{background:"#a78bfa"}},mr={key:0,class:"di-master-inline-section"},pr={key:0,class:"di-master-entries-table"},vr=["onUpdate:modelValue"],fr=["onUpdate:modelValue"],Vr=["onUpdate:modelValue"],Er=["onClick"],kr={key:4,class:"di-form-group"},hr={class:"di-stored-calc-toggle"},yr={key:0,class:"di-condition-badge"},gr={key:5,class:"di-stored-calc-section"},br={class:"di-form-group"},Nr={class:"di-form-group di-suggest-wrapper"},Br={class:"di-stored-calc-tags"},Cr=["onClick"],xr={key:0,class:"di-suggest-list"},wr=["onMousedown"],Dr={class:"di-form-group"},$r={key:1,class:"di-form-group di-suggest-wrapper"},_r={key:0,class:"di-calc-tag"},Sr=["onClick"],Tr={key:1,class:"di-calc-text"},Mr=["placeholder"],Ir={key:0,class:"di-suggest-list"},Ur=["onMousedown"],Fr={key:2,class:"di-form-group"},Lr={class:"di-condition-toggle"},Pr={key:0,class:"di-condition-badge"},Ar={key:0,class:"di-condition-section"},zr={class:"di-form-group"},Or={class:"di-form-group di-suggest-wrapper"},jr={class:"di-form-row"},qr={class:"di-form-group"},Hr={key:0,class:"di-form-group"},Rr={class:"di-form-row"},Kr={class:"di-form-group"},Gr={class:"di-form-group",style:{flex:"0 0 80px"}},Yr={class:"di-form-row"},Xr={class:"di-form-group"},Wr={class:"di-form-group"},Zr={class:"di-form-group"},Jr={class:"di-form-group"},Qr={class:"di-form-group"},ec={class:"di-form-group"},tc=["placeholder"],oc={key:0,class:"di-form-group"},lc={class:"di-form-group"},nc={class:"di-form-divider"},ac={class:"di-csv-file-settings"},ic={class:"di-form-row"},sc={class:"di-form-group"},dc={class:"di-form-group"},rc={class:"di-form-row",style:{"align-items":"center"}},cc={class:"di-csv-checkbox-label"},uc={class:"di-form-group"},mc={class:"di-csv-columns-section"},pc={key:0,class:"di-csv-columns-table"},vc={class:"di-csv-col-no"},fc=["onUpdate:modelValue"],Vc=["onUpdate:modelValue"],Ec=["onUpdate:modelValue"],kc=["onUpdate:modelValue"],hc={class:"di-csv-col-req di-csv-checkbox-center"},yc=["onUpdate:modelValue"],gc=["onUpdate:modelValue"],bc={class:"di-csv-col-act"},Nc=["onClick","disabled"],Bc=["onClick","disabled"],Cc=["onClick"],xc={class:"di-form-group"},wc={class:"di-form-group"},Dc={class:"di-form-group"},$c={class:"di-form-group"},_c={class:"di-form-group"},Sc={class:"di-form-group"},Tc={class:"di-csv-error-section"},Mc={key:0,class:"di-csv-columns-table"},Ic=["onUpdate:modelValue"],Uc=["value"],Fc=["onUpdate:modelValue"],Lc=["onUpdate:modelValue"],Pc=["onUpdate:modelValue"],Ac=["onClick"],zc={class:"di-form-divider"},Oc={class:"di-form-row"},jc={class:"di-form-group"},qc={class:"di-form-group"},Hc={class:"di-form-row"},Rc={class:"di-form-group"},Kc={class:"di-form-group"},Gc={class:"di-form-group"},Yc={class:"di-form-group"},Xc={class:"di-form-group"},Wc={class:"di-form-group"},Zc={class:"di-email-variables-input"},Jc=["onClick"],Qc={class:"di-form-group"},eu={class:"di-form-group"},tu={class:"di-form-group"},ou={class:"di-form-divider"},lu={class:"di-form-group"},nu={class:"di-form-label",style:{display:"flex","align-items":"center",gap:"8px"}},au={class:"di-form-row"},iu={class:"di-form-group"},su={class:"di-form-group"},du={class:"di-form-group"},ru={class:"di-form-group"},cu={class:"di-form-label",style:{display:"flex","align-items":"center",gap:"8px"}},uu={class:"di-form-group"},mu={class:"di-form-group"},pu={class:"di-form-group"},vu={class:"di-form-group"},fu={key:0,class:"di-field-tags"},Vu={class:"di-field-tags-list"},Eu={class:"di-field-tag-name"},ku={key:0,class:"di-field-tag-type"},hu=["onClick"],yu={key:1,class:"di-binding-selector"},gu={class:"di-form-group"},bu={class:"di-form-label"},Nu={class:"di-binding-search-wrapper"},Bu={key:0,class:"di-binding-list"},Cu=["onClick"],xu={class:"di-binding-item-main"},wu={class:"di-binding-name"},Du={class:"di-binding-type"},$u={key:0,class:"di-binding-component"},_u={key:2,class:"di-master-inline"},Su={key:0,class:"di-condition-badge",style:{background:"#a78bfa"}},Tu={key:0,class:"di-master-inline-section"},Mu={key:0,class:"di-master-entries-table"},Iu=["onUpdate:modelValue"],Uu=["onUpdate:modelValue"],Fu=["onUpdate:modelValue"],Lu=["onClick"],Pu={class:"di-condition-toggle"},Au={key:0,class:"di-condition-badge"},zu={class:"di-form-group di-suggest-wrapper"},Ou={class:"di-calc-tags-input"},ju=["onClick"],qu=["placeholder"],Hu={class:"di-form-group"},Ru={class:"di-form-group"},Ku={class:"di-form-group"},Gu={class:"di-form-group"},Yu={class:"di-form-group"},Xu={class:"di-form-group"},Wu={class:"di-form-row"},Zu={class:"di-form-group di-form-half"},Ju={class:"di-form-group di-form-half"},Qu={class:"di-csv-columns-section"},em={key:0,class:"di-csv-columns-table"},tm=["onUpdate:modelValue"],om=["onUpdate:modelValue"],lm=["onUpdate:modelValue"],nm={class:"di-csv-col-act"},am=["onClick","disabled"],im=["onClick","disabled"],sm=["onClick"],dm={class:"di-form-group"},rm={class:"di-form-group"},cm={class:"di-form-group"},um={class:"di-form-group"},mm={class:"di-editor-footer"},pm={class:"di-editor-actions"},vm=e.defineComponent({__name:"DevElementEditor",setup(A){const p=Nt.useDevInspectorStore(),s=e.inject("teleportTarget","body"),g=e.ref("datasource"),D=e.ref(""),Y=e.ref(""),O=e.ref(""),X=e.ref(""),se=e.ref(""),F=e.ref(!1),de=e.ref([]),j=e.ref(""),re=e.ref(""),ce=e.ref(""),te=e.ref(""),h=e.ref([]),pe=e.ref("UTF-8"),Ee=e.ref(","),ke=e.ref(!0),Oe=e.ref(""),oe=e.ref(""),_e=e.ref(""),H=e.ref(void 0),Ce=e.ref(""),b=e.ref(""),B=e.ref(""),m=e.ref([]),w=e.ref(""),_=e.ref(""),R=e.ref(""),S=e.ref(""),z=e.ref(""),C=e.ref(""),E=e.ref(""),y=e.ref([]),ue=e.ref(""),L=e.ref(""),Ie=e.ref(""),le=e.ref(""),Ue=e.ref(!0),je=e.ref(""),Se=e.ref(""),xe=e.ref(""),P=e.ref(!1),he=e.ref(""),Ke=e.ref(""),Fe=e.ref(""),Ge=e.ref(""),Ye=e.ref(""),Xe=e.ref(""),ie=e.ref([]),ye=e.ref(""),ve=e.ref(""),we=e.ref(""),qe=e.ref(""),T=e.ref(""),Le=e.ref(""),Je=e.ref(!1),He=e.ref(!1),ct=e.computed(()=>{const u=new Set;for(const t of Object.values(p.elementConfigs))t.tabContext&&u.add(t.tabContext);return[...u].sort()}),nt=e.computed(()=>{const u=new Set;for(const t of Object.values(p.elementConfigs))t.modalName&&u.add(t.modalName);return[...u].sort()}),ut=e.computed(()=>{const u=T.value.toLowerCase();return u?ct.value.filter(t=>t.toLowerCase().includes(u)):ct.value}),mt=e.computed(()=>{const u=Le.value.toLowerCase();return u?nt.value.filter(t=>t.toLowerCase().includes(u)):nt.value});function Vt(u){T.value=u,Je.value=!1}function Et(u){Le.value=u,He.value=!1}function kt(){setTimeout(()=>{Je.value=!1},150)}function ht(){setTimeout(()=>{He.value=!1},150)}const Pe=e.ref(!1),Te=e.ref([]),Ae=e.computed(()=>{if(fe.value.length>0){const u=fe.value[0];if(u.table&&u.column)return`${u.table}.${u.column}`}return""}),at=e.computed(()=>Ae.value&&p.getMasterDefinition(Ae.value)||null),M=e.ref("db_direct"),fe=e.ref([]),W=e.ref(""),ge=e.ref(""),We=e.ref(""),Ze=e.ref(""),tt=e.ref(""),ne=e.ref([]),a=e.ref(""),be=e.ref(!1),ee=e.ref(""),I=e.ref(""),Z=e.ref(""),De=e.ref(""),Ve=e.ref(""),me=e.ref(!1),ze=e.ref(""),J=e.ref([]),$e=e.ref(""),et=e.ref(!1),it=e.ref(""),Re=e.ref(""),N=e.ref(""),Q=e.ref(""),Ne=e.ref(""),Me=e.ref(!1),ae=e.ref(""),K=e.ref(""),Qe=e.ref(""),pt=e.ref(!1),i=e.computed(()=>K.value?{data:"data","v-model":"v-model",prop:"prop",static:"static",computed:"computed",store:"store",api:"data"}[K.value]||K.value:""),o=e.computed(()=>p.editingElementId!==null),v=e.computed(()=>p.editingElementId),x=e.computed(()=>D.value==="csv_export"||D.value==="csv_import"),n=e.computed(()=>D.value==="email"),c=e.computed(()=>x.value||n.value),d=[{value:"db_direct",label:"DBカラム (そのまま)",icon:rt,color:"#3b82f6",description:"DBの値をそのまま表示"},{value:"db_formatted",label:"DBカラム (整形)",icon:Dt,color:"#8b5cf6",description:"DBの値を整形して表示"},{value:"calculated",label:"計算値",icon:Yt,color:"#f59e0b",description:"複数カラムから計算"},{value:"static",label:"固定文言",icon:dl,color:"#10b981",description:"コード内の固定テキスト"},{value:"other",label:"その他メモ",icon:ll,color:"#94a3b8",description:"自由メモ"}];e.watch(v,u=>{var t;if(u){const l=p.getElementConfig(u);try{const r=document.querySelector(u);if(r){l!=null&&l.elementType?g.value=l.elementType:g.value=p.detectElementType(r);const $=r.querySelector("[data-di-binding]")||(r.hasAttribute("data-di-binding")?r:null)||r.closest("[data-di-binding]");if($){const Be=$.getAttribute("data-di-binding"),vt=$.getAttribute("data-di-db"),St=$.getAttribute("data-di-db-type"),ft=$.getAttribute("data-di-db-comment");if(Be&&(Qe.value=Be,K.value="data",pt.value=!1),vt){const[Kt,Gt]=vt.split(".");Kt&&Gt&&(fe.value.push({table:Kt,column:Gt,type:St||void 0,description:ft||void 0}),M.value||(M.value="db_direct"))}}}}catch(r){console.warn("[DevInspector] Failed to read element:",r)}l!=null&&l.fieldInfoList&&l.fieldInfoList.length>0?fe.value=l.fieldInfoList.map(r=>({...r})):l!=null&&l.fieldInfo&&(fe.value=[{...l.fieldInfo}]),W.value="",ge.value="",We.value="",Ze.value="",l!=null&&l.note&&(ae.value=l.note.text||ae.value,M.value=l.note.displayType||M.value,tt.value=l.note.formatDescription||"",ee.value=l.note.sampleValue||"",I.value=l.note.decimalHandling||"",Z.value=l.note.unit||"",De.value=l.note.nullDisplay||"",Ve.value=l.note.displayFormat||"",Bo(l.note.calcDescription||"",l.note.calcSources||[]),me.value=l.note.storedCalc||!1,ze.value=l.note.storedCalcLogic||"",J.value=l.note.storedCalcSources?[...l.note.storedCalcSources]:[],it.value=l.note.storedCalcTiming||"",Re.value=l.note.condition||"",N.value=l.note.conditionColumn||"",Q.value=l.note.hiddenBehavior||"",Ne.value=l.note.hiddenNote||"",Me.value=!!(l.note.condition||l.note.conditionColumn)),l!=null&&l.sourceBinding&&(K.value=l.sourceBinding.type||K.value,Qe.value=l.sourceBinding.source||Qe.value,pt.value=l.sourceBinding.isStatic||!1),T.value=(l==null?void 0:l.tabContext)||p.detectTabContext(u)||"";const f=p.detectModalName(u);if(Le.value=(l==null?void 0:l.modalName)||f||"",l!=null&&l.actionInfo){if(D.value=l.actionInfo.type||"",Y.value=l.actionInfo.target||"",O.value=l.actionInfo.method||"",X.value=l.actionInfo.description||"",l.actionInfo.csvSpec){const r=l.actionInfo.csvSpec;h.value=r.columns.map($=>({...$})),pe.value=r.encoding||"UTF-8",Ee.value=r.delimiter||",",ke.value=r.hasHeaderRow!==!1,Oe.value=r.filenamePattern||"",oe.value=r.sortOrder||"",_e.value=r.filterCondition||"",H.value=r.maxRows,Ce.value=r.errorHandling||"",b.value=r.duplicateHandling||"",B.value=r.preValidation||"",m.value=r.errorDefs?r.errorDefs.map($=>({...$})):[]}if(l.actionInfo.emailSpec){const r=l.actionInfo.emailSpec;w.value=r.trigger||"",_.value=r.to||"",R.value=r.cc||"",S.value=r.bcc||"",z.value=r.subject||"",C.value=r.bodyTemplate||"",E.value=r.templatePath||"",y.value=r.variables?[...r.variables]:[],L.value=r.attachments||"",Ie.value=r.conditions||"",le.value=r.errorHandling||""}}if(l!=null&&l.formInfo&&(se.value=l.formInfo.inputType||"",F.value=l.formInfo.required||!1,de.value=l.formInfo.validation?[...l.formInfo.validation]:[],re.value=l.formInfo.placeholder||"",ce.value=l.formInfo.defaultValue||"",te.value=l.formInfo.description||""),(t=l==null?void 0:l.actionInfo)!=null&&t.sortSpec){const r=l.actionInfo.sortSpec;Ue.value=r.sortable!==!1,je.value=r.sortType||"",Se.value=r.sortKey||"",xe.value=r.defaultDirection||"",P.value=r.isDefaultSort||!1,he.value=r.unsortedOrder||"",Ke.value=r.description||""}if(l!=null&&l.chartSpec){const r=l.chartSpec;Fe.value=r.chartType||"",Ge.value=r.title||"",Ye.value=r.xAxis||"",Xe.value=r.yAxis||"",ie.value=r.series?r.series.map($=>({...$})):[],ye.value=r.dataSource||"",ve.value=r.aggregation||"",we.value=r.filters||"",qe.value=r.description||""}}else k()});function k(){g.value="datasource",M.value="db_direct",fe.value=[],W.value="",ge.value="",We.value="",Ze.value="",tt.value="",ee.value="",I.value="",Z.value="",De.value="",Ve.value="",ne.value=[],a.value="",me.value=!1,ze.value="",J.value=[],$e.value="",it.value="",Re.value="",N.value="",Q.value="",Ne.value="",Me.value=!1,ae.value="",K.value="",Qe.value="",pt.value=!1,D.value="",Y.value="",O.value="",X.value="",h.value=[],pe.value="UTF-8",Ee.value=",",ke.value=!0,Oe.value="",oe.value="",_e.value="",H.value=void 0,Ce.value="",b.value="",B.value="",m.value=[],se.value="",F.value=!1,de.value=[],j.value="",re.value="",ce.value="",te.value="",w.value="",_.value="",R.value="",S.value="",z.value="",C.value="",E.value="",y.value=[],ue.value="",L.value="",Ie.value="",le.value="",Ue.value=!0,je.value="",Se.value="",xe.value="",P.value=!1,he.value="",Ke.value="",Fe.value="",Ge.value="",Ye.value="",Xe.value="",ie.value=[],ye.value="",ve.value="",we.value="",qe.value="",T.value="",Le.value="",Pe.value=!1,Te.value=[]}function V(){p.stopEditing(),k()}function G(){if(v.value)try{const u=document.querySelector(v.value);if(!u)return;const t=p.autoDetectElementInfo(u,v.value);t.sourceBinding&&(K.value=t.sourceBinding.type||"",Qe.value=t.sourceBinding.source||"",pt.value=t.sourceBinding.isStatic||!1,t.sourceBinding.isStatic&&!M.value&&(M.value="static",ae.value=ae.value||"固定文言")),t.fieldInfo&&(fe.value.push({table:t.fieldInfo.table||"",column:t.fieldInfo.column||"",type:t.fieldInfo.type||void 0,description:t.fieldInfo.description||void 0}),M.value||(M.value="db_direct")),t.note&&!ae.value&&(ae.value=t.note.text||"")}catch(u){console.error("[DevInspector] Auto-detect failed:",u)}}function q(){if(!v.value)return;const u=[...fe.value];(M.value==="db_direct"||M.value==="db_formatted")&&W.value&&ge.value&&u.push({table:W.value,column:ge.value,type:We.value||void 0,description:Ze.value||void 0});const t=u.length>0?u:void 0,l=u.length>0?u[0]:void 0,f=M.value==="db_direct"||M.value==="db_formatted",r=M.value||ae.value?{text:ae.value||"",displayType:M.value,formatDescription:M.value==="db_formatted"&&tt.value||void 0,calcDescription:M.value==="calculated"&&No()||void 0,calcSources:M.value==="calculated"&&zt().length>0?zt():void 0,storedCalc:f&&me.value?!0:void 0,storedCalcLogic:f&&me.value&&ze.value||void 0,storedCalcSources:f&&me.value&&J.value.length>0?J.value:void 0,storedCalcTiming:f&&me.value&&it.value||void 0,sampleValue:ee.value||void 0,decimalHandling:I.value||void 0,unit:Z.value||void 0,nullDisplay:De.value||void 0,displayFormat:Ve.value||void 0,condition:Re.value||void 0,conditionColumn:N.value||void 0,hiddenBehavior:Q.value||void 0,hiddenNote:Ne.value||void 0}:void 0,$=K.value?{type:K.value,source:Qe.value||void 0,isStatic:pt.value}:void 0,Be=g.value==="action"&&D.value?{type:D.value,target:Y.value||void 0,method:O.value?O.value:void 0,description:X.value||void 0,csvSpec:Uo(),emailSpec:Fo(),sortSpec:zo()}:void 0,vt=g.value==="form"?{inputType:se.value||void 0,required:F.value||void 0,validation:de.value.length>0?de.value:void 0,placeholder:re.value||void 0,defaultValue:ce.value||void 0,description:te.value||void 0}:void 0,St=g.value==="chart"&&Fe.value?{chartType:Fe.value,title:Ge.value||void 0,xAxis:Ye.value||void 0,yAxis:Xe.value||void 0,series:ie.value.filter(ft=>ft.label||ft.field).length>0?ie.value.filter(ft=>ft.label||ft.field):void 0,dataSource:ye.value||void 0,aggregation:ve.value||void 0,filters:we.value||void 0,description:qe.value||void 0}:void 0;p.setElementConfig(v.value,{elementType:g.value,fieldInfo:l,fieldInfoList:t,actionInfo:Be,formInfo:vt,chartSpec:St,note:r,sourceBinding:$,tabContext:T.value||void 0,modalName:Le.value||void 0,isConditional:Le.value?!0:void 0}),Pe.value&&Ae.value&&Oo(),V()}function st(){v.value&&(p.deleteElementConfig(v.value),V())}const co=["string","text","integer","bigint","float","decimal","boolean","date","datetime","time","timestamp","binary","json","jsonb","VARCHAR","TEXT","INT","BIGINT","BOOLEAN","DATE","DATETIME","TIMESTAMP","JSON"],ot=e.ref(""),dt=e.ref(!1),gt=e.computed(()=>p.searchSchemaColumns(ot.value).slice(0,30));function It(u){fe.value.push({table:u.table,column:u.column,type:u.type||void 0,description:u.comment||void 0}),dt.value=!1,ot.value=""}function uo(){!W.value||!ge.value||(fe.value.push({table:W.value,column:ge.value,type:We.value||void 0,description:Ze.value||void 0}),W.value="",ge.value="",We.value="",Ze.value="")}function Ut(u){fe.value.splice(u,1)}const _t=e.computed(()=>p.getSchemaColumns().length>0),Bt=e.ref(!1),Ct=e.ref(!1),Ft=e.computed(()=>{var f;const u=new Set;for(const r of Object.values(p.elementConfigs))if(r.fieldInfoList)for(const $ of r.fieldInfoList)$.table&&u.add($.table);else(f=r.fieldInfo)!=null&&f.table&&u.add(r.fieldInfo.table);for(const r of p.getSchemaColumns())u.add(r.table);const t=[...u].sort();if(!W.value)return t;const l=W.value.toLowerCase();return t.filter(r=>r.toLowerCase().includes(l))}),Lt=e.computed(()=>{var f;const u=new Set;for(const r of Object.values(p.elementConfigs))if(r.fieldInfoList)for(const $ of r.fieldInfoList)$.column&&(!W.value||$.table===W.value)&&u.add($.column);else(f=r.fieldInfo)!=null&&f.column&&(!W.value||r.fieldInfo.table===W.value)&&u.add(r.fieldInfo.column);for(const r of p.getSchemaColumns())(!W.value||r.table===W.value)&&u.add(r.column);const t=[...u].sort();if(!ge.value)return t;const l=ge.value.toLowerCase();return t.filter(r=>r.toLowerCase().includes(l))});function mo(){setTimeout(()=>{Bt.value=!1},150)}function po(){setTimeout(()=>{Ct.value=!1},150)}function vo(u){if(W.value=u,Bt.value=!1,ge.value){const t=p.getSchemaColumns().find(l=>l.table===u&&l.column===ge.value);t&&(We.value=t.type||"",Ze.value=t.comment||"")}}function fo(u){if(ge.value=u,Ct.value=!1,W.value){const t=p.getSchemaColumns().find(l=>l.table===W.value&&l.column===u);t&&(We.value=t.type||"",Ze.value=t.comment||"")}}const Pt=e.computed(()=>{var f,r;const u=new Set;for(const $ of Object.values(p.elementConfigs))if($.fieldInfoList)for(const Be of $.fieldInfoList)Be.table&&Be.column&&u.add(`${Be.table}.${Be.column}`);else(f=$.fieldInfo)!=null&&f.table&&((r=$.fieldInfo)!=null&&r.column)&&u.add(`${$.fieldInfo.table}.${$.fieldInfo.column}`);for(const $ of p.getSchemaColumns())u.add($.fullName);const t=[...u].sort();if(!a.value)return t;const l=a.value.trim().toLowerCase();if(/^[a-z0-9_.]+$/i.test(l)){const $=t.filter(Be=>Be.toLowerCase().includes(l));if($.length>0)return $}return t});function Vo(u){a.value.trim()&&ne.value.push({type:"text",value:a.value}),ne.value.push({type:"tag",value:u}),a.value=""}function Eo(u){ne.value.splice(u,1)}function ko(u){if(u.key==="Backspace"&&!a.value&&ne.value.length>0){const t=ne.value.pop();t.type==="text"&&(a.value=t.value)}}function ho(){setTimeout(()=>{be.value=!1},150)}const At=e.computed(()=>{var f,r;const u=new Set;for(const $ of p.getSchemaColumns())u.add($.fullName);for(const $ of Object.values(p.elementConfigs))if($.fieldInfoList)for(const Be of $.fieldInfoList)Be.table&&Be.column&&u.add(`${Be.table}.${Be.column}`);else(f=$.fieldInfo)!=null&&f.table&&((r=$.fieldInfo)!=null&&r.column)&&u.add(`${$.fieldInfo.table}.${$.fieldInfo.column}`);const t=[...u].sort();if(!$e.value)return t;const l=$e.value.trim().toLowerCase();return t.filter($=>$.toLowerCase().includes(l))});function yo(){setTimeout(()=>{et.value=!1},150)}function go(){const u=$e.value.trim();u&&!J.value.includes(u)&&J.value.push(u),$e.value=""}function bo(u){J.value.includes(u)||J.value.push(u),$e.value=""}function No(){const u=ne.value.map(t=>t.value);return a.value.trim()&&u.push(a.value.trim()),u.join(" ").replace(/\s+/g," ").trim()}function zt(){return ne.value.filter(u=>u.type==="tag").map(u=>u.value)}function Bo(u,t){if(!u&&t.length===0){ne.value=[],a.value="";return}if(t.length===0){ne.value=[],a.value=u;return}const l=[];let f=u;for(const $ of t){const Be=f.indexOf($);if(Be>=0){const vt=f.substring(0,Be).trim();vt&&l.push({type:"text",value:vt}),l.push({type:"tag",value:$}),f=f.substring(Be+$.length)}}const r=f.trim();r&&l.push({type:"text",value:r}),l.length===0?a.value=u:(ne.value=l,a.value="")}function Co(){const u=j.value.trim();u&&!de.value.includes(u)&&de.value.push(u),j.value=""}function xo(u){de.value.splice(u,1)}function wo(u){u.key==="Backspace"&&!j.value&&de.value.length>0&&de.value.pop()}function Do(){h.value.push({name:"",dbMapping:"",type:"string",required:!1,description:""})}function $o(u){h.value.splice(u,1)}function Ot(u,t){const l=u+t;if(l<0||l>=h.value.length)return;const f=h.value[u];h.value[u]=h.value[l],h.value[l]=f,h.value=[...h.value]}function _o(){ie.value.push({label:"",field:"",color:"#3b82f6"})}function So(u){ie.value.splice(u,1)}function jt(u,t){const l=u+t;if(l<0||l>=ie.value.length)return;const f=ie.value[u];ie.value[u]=ie.value[l],ie.value[l]=f,ie.value=[...ie.value]}function To(){m.value.push({condition:"",message:"",column:"",severity:"error"})}function Mo(u){m.value.splice(u,1)}const Io=e.computed(()=>h.value.filter(u=>u.name).map(u=>u.name));function Uo(){if(D.value!=="csv_export"&&D.value!=="csv_import")return;const u=m.value.filter(t=>t.condition||t.message);return{columns:h.value.filter(t=>t.name),encoding:pe.value||void 0,delimiter:Ee.value||void 0,hasHeaderRow:ke.value,filenamePattern:Oe.value||void 0,sortOrder:oe.value||void 0,filterCondition:_e.value||void 0,maxRows:H.value||void 0,errorHandling:Ce.value||void 0,duplicateHandling:b.value||void 0,preValidation:B.value||void 0,errorDefs:u.length>0?u:void 0}}function Fo(){if(D.value==="email")return{trigger:w.value||"",to:_.value||"",cc:R.value||void 0,bcc:S.value||void 0,subject:z.value||"",bodyTemplate:C.value||void 0,templatePath:E.value||void 0,variables:y.value.length>0?y.value:void 0,attachments:L.value||void 0,conditions:Ie.value||void 0,errorHandling:le.value||void 0}}function Lo(){const u=ue.value.trim();u&&!y.value.includes(u)&&y.value.push(u),ue.value=""}function Po(u){y.value.splice(u,1)}function Ao(u){u.key==="Backspace"&&!ue.value&&y.value.length>0&&y.value.pop()}function zo(){if(D.value==="sort")return{sortable:Ue.value,sortType:je.value?je.value:void 0,sortKey:Se.value||void 0,defaultDirection:xe.value?xe.value:void 0,isDefaultSort:P.value||void 0,unsortedOrder:he.value||void 0,description:Ke.value||void 0}}e.watch(Ae,u=>{if(u){const t=p.getMasterDefinition(u);t?(Te.value=t.entries.map(l=>({...l})),Pe.value=!0):(Te.value=[],Pe.value=!1)}else Te.value=[],Pe.value=!1});function qt(){Pe.value=!Pe.value,Pe.value&&Te.value.length===0&&Te.value.push({value:"",label:""})}function Ht(){Te.value.push({value:"",label:""})}function Rt(u){Te.value.splice(u,1)}function Oo(){var r;if(!Ae.value)return;const[u,t]=Ae.value.split(".");if(!u||!t)return;const l=Te.value.filter($=>$.value||$.label);if(l.length===0){p.deleteMasterDefinition(Ae.value);return}const f=p.getMasterDefinition(Ae.value);p.setMasterDefinition({id:Ae.value,table:u,column:t,name:(f==null?void 0:f.name)||t,columnType:(f==null?void 0:f.columnType)||((r=fe.value[0])==null?void 0:r.type),description:f==null?void 0:f.description,entries:l,updatedAt:new Date().toISOString()})}return(u,t)=>(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(s)},[o.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-editor-overlay",onClick:e.withModifiers(V,["self"]),"data-dev-inspector":""},[e.createElementVNode("div",{class:e.normalizeClass(["di-editor-modal",{"di-editor-modal-wide":c.value}])},[e.createElementVNode("div",kd,[t[94]||(t[94]=e.createElementVNode("h3",null,"要素情報を編集",-1)),e.createElementVNode("div",hd,[e.createElementVNode("button",{onClick:G,class:"di-btn-auto",title:"自動検出"},[e.createVNode(e.unref(Dt),{style:{width:"16px",height:"16px"}})]),e.createElementVNode("button",{onClick:V,class:"di-editor-close"},[e.createVNode(e.unref(lt),{style:{width:"20px",height:"20px"}})])])]),i.value?(e.openBlock(),e.createElementBlock("div",yd,[e.createElementVNode("span",{class:e.normalizeClass(["di-source-badge","di-source-"+K.value])},e.toDisplayString(i.value),3),Qe.value?(e.openBlock(),e.createElementBlock("span",gd,e.toDisplayString(Qe.value),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",bd,[e.createElementVNode("div",Nd,[t[95]||(t[95]=e.createElementVNode("label",{class:"di-context-label di-context-label-tab"},"タブ:",-1)),e.createElementVNode("div",Bd,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>T.value=l),type:"text",class:"di-context-input",placeholder:"例: 予習, 受講者一覧",onFocus:t[1]||(t[1]=l=>Je.value=!0),onBlur:kt,autocomplete:"off"},null,544),[[e.vModelText,T.value]]),Je.value&&ut.value.length>0?(e.openBlock(),e.createElementBlock("div",Cd,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ut.value,l=>(e.openBlock(),e.createElementBlock("div",{key:l,class:"di-dropdown-item",onMousedown:e.withModifiers(f=>Vt(l),["prevent"])},e.toDisplayString(l),41,xd))),128))])):e.createCommentVNode("",!0)])]),e.createElementVNode("div",wd,[t[96]||(t[96]=e.createElementVNode("label",{class:"di-context-label di-context-label-modal"},"モーダル:",-1)),e.createElementVNode("div",Dd,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>Le.value=l),type:"text",class:"di-context-input",placeholder:"例: 確認ダイアログ",onFocus:t[3]||(t[3]=l=>He.value=!0),onBlur:ht,autocomplete:"off"},null,544),[[e.vModelText,Le.value]]),He.value&&mt.value.length>0?(e.openBlock(),e.createElementBlock("div",$d,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(mt.value,l=>(e.openBlock(),e.createElementBlock("div",{key:l,class:"di-dropdown-item",onMousedown:e.withModifiers(f=>Et(l),["prevent"])},e.toDisplayString(l),41,_d))),128))])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",Sd,[e.createElementVNode("button",{onClick:t[4]||(t[4]=l=>g.value="datasource"),class:e.normalizeClass(["di-editor-tab",{"di-editor-tab-active":g.value==="datasource"}])},[e.createVNode(e.unref(rt),{style:{width:"14px",height:"14px"}}),t[97]||(t[97]=e.createTextVNode(" データソース ",-1))],2),e.createElementVNode("button",{onClick:t[5]||(t[5]=l=>g.value="action"),class:e.normalizeClass(["di-editor-tab",{"di-editor-tab-active":g.value==="action"}])},[e.createVNode(e.unref(cl),{style:{width:"14px",height:"14px"}}),t[98]||(t[98]=e.createTextVNode(" アクション ",-1))],2),e.createElementVNode("button",{onClick:t[6]||(t[6]=l=>g.value="form"),class:e.normalizeClass(["di-editor-tab",{"di-editor-tab-active":g.value==="form"}])},[e.createVNode(e.unref(Jo),{style:{width:"14px",height:"14px"}}),t[99]||(t[99]=e.createTextVNode(" フォーム ",-1))],2),e.createElementVNode("button",{onClick:t[7]||(t[7]=l=>g.value="chart"),class:e.normalizeClass(["di-editor-tab",{"di-editor-tab-active":g.value==="chart"}])},[e.createVNode(e.unref(Ko),{style:{width:"14px",height:"14px"}}),t[100]||(t[100]=e.createTextVNode(" チャート ",-1))],2)]),e.createElementVNode("div",Td,[g.value==="datasource"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Md,[t[101]||(t[101]=e.createElementVNode("label",{class:"di-form-label"},"表示タイプ",-1)),e.createElementVNode("div",Id,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(d,l=>e.createElementVNode("button",{key:l.value,onClick:f=>M.value=l.value,class:e.normalizeClass(["di-display-type-card",{"di-display-type-active":M.value===l.value}]),style:e.normalizeStyle(M.value===l.value?{borderColor:l.color,background:l.color+"18"}:{})},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(l.icon),{style:e.normalizeStyle([{width:"20px",height:"20px"},{color:M.value===l.value?l.color:"#64748b"}])},null,8,["style"])),e.createElementVNode("span",{class:"di-display-type-label",style:e.normalizeStyle({color:M.value===l.value?l.color:"#94a3b8"})},e.toDisplayString(l.label),5),e.createElementVNode("span",Fd,e.toDisplayString(l.description),1)],14,Ud)),64))])]),M.value==="db_direct"||M.value==="db_formatted"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[fe.value.length>0?(e.openBlock(),e.createElementBlock("div",Ld,[t[102]||(t[102]=e.createElementVNode("label",{class:"di-form-label"},"登録済みカラム",-1)),e.createElementVNode("div",Pd,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(fe.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:"di-field-tag"},[e.createElementVNode("span",Ad,e.toDisplayString(l.table)+"."+e.toDisplayString(l.column),1),l.type?(e.openBlock(),e.createElementBlock("span",zd,e.toDisplayString(l.type),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:r=>Ut(f),class:"di-field-tag-remove"},"×",8,Od)]))),128))])])):e.createCommentVNode("",!0),_t.value?(e.openBlock(),e.createElementBlock("div",jd,[e.createElementVNode("div",qd,[e.createElementVNode("label",Hd,[e.createVNode(e.unref(rt),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[103]||(t[103]=e.createTextVNode(" schema.rb から選択 ",-1))]),e.createElementVNode("div",Rd,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>ot.value=l),onFocus:t[9]||(t[9]=l=>dt.value=!0),type:"text",placeholder:"テーブル.カラムを検索... (例: users, email)",class:"di-input di-binding-search"},null,544),[[e.vModelText,ot.value]]),ot.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:t[10]||(t[10]=l=>{ot.value="",dt.value=!1}),class:"di-binding-clear"},[e.createVNode(e.unref(lt),{style:{width:"14px",height:"14px"}})])):e.createCommentVNode("",!0)]),dt.value&&gt.value.length>0?(e.openBlock(),e.createElementBlock("div",Kd,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(gt.value,l=>(e.openBlock(),e.createElementBlock("button",{key:l.fullName,onClick:f=>It(l),class:"di-binding-item has-db"},[e.createElementVNode("div",Yd,[e.createElementVNode("span",Xd,e.toDisplayString(l.fullName),1),e.createElementVNode("span",Wd,e.toDisplayString(l.type),1)]),l.comment?(e.openBlock(),e.createElementBlock("span",Zd,e.toDisplayString(l.comment),1)):e.createCommentVNode("",!0)],8,Gd))),128))])):dt.value&&ot.value&&gt.value.length===0?(e.openBlock(),e.createElementBlock("div",Jd," 該当するカラムが見つかりません ")):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),_t.value?(e.openBlock(),e.createElementBlock("div",Qd,[...t[104]||(t[104]=[e.createElementVNode("span",null,"または手動入力",-1)])])):e.createCommentVNode("",!0),e.createElementVNode("div",er,[e.createElementVNode("div",tr,[t[105]||(t[105]=e.createElementVNode("label",{class:"di-form-label"},"テーブル名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>W.value=l),onFocus:t[12]||(t[12]=l=>Bt.value=!0),onBlur:t[13]||(t[13]=l=>mo()),type:"text",placeholder:"users",class:"di-input",autocomplete:"off"},null,544),[[e.vModelText,W.value]]),Bt.value&&Ft.value.length>0?(e.openBlock(),e.createElementBlock("div",or,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Ft.value.slice(0,10),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(f=>vo(l),["prevent"]),class:"di-suggest-item"},e.toDisplayString(l),41,lr))),128))])):e.createCommentVNode("",!0)]),e.createElementVNode("div",nr,[t[106]||(t[106]=e.createElementVNode("label",{class:"di-form-label"},"カラム名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>ge.value=l),onFocus:t[15]||(t[15]=l=>Ct.value=!0),onBlur:t[16]||(t[16]=l=>po()),type:"text",placeholder:"name",class:"di-input",autocomplete:"off"},null,544),[[e.vModelText,ge.value]]),Ct.value&&Lt.value.length>0?(e.openBlock(),e.createElementBlock("div",ar,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Lt.value.slice(0,10),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(f=>fo(l),["prevent"]),class:"di-suggest-item"},e.toDisplayString(l),41,ir))),128))])):e.createCommentVNode("",!0)])]),e.createElementVNode("div",sr,[t[108]||(t[108]=e.createElementVNode("label",{class:"di-form-label"},"データ型",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[17]||(t[17]=l=>We.value=l),class:"di-select"},[t[107]||(t[107]=e.createElementVNode("option",{value:""},"選択してください",-1)),(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(co,l=>e.createElementVNode("option",{key:l,value:l},e.toDisplayString(l),9,dr)),64))],512),[[e.vModelSelect,We.value]])]),e.createElementVNode("button",{onClick:uo,class:"di-btn-add-field",disabled:!W.value||!ge.value}," + カラムを追加 ",8,rr),Ae.value?(e.openBlock(),e.createElementBlock("div",cr,[e.createElementVNode("button",{onClick:qt,class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":Pe.value}])},[e.createVNode(e.unref(Jt),{style:{width:"14px",height:"14px"}}),t[109]||(t[109]=e.createTextVNode(" マスタ値を定義 ",-1)),at.value?(e.openBlock(),e.createElementBlock("span",ur,e.toDisplayString(at.value.entries.length)+"件",1)):e.createCommentVNode("",!0)],2),Pe.value?(e.openBlock(),e.createElementBlock("div",mr,[Te.value.length>0?(e.openBlock(),e.createElementBlock("div",pr,[t[110]||(t[110]=e.createElementVNode("div",{class:"di-master-entries-header"},[e.createElementVNode("span",{class:"di-master-col-val"},"値"),e.createElementVNode("span",{class:"di-master-col-lbl"},"ラベル"),e.createElementVNode("span",{class:"di-master-col-color"},"色"),e.createElementVNode("span",{class:"di-master-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Te.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:"di-master-entry-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.value=r,placeholder:"1",class:"di-master-input di-master-col-val"},null,8,vr),[[e.vModelText,l.value]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.label=r,placeholder:"受付",class:"di-master-input di-master-col-lbl"},null,8,fr),[[e.vModelText,l.label]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.color=r,type:"color",class:"di-master-color-input"},null,8,Vr),[[e.vModelText,l.color]]),e.createElementVNode("button",{onClick:r=>Rt(f),class:"di-master-entry-remove"},"×",8,Er)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:Ht,class:"di-btn-add-field",style:{"margin-top":"4px"}}," + 値を追加 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),M.value==="db_formatted"?(e.openBlock(),e.createElementBlock("div",kr,[t[111]||(t[111]=e.createElementVNode("label",{class:"di-form-label"},"整形方法",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[18]||(t[18]=l=>tt.value=l),rows:"2",placeholder:"YYYY年MM月DD日 に整形、姓 + 名 で結合 など",class:"di-textarea"},null,512),[[e.vModelText,tt.value]])])):e.createCommentVNode("",!0),e.createElementVNode("div",hr,[e.createElementVNode("button",{onClick:t[19]||(t[19]=l=>me.value=!me.value),class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":me.value}])},[e.createVNode(e.unref(Yt),{style:{width:"14px",height:"14px"}}),t[112]||(t[112]=e.createTextVNode(" このカラムは計算値を保存している ",-1)),me.value?(e.openBlock(),e.createElementBlock("span",yr,"設定あり")):e.createCommentVNode("",!0)],2)]),me.value?(e.openBlock(),e.createElementBlock("div",gr,[e.createElementVNode("div",br,[t[113]||(t[113]=e.createElementVNode("label",{class:"di-form-label"},"計算ロジック",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[20]||(t[20]=l=>ze.value=l),rows:"2",placeholder:"SUM(order_items.price * quantity)、unit_price × quantity など",class:"di-textarea di-textarea-mono"},null,512),[[e.vModelText,ze.value]])]),e.createElementVNode("div",Nr,[t[114]||(t[114]=e.createElementVNode("label",{class:"di-form-label"},"元データ（テーブル.カラム）",-1)),e.createElementVNode("div",Br,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(J.value,(l,f)=>(e.openBlock(),e.createElementBlock("span",{key:f,class:"di-calc-tag"},[e.createTextVNode(e.toDisplayString(l)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(r=>J.value.splice(f,1),["stop"]),class:"di-calc-tag-remove"},"×",8,Cr)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[21]||(t[21]=l=>$e.value=l),onFocus:t[22]||(t[22]=l=>et.value=!0),onBlur:yo,onKeydown:t[23]||(t[23]=e.withKeys(e.withModifiers(l=>go(),["prevent"]),["enter"])),type:"text",placeholder:"order_items.price",class:"di-calc-tags-field",autocomplete:"off"},null,544),[[e.vModelText,$e.value]])]),et.value&&At.value.length>0?(e.openBlock(),e.createElementBlock("div",xr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(At.value.slice(0,12),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(f=>bo(l),["prevent"]),class:"di-suggest-item"},[e.createVNode(e.unref(rt),{style:{width:"10px",height:"10px",opacity:"0.5","flex-shrink":"0"}}),e.createTextVNode(" "+e.toDisplayString(l),1)],40,wr))),128))])):e.createCommentVNode("",!0),t[115]||(t[115]=e.createElementVNode("span",{class:"di-form-hint"},"Enter で追加、またはドロップダウンから選択",-1))]),e.createElementVNode("div",Dr,[t[117]||(t[117]=e.createElementVNode("label",{class:"di-form-label"},"計算タイミング",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[24]||(t[24]=l=>it.value=l),class:"di-select"},[...t[116]||(t[116]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"on_save"},"保存時（アプリ側で計算）",-1),e.createElementVNode("option",{value:"trigger"},"DBトリガー",-1),e.createElementVNode("option",{value:"batch"},"バッチ（定期実行）",-1),e.createElementVNode("option",{value:"realtime"},"リアルタイム（ビュー/マテビュー）",-1)])],512),[[e.vModelSelect,it.value]])])])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),M.value==="calculated"?(e.openBlock(),e.createElementBlock("div",$r,[t[118]||(t[118]=e.createElementVNode("label",{class:"di-form-label"},"計算ロジック",-1)),e.createElementVNode("div",{class:"di-calc-tags-input",onClick:t[28]||(t[28]=l=>{var f;return(f=u.$refs.calcInputEl)==null?void 0:f.focus()})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ne.value,(l,f)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:f},[l.type==="tag"?(e.openBlock(),e.createElementBlock("span",_r,[e.createTextVNode(e.toDisplayString(l.value)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(r=>Eo(f),["stop"]),class:"di-calc-tag-remove"},"×",8,Sr)])):(e.openBlock(),e.createElementBlock("span",Tr,e.toDisplayString(l.value),1))],64))),128)),e.withDirectives(e.createElementVNode("input",{ref:"calcInputEl","onUpdate:modelValue":t[25]||(t[25]=l=>a.value=l),onFocus:t[26]||(t[26]=l=>be.value=!0),onBlur:t[27]||(t[27]=l=>ho()),onKeydown:ko,type:"text",placeholder:ne.value.length===0?"カラムを選択 or 自由入力 (例: × 2)":"",class:"di-calc-tags-field",autocomplete:"off"},null,40,Mr),[[e.vModelText,a.value]])]),be.value&&Pt.value.length>0?(e.openBlock(),e.createElementBlock("div",Ir,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Pt.value.slice(0,12),l=>(e.openBlock(),e.createElementBlock("button",{key:l,onMousedown:e.withModifiers(f=>Vo(l),["prevent"]),class:"di-suggest-item"},[e.createVNode(e.unref(rt),{style:{width:"10px",height:"10px",opacity:"0.5","flex-shrink":"0"}}),e.createTextVNode(" "+e.toDisplayString(l),1)],40,Ur))),128))])):e.createCommentVNode("",!0),t[119]||(t[119]=e.createElementVNode("span",{class:"di-form-hint"},"DBカラムはドロップダウンから挿入、演算子や数値はそのまま入力",-1))])):e.createCommentVNode("",!0),M.value==="static"||M.value==="other"?(e.openBlock(),e.createElementBlock("div",Fr,[t[120]||(t[120]=e.createElementVNode("label",{class:"di-form-label"},"メモ",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[29]||(t[29]=l=>ae.value=l),rows:"4",placeholder:"この要素についてのメモ...",class:"di-textarea"},null,512),[[e.vModelText,ae.value]])])):e.createCommentVNode("",!0),M.value&&M.value!=="other"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("div",Lr,[e.createElementVNode("button",{onClick:t[30]||(t[30]=l=>Me.value=!Me.value),class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":Me.value||Re.value}])},[e.createVNode(e.unref(oo),{style:{width:"14px",height:"14px"}}),t[121]||(t[121]=e.createTextVNode(" 条件付き表示 ",-1)),Re.value?(e.openBlock(),e.createElementBlock("span",Pr,"設定あり")):e.createCommentVNode("",!0)],2)]),Me.value?(e.openBlock(),e.createElementBlock("div",Ar,[e.createElementVNode("div",zr,[t[122]||(t[122]=e.createElementVNode("label",{class:"di-form-label"},"表示条件",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[31]||(t[31]=l=>Re.value=l),type:"text",placeholder:"管理者ロール時のみ / ステータスがactiveの時",class:"di-input"},null,512),[[e.vModelText,Re.value]])]),e.createElementVNode("div",Or,[t[123]||(t[123]=e.createElementVNode("label",{class:"di-form-label"},"判定カラム",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[32]||(t[32]=l=>N.value=l),type:"text",placeholder:"users.role / orders.status",class:"di-input di-input-mono"},null,512),[[e.vModelText,N.value]])]),e.createElementVNode("div",jr,[e.createElementVNode("div",qr,[t[125]||(t[125]=e.createElementVNode("label",{class:"di-form-label"},"条件不一致時の挙動",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[33]||(t[33]=l=>Q.value=l),class:"di-select"},[...t[124]||(t[124]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"hidden"},"非表示",-1),e.createElementVNode("option",{value:"disabled"},"無効化 (グレーアウト)",-1),e.createElementVNode("option",{value:"different_value"},"別の値を表示",-1),e.createElementVNode("option",{value:"empty"},"空欄",-1)])],512),[[e.vModelSelect,Q.value]])])]),Q.value==="different_value"?(e.openBlock(),e.createElementBlock("div",Hr,[t[126]||(t[126]=e.createElementVNode("label",{class:"di-form-label"},"代わりに表示する値",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[34]||(t[34]=l=>Ne.value=l),type:"text",placeholder:"「権限がありません」/ 「***」",class:"di-input"},null,512),[[e.vModelText,Ne.value]])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),M.value==="db_direct"||M.value==="db_formatted"||M.value==="calculated"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[t[134]||(t[134]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"表示の詳細")],-1)),e.createElementVNode("div",Rr,[e.createElementVNode("div",Kr,[t[127]||(t[127]=e.createElementVNode("label",{class:"di-form-label"},"サンプル値",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[35]||(t[35]=l=>ee.value=l),type:"text",placeholder:"12,500 / 田中太郎",class:"di-input di-input-mono"},null,512),[[e.vModelText,ee.value]])]),e.createElementVNode("div",Gr,[t[128]||(t[128]=e.createElementVNode("label",{class:"di-form-label"},"単位",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[36]||(t[36]=l=>Z.value=l),type:"text",placeholder:"円 / %",class:"di-input"},null,512),[[e.vModelText,Z.value]])])]),e.createElementVNode("div",Yr,[e.createElementVNode("div",Xr,[t[130]||(t[130]=e.createElementVNode("label",{class:"di-form-label"},"小数点の扱い",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[37]||(t[37]=l=>I.value=l),class:"di-select"},[...t[129]||(t[129]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"round"},"四捨五入",-1),e.createElementVNode("option",{value:"floor"},"切り捨て",-1),e.createElementVNode("option",{value:"ceil"},"切り上げ",-1),e.createElementVNode("option",{value:"decimal_1"},"小数第1位まで",-1),e.createElementVNode("option",{value:"decimal_2"},"小数第2位まで",-1),e.createElementVNode("option",{value:"integer"},"整数のみ",-1)])],512),[[e.vModelSelect,I.value]])]),e.createElementVNode("div",Wr,[t[131]||(t[131]=e.createElementVNode("label",{class:"di-form-label"},"NULL/ゼロ時",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[38]||(t[38]=l=>De.value=l),type:"text",placeholder:"- / 0 / 非表示 / N/A",class:"di-input"},null,512),[[e.vModelText,De.value]])])]),e.createElementVNode("div",Zr,[t[132]||(t[132]=e.createElementVNode("label",{class:"di-form-label"},"表示フォーマット",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[39]||(t[39]=l=>Ve.value=l),type:"text",placeholder:"カンマ区切り / ¥記号付き / YYYY/MM/DD",class:"di-input"},null,512),[[e.vModelText,Ve.value]])]),e.createElementVNode("div",Jr,[t[133]||(t[133]=e.createElementVNode("label",{class:"di-form-label"},"補足メモ（任意）",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[40]||(t[40]=l=>ae.value=l),rows:"2",placeholder:"補足情報があれば...",class:"di-textarea"},null,512),[[e.vModelText,ae.value]])])],64)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0),g.value==="action"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",Qr,[t[136]||(t[136]=e.createElementVNode("label",{class:"di-form-label"},"アクションタイプ",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[41]||(t[41]=l=>D.value=l),class:"di-select"},[...t[135]||(t[135]=[e.createElementVNode("option",{value:""},"選択してください",-1),e.createElementVNode("option",{value:"navigate"},"画面遷移",-1),e.createElementVNode("option",{value:"api"},"API呼び出し",-1),e.createElementVNode("option",{value:"modal"},"モーダル表示",-1),e.createElementVNode("option",{value:"emit"},"イベント発火",-1),e.createElementVNode("option",{value:"function"},"関数実行",-1),e.createElementVNode("option",{value:"csv_export"},"CSV出力",-1),e.createElementVNode("option",{value:"csv_import"},"CSV取込",-1),e.createElementVNode("option",{value:"email"},"メール送信",-1),e.createElementVNode("option",{value:"sort"},"ソート",-1)])],512),[[e.vModelSelect,D.value]])]),e.createElementVNode("div",ec,[t[137]||(t[137]=e.createElementVNode("label",{class:"di-form-label"},"ターゲット",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[42]||(t[42]=l=>Y.value=l),type:"text",placeholder:D.value==="navigate"?"/tasks":D.value==="api"?"/api/users":D.value==="modal"?"confirm-dialog":D.value==="csv_export"?"/api/export/users":D.value==="csv_import"?"/api/import/users":"",class:"di-input di-input-mono"},null,8,tc),[[e.vModelText,Y.value]])]),D.value==="api"?(e.openBlock(),e.createElementBlock("div",oc,[t[139]||(t[139]=e.createElementVNode("label",{class:"di-form-label"},"HTTPメソッド",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[43]||(t[43]=l=>O.value=l),class:"di-select"},[...t[138]||(t[138]=[e.createElementVNode("option",{value:""},"選択してください",-1),e.createElementVNode("option",{value:"GET"},"GET",-1),e.createElementVNode("option",{value:"POST"},"POST",-1),e.createElementVNode("option",{value:"PUT"},"PUT",-1),e.createElementVNode("option",{value:"DELETE"},"DELETE",-1),e.createElementVNode("option",{value:"PATCH"},"PATCH",-1)])],512),[[e.vModelSelect,O.value]])])):e.createCommentVNode("",!0),e.createElementVNode("div",lc,[t[140]||(t[140]=e.createElementVNode("label",{class:"di-form-label"},"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[44]||(t[44]=l=>X.value=l),rows:"3",placeholder:"このアクションの説明...",class:"di-textarea"},null,512),[[e.vModelText,X.value]])]),D.value==="csv_export"||D.value==="csv_import"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",nc,[e.createElementVNode("span",null,[e.createVNode(e.unref(lo),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[141]||(t[141]=e.createTextVNode(" CSV仕様",-1))])]),e.createElementVNode("div",ac,[t[148]||(t[148]=e.createElementVNode("label",{class:"di-form-label"},"ファイル設定",-1)),e.createElementVNode("div",ic,[e.createElementVNode("div",sc,[t[143]||(t[143]=e.createElementVNode("label",{class:"di-form-label"},"エンコーディング",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[45]||(t[45]=l=>pe.value=l),class:"di-select"},[...t[142]||(t[142]=[e.createElementVNode("option",{value:"UTF-8"},"UTF-8",-1),e.createElementVNode("option",{value:"Shift_JIS"},"Shift_JIS",-1),e.createElementVNode("option",{value:"EUC-JP"},"EUC-JP",-1),e.createElementVNode("option",{value:"UTF-8 BOM"},"UTF-8 BOM",-1)])],512),[[e.vModelSelect,pe.value]])]),e.createElementVNode("div",dc,[t[145]||(t[145]=e.createElementVNode("label",{class:"di-form-label"},"区切り文字",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[46]||(t[46]=l=>Ee.value=l),class:"di-select"},[...t[144]||(t[144]=[e.createElementVNode("option",{value:","},"カンマ (,)",-1),e.createElementVNode("option",{value:"	"},"タブ",-1),e.createElementVNode("option",{value:"|"},"パイプ (|)",-1)])],512),[[e.vModelSelect,Ee.value]])])]),e.createElementVNode("div",rc,[e.createElementVNode("label",cc,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":t[47]||(t[47]=l=>ke.value=l),class:"di-checkbox"},null,512),[[e.vModelCheckbox,ke.value]]),t[146]||(t[146]=e.createTextVNode(" ヘッダー行あり ",-1))])]),e.createElementVNode("div",uc,[t[147]||(t[147]=e.createElementVNode("label",{class:"di-form-label"},"ファイル名パターン",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[48]||(t[48]=l=>Oe.value=l),type:"text",placeholder:"users_{YYYYMMDD}.csv",class:"di-input di-input-mono"},null,512),[[e.vModelText,Oe.value]])])]),e.createElementVNode("div",mc,[t[151]||(t[151]=e.createElementVNode("label",{class:"di-form-label"},"CSV列定義",-1)),h.value.length>0?(e.openBlock(),e.createElementBlock("div",pc,[t[150]||(t[150]=e.createElementVNode("div",{class:"di-csv-columns-header"},[e.createElementVNode("span",{class:"di-csv-col-no"},"No"),e.createElementVNode("span",{class:"di-csv-col-name"},"項目名"),e.createElementVNode("span",{class:"di-csv-col-db"},"DBマッピング"),e.createElementVNode("span",{class:"di-csv-col-proc"},"加工"),e.createElementVNode("span",{class:"di-csv-col-type"},"型"),e.createElementVNode("span",{class:"di-csv-col-req"},"必須"),e.createElementVNode("span",{class:"di-csv-col-desc"},"説明"),e.createElementVNode("span",{class:"di-csv-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:"di-csv-column-row"},[e.createElementVNode("span",vc,e.toDisplayString(f+1),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.name=r,placeholder:"項目名",class:"di-csv-input di-csv-col-name"},null,8,fc),[[e.vModelText,l.name]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.dbMapping=r,placeholder:"table.col",class:"di-csv-input di-csv-col-db"},null,8,Vc),[[e.vModelText,l.dbMapping]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.processing=r,placeholder:"姓+名, IF...",class:"di-csv-input di-csv-col-proc"},null,8,Ec),[[e.vModelText,l.processing]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":r=>l.type=r,class:"di-csv-select di-csv-col-type"},[...t[149]||(t[149]=[e.createElementVNode("option",{value:""},"-",-1),e.createElementVNode("option",{value:"string"},"string",-1),e.createElementVNode("option",{value:"integer"},"integer",-1),e.createElementVNode("option",{value:"decimal"},"decimal",-1),e.createElementVNode("option",{value:"date"},"date",-1),e.createElementVNode("option",{value:"datetime"},"datetime",-1),e.createElementVNode("option",{value:"boolean"},"boolean",-1)])],8,kc),[[e.vModelSelect,l.type]]),e.createElementVNode("label",hc,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":r=>l.required=r,class:"di-checkbox"},null,8,yc),[[e.vModelCheckbox,l.required]])]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.description=r,placeholder:"備考",class:"di-csv-input di-csv-col-desc"},null,8,gc),[[e.vModelText,l.description]]),e.createElementVNode("div",bc,[e.createElementVNode("button",{onClick:r=>Ot(f,-1),disabled:f===0,class:"di-csv-move-btn",title:"上へ"},[e.createVNode(e.unref(Xt),{style:{width:"12px",height:"12px"}})],8,Nc),e.createElementVNode("button",{onClick:r=>Ot(f,1),disabled:f===h.value.length-1,class:"di-csv-move-btn",title:"下へ"},[e.createVNode(e.unref(Mt),{style:{width:"12px",height:"12px"}})],8,Bc),e.createElementVNode("button",{onClick:r=>$o(f),class:"di-csv-remove-btn",title:"削除"},"×",8,Cc)])]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:Do,class:"di-btn-add-field"}," + 列を追加 ")]),D.value==="csv_export"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[t[155]||(t[155]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"出力オプション")],-1)),e.createElementVNode("div",xc,[t[152]||(t[152]=e.createElementVNode("label",{class:"di-form-label"},"ソート順",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[49]||(t[49]=l=>oe.value=l),type:"text",placeholder:"created_at DESC",class:"di-input di-input-mono"},null,512),[[e.vModelText,oe.value]])]),e.createElementVNode("div",wc,[t[153]||(t[153]=e.createElementVNode("label",{class:"di-form-label"},"抽出条件",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[50]||(t[50]=l=>_e.value=l),type:"text",placeholder:"status = 'active'",class:"di-input di-input-mono"},null,512),[[e.vModelText,_e.value]])]),e.createElementVNode("div",Dc,[t[154]||(t[154]=e.createElementVNode("label",{class:"di-form-label"},"最大行数",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[51]||(t[51]=l=>H.value=l),type:"number",placeholder:"10000",class:"di-input"},null,512),[[e.vModelText,H.value,void 0,{number:!0}]])])],64)):e.createCommentVNode("",!0),D.value==="csv_import"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[t[161]||(t[161]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"取込オプション")],-1)),e.createElementVNode("div",$c,[t[157]||(t[157]=e.createElementVNode("label",{class:"di-form-label"},"エラー処理",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[52]||(t[52]=l=>Ce.value=l),class:"di-select"},[...t[156]||(t[156]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"stop_on_first"},"最初のエラーで停止",-1),e.createElementVNode("option",{value:"skip_and_continue"},"スキップして続行",-1),e.createElementVNode("option",{value:"collect_all"},"全エラー収集",-1)])],512),[[e.vModelSelect,Ce.value]])]),e.createElementVNode("div",_c,[t[159]||(t[159]=e.createElementVNode("label",{class:"di-form-label"},"重複処理",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[53]||(t[53]=l=>b.value=l),class:"di-select"},[...t[158]||(t[158]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"skip"},"スキップ",-1),e.createElementVNode("option",{value:"overwrite"},"上書き",-1),e.createElementVNode("option",{value:"error"},"エラー",-1)])],512),[[e.vModelSelect,b.value]])]),e.createElementVNode("div",Sc,[t[160]||(t[160]=e.createElementVNode("label",{class:"di-form-label"},"事前バリデーション",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[54]||(t[54]=l=>B.value=l),rows:"2",placeholder:"取込前のチェック内容...",class:"di-textarea"},null,512),[[e.vModelText,B.value]])])],64)):e.createCommentVNode("",!0),t[165]||(t[165]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"エラー定義")],-1)),e.createElementVNode("div",Tc,[m.value.length>0?(e.openBlock(),e.createElementBlock("div",Mc,[t[164]||(t[164]=e.createElementVNode("div",{class:"di-csv-columns-header"},[e.createElementVNode("span",{class:"di-csv-err-col"},"対象列"),e.createElementVNode("span",{class:"di-csv-err-cond"},"エラー条件"),e.createElementVNode("span",{class:"di-csv-err-msg"},"エラーメッセージ"),e.createElementVNode("span",{class:"di-csv-err-sev"},"種別"),e.createElementVNode("span",{class:"di-csv-err-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(m.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:"di-csv-column-row"},[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":r=>l.column=r,class:"di-csv-select di-csv-err-col"},[t[162]||(t[162]=e.createElementVNode("option",{value:""},"（全体）",-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Io.value,r=>(e.openBlock(),e.createElementBlock("option",{key:r,value:r},e.toDisplayString(r),9,Uc))),128))],8,Ic),[[e.vModelSelect,l.column]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.condition=r,placeholder:"必須項目が空",class:"di-csv-input di-csv-err-cond"},null,8,Fc),[[e.vModelText,l.condition]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.message=r,placeholder:"○○は必須です",class:"di-csv-input di-csv-err-msg"},null,8,Lc),[[e.vModelText,l.message]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":r=>l.severity=r,class:"di-csv-select di-csv-err-sev"},[...t[163]||(t[163]=[e.createElementVNode("option",{value:"error"},"エラー",-1),e.createElementVNode("option",{value:"warning"},"警告",-1)])],8,Pc),[[e.vModelSelect,l.severity]]),e.createElementVNode("button",{onClick:r=>Mo(f),class:"di-csv-remove-btn",title:"削除"},"×",8,Ac)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:To,class:"di-btn-add-field"}," + エラー定義を追加 ")])],64)):e.createCommentVNode("",!0),D.value==="email"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("div",zc,[e.createElementVNode("span",null,[e.createVNode(e.unref(ol),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[166]||(t[166]=e.createTextVNode(" メール基本設定",-1))])]),e.createElementVNode("div",Oc,[e.createElementVNode("div",jc,[t[167]||(t[167]=e.createElementVNode("label",{class:"di-form-label"},"トリガー *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[55]||(t[55]=l=>w.value=l),type:"text",placeholder:"注文確定時、ボタンクリック",class:"di-input"},null,512),[[e.vModelText,w.value]])]),e.createElementVNode("div",qc,[t[168]||(t[168]=e.createElementVNode("label",{class:"di-form-label"},"宛先 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[56]||(t[56]=l=>_.value=l),type:"text",placeholder:"ユーザーメール、管理者固定",class:"di-input"},null,512),[[e.vModelText,_.value]])])]),e.createElementVNode("div",Hc,[e.createElementVNode("div",Rc,[t[169]||(t[169]=e.createElementVNode("label",{class:"di-form-label"},"CC",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[57]||(t[57]=l=>R.value=l),type:"text",placeholder:"CC宛先",class:"di-input"},null,512),[[e.vModelText,R.value]])]),e.createElementVNode("div",Kc,[t[170]||(t[170]=e.createElementVNode("label",{class:"di-form-label"},"BCC",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[58]||(t[58]=l=>S.value=l),type:"text",placeholder:"BCC宛先",class:"di-input"},null,512),[[e.vModelText,S.value]])])]),e.createElementVNode("div",Gc,[t[171]||(t[171]=e.createElementVNode("label",{class:"di-form-label"},"件名テンプレート *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[59]||(t[59]=l=>z.value=l),type:"text",placeholder:"【注文確認】ご注文番号 {orderNumber}",class:"di-input"},null,512),[[e.vModelText,z.value]])]),e.createElementVNode("div",Yc,[t[172]||(t[172]=e.createElementVNode("label",{class:"di-form-label"},"本文テンプレート概要",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[60]||(t[60]=l=>C.value=l),rows:"3",placeholder:"本文の概要を記述...",class:"di-textarea"},null,512),[[e.vModelText,C.value]])]),e.createElementVNode("div",Xc,[t[173]||(t[173]=e.createElementVNode("label",{class:"di-form-label"},"テンプレートファイルパス",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[61]||(t[61]=l=>E.value=l),type:"text",placeholder:"resources/mail/order_confirm.blade.php",class:"di-input di-input-mono"},null,512),[[e.vModelText,E.value]])]),t[178]||(t[178]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"差し込み変数")],-1)),e.createElementVNode("div",Wc,[e.createElementVNode("div",Zc,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,(l,f)=>(e.openBlock(),e.createElementBlock("span",{key:f,class:"di-calc-tag"},[e.createTextVNode(e.toDisplayString(l)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(r=>Po(f),["stop"]),class:"di-calc-tag-remove"},"×",8,Jc)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[62]||(t[62]=l=>ue.value=l),onKeydown:[t[63]||(t[63]=e.withKeys(e.withModifiers(l=>Lo(),["prevent"]),["enter"])),Ao],type:"text",placeholder:"変数名を入力してEnter (例: userName)",class:"di-calc-tags-field",autocomplete:"off"},null,544),[[e.vModelText,ue.value]])]),t[174]||(t[174]=e.createElementVNode("span",{class:"di-form-hint"},"Enter で追加",-1))]),t[179]||(t[179]=e.createElementVNode("div",{class:"di-form-divider"},[e.createElementVNode("span",null,"オプション")],-1)),e.createElementVNode("div",Qc,[t[175]||(t[175]=e.createElementVNode("label",{class:"di-form-label"},"添付ファイル",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[64]||(t[64]=l=>L.value=l),type:"text",placeholder:"添付ファイルの説明",class:"di-input"},null,512),[[e.vModelText,L.value]])]),e.createElementVNode("div",eu,[t[176]||(t[176]=e.createElementVNode("label",{class:"di-form-label"},"送信条件",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[65]||(t[65]=l=>Ie.value=l),type:"text",placeholder:"メール送信設定がONの場合",class:"di-input"},null,512),[[e.vModelText,Ie.value]])]),e.createElementVNode("div",tu,[t[177]||(t[177]=e.createElementVNode("label",{class:"di-form-label"},"エラー処理",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[66]||(t[66]=l=>le.value=l),type:"text",placeholder:"キューに入れてリトライ",class:"di-input"},null,512),[[e.vModelText,le.value]])])],64)):e.createCommentVNode("",!0),D.value==="sort"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("div",ou,[e.createElementVNode("span",null,[e.createVNode(e.unref(Ro),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[180]||(t[180]=e.createTextVNode(" ソート設定",-1))])]),e.createElementVNode("div",lu,[e.createElementVNode("label",nu,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":t[67]||(t[67]=l=>Ue.value=l),class:"di-checkbox"},null,512),[[e.vModelCheckbox,Ue.value]]),t[181]||(t[181]=e.createTextVNode(" このカラムはソート可能 ",-1))])]),Ue.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",au,[e.createElementVNode("div",iu,[t[183]||(t[183]=e.createElementVNode("label",{class:"di-form-label"},"データ型",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[68]||(t[68]=l=>je.value=l),class:"di-select"},[...t[182]||(t[182]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"string"},"文字列",-1),e.createElementVNode("option",{value:"number"},"数値",-1),e.createElementVNode("option",{value:"date"},"日付",-1),e.createElementVNode("option",{value:"custom"},"カスタム",-1)])],512),[[e.vModelSelect,je.value]])]),e.createElementVNode("div",su,[t[185]||(t[185]=e.createElementVNode("label",{class:"di-form-label"},"デフォルト方向",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[69]||(t[69]=l=>xe.value=l),class:"di-select"},[...t[184]||(t[184]=[e.createElementVNode("option",{value:""},"未指定",-1),e.createElementVNode("option",{value:"asc"},"昇順 (A→Z, 1→9)",-1),e.createElementVNode("option",{value:"desc"},"降順 (Z→A, 9→1)",-1)])],512),[[e.vModelSelect,xe.value]])])]),e.createElementVNode("div",du,[t[186]||(t[186]=e.createElementVNode("label",{class:"di-form-label"},"ソートキー (DBカラム/APIフィールド)",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[70]||(t[70]=l=>Se.value=l),type:"text",placeholder:"users.name / created_at",class:"di-input di-input-mono"},null,512),[[e.vModelText,Se.value]])]),e.createElementVNode("div",ru,[e.createElementVNode("label",cu,[e.withDirectives(e.createElementVNode("input",{type:"checkbox","onUpdate:modelValue":t[71]||(t[71]=l=>P.value=l),class:"di-checkbox"},null,512),[[e.vModelCheckbox,P.value]]),t[187]||(t[187]=e.createTextVNode(" 初期表示時のデフォルトソート ",-1))])])],64)):e.createCommentVNode("",!0),e.createElementVNode("div",uu,[t[188]||(t[188]=e.createElementVNode("label",{class:"di-form-label"},"未ソート時の並び順",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[72]||(t[72]=l=>he.value=l),type:"text",placeholder:"ID昇順 / 登録日降順 / APIレスポンス順",class:"di-input"},null,512),[[e.vModelText,he.value]])]),e.createElementVNode("div",mu,[t[189]||(t[189]=e.createElementVNode("label",{class:"di-form-label"},"補足",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[73]||(t[73]=l=>Ke.value=l),type:"text",placeholder:"サーバーサイドソート / ページネーション時はリセット",class:"di-input"},null,512),[[e.vModelText,Ke.value]])])],64)):e.createCommentVNode("",!0),e.createElementVNode("div",pu,[t[190]||(t[190]=e.createElementVNode("label",{class:"di-form-label"},"補足メモ（任意）",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[74]||(t[74]=l=>ae.value=l),rows:"2",placeholder:"補足情報があれば...",class:"di-textarea"},null,512),[[e.vModelText,ae.value]])])],64)):e.createCommentVNode("",!0),g.value==="form"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[e.createElementVNode("div",vu,[t[192]||(t[192]=e.createElementVNode("label",{class:"di-form-label"},"入力タイプ",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[75]||(t[75]=l=>se.value=l),class:"di-select"},[...t[191]||(t[191]=[e.createElementVNode("option",{value:""},"選択してください",-1),e.createElementVNode("option",{value:"text"},"テキスト (text)",-1),e.createElementVNode("option",{value:"number"},"数値 (number)",-1),e.createElementVNode("option",{value:"email"},"メール (email)",-1),e.createElementVNode("option",{value:"password"},"パスワード (password)",-1),e.createElementVNode("option",{value:"tel"},"電話番号 (tel)",-1),e.createElementVNode("option",{value:"url"},"URL (url)",-1),e.createElementVNode("option",{value:"date"},"日付 (date)",-1),e.createElementVNode("option",{value:"datetime-local"},"日時 (datetime-local)",-1),e.createElementVNode("option",{value:"select"},"セレクト (select)",-1),e.createElementVNode("option",{value:"textarea"},"テキストエリア (textarea)",-1),e.createElementVNode("option",{value:"checkbox"},"チェックボックス (checkbox)",-1),e.createElementVNode("option",{value:"radio"},"ラジオボタン (radio)",-1),e.createElementVNode("option",{value:"file"},"ファイル (file)",-1)])],512),[[e.vModelSelect,se.value]])]),fe.value.length>0?(e.openBlock(),e.createElementBlock("div",fu,[t[193]||(t[193]=e.createElementVNode("label",{class:"di-form-label"},"対応カラム",-1)),e.createElementVNode("div",Vu,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(fe.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:"di-field-tag"},[e.createElementVNode("span",Eu,e.toDisplayString(l.table)+"."+e.toDisplayString(l.column),1),l.type?(e.openBlock(),e.createElementBlock("span",ku,e.toDisplayString(l.type),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:r=>Ut(f),class:"di-field-tag-remove"},"×",8,hu)]))),128))])])):e.createCommentVNode("",!0),_t.value?(e.openBlock(),e.createElementBlock("div",yu,[e.createElementVNode("div",gu,[e.createElementVNode("label",bu,[e.createVNode(e.unref(rt),{style:{width:"12px",height:"12px",display:"inline","vertical-align":"middle"}}),t[194]||(t[194]=e.createTextVNode(" 対応するDBカラム ",-1))]),e.createElementVNode("div",Nu,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[76]||(t[76]=l=>ot.value=l),onFocus:t[77]||(t[77]=l=>dt.value=!0),type:"text",placeholder:"テーブル.カラムを検索...",class:"di-input di-binding-search"},null,544),[[e.vModelText,ot.value]]),ot.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:t[78]||(t[78]=l=>{ot.value="",dt.value=!1}),class:"di-binding-clear"},[e.createVNode(e.unref(lt),{style:{width:"14px",height:"14px"}})])):e.createCommentVNode("",!0)]),dt.value&&gt.value.length>0?(e.openBlock(),e.createElementBlock("div",Bu,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(gt.value,l=>(e.openBlock(),e.createElementBlock("button",{key:l.fullName,onClick:f=>It(l),class:"di-binding-item has-db"},[e.createElementVNode("div",xu,[e.createElementVNode("span",wu,e.toDisplayString(l.fullName),1),e.createElementVNode("span",Du,e.toDisplayString(l.type),1)]),l.comment?(e.openBlock(),e.createElementBlock("span",$u,e.toDisplayString(l.comment),1)):e.createCommentVNode("",!0)],8,Cu))),128))])):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),Ae.value&&(se.value==="select"||se.value==="radio"||se.value==="checkbox")?(e.openBlock(),e.createElementBlock("div",_u,[e.createElementVNode("button",{onClick:qt,class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":Pe.value}])},[e.createVNode(e.unref(Jt),{style:{width:"14px",height:"14px"}}),t[195]||(t[195]=e.createTextVNode(" 選択肢を定義 ",-1)),at.value?(e.openBlock(),e.createElementBlock("span",Su,e.toDisplayString(at.value.entries.length)+"件",1)):e.createCommentVNode("",!0)],2),Pe.value?(e.openBlock(),e.createElementBlock("div",Tu,[Te.value.length>0?(e.openBlock(),e.createElementBlock("div",Mu,[t[196]||(t[196]=e.createElementVNode("div",{class:"di-master-entries-header"},[e.createElementVNode("span",{class:"di-master-col-val"},"値"),e.createElementVNode("span",{class:"di-master-col-lbl"},"ラベル"),e.createElementVNode("span",{class:"di-master-col-color"},"色"),e.createElementVNode("span",{class:"di-master-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Te.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:"di-master-entry-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.value=r,placeholder:"1",class:"di-master-input di-master-col-val"},null,8,Iu),[[e.vModelText,l.value]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.label=r,placeholder:"受付",class:"di-master-input di-master-col-lbl"},null,8,Uu),[[e.vModelText,l.label]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.color=r,type:"color",class:"di-master-color-input"},null,8,Fu),[[e.vModelText,l.color]]),e.createElementVNode("button",{onClick:r=>Rt(f),class:"di-master-entry-remove"},"×",8,Lu)]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:Ht,class:"di-btn-add-field",style:{"margin-top":"4px"}}," + 値を追加 ")])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",Pu,[e.createElementVNode("button",{onClick:t[79]||(t[79]=l=>F.value=!F.value),class:e.normalizeClass(["di-btn-condition-toggle",{"di-condition-active":F.value}])},[e.createVNode(e.unref(oo),{style:{width:"14px",height:"14px"}}),t[197]||(t[197]=e.createTextVNode(" 必須入力 ",-1)),F.value?(e.openBlock(),e.createElementBlock("span",Au,"必須")):e.createCommentVNode("",!0)],2)]),e.createElementVNode("div",zu,[t[198]||(t[198]=e.createElementVNode("label",{class:"di-form-label"},"バリデーションルール",-1)),e.createElementVNode("div",Ou,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(de.value,(l,f)=>(e.openBlock(),e.createElementBlock("span",{key:f,class:"di-calc-tag",style:{background:"#ec4899"}},[e.createTextVNode(e.toDisplayString(l)+" ",1),e.createElementVNode("button",{onClick:e.withModifiers(r=>xo(f),["stop"]),class:"di-calc-tag-remove"},"×",8,ju)]))),128)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[80]||(t[80]=l=>j.value=l),onKeydown:[t[81]||(t[81]=e.withKeys(e.withModifiers(l=>Co(),["prevent"]),["enter"])),wo],type:"text",placeholder:de.value.length===0?"max:255, email, 必須 など (Enter で追加)":"",class:"di-calc-tags-field",autocomplete:"off"},null,40,qu),[[e.vModelText,j.value]])]),t[199]||(t[199]=e.createElementVNode("span",{class:"di-form-hint"},"Enter で追加、Backspace で削除",-1))]),e.createElementVNode("div",Hu,[t[200]||(t[200]=e.createElementVNode("label",{class:"di-form-label"},"プレースホルダー",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[82]||(t[82]=l=>re.value=l),type:"text",placeholder:"例: user@example.com",class:"di-input"},null,512),[[e.vModelText,re.value]])]),e.createElementVNode("div",Ru,[t[201]||(t[201]=e.createElementVNode("label",{class:"di-form-label"},"デフォルト値",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[83]||(t[83]=l=>ce.value=l),type:"text",placeholder:"初期値",class:"di-input di-input-mono"},null,512),[[e.vModelText,ce.value]])]),e.createElementVNode("div",Ku,[t[202]||(t[202]=e.createElementVNode("label",{class:"di-form-label"},"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[84]||(t[84]=l=>te.value=l),rows:"3",placeholder:"このフォーム要素の説明...",class:"di-textarea"},null,512),[[e.vModelText,te.value]])]),e.createElementVNode("div",Gu,[t[203]||(t[203]=e.createElementVNode("label",{class:"di-form-label"},"補足メモ（任意）",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[85]||(t[85]=l=>ae.value=l),rows:"2",placeholder:"補足情報があれば...",class:"di-textarea"},null,512),[[e.vModelText,ae.value]])])],64)):e.createCommentVNode("",!0),g.value==="chart"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:3},[e.createElementVNode("div",Yu,[t[205]||(t[205]=e.createElementVNode("label",{class:"di-form-label"},"チャート種別",-1)),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[86]||(t[86]=l=>Fe.value=l),class:"di-select"},[...t[204]||(t[204]=[e.createElementVNode("option",{value:""},"選択してください",-1),e.createElementVNode("option",{value:"bar"},"棒グラフ (bar)",-1),e.createElementVNode("option",{value:"line"},"折れ線グラフ (line)",-1),e.createElementVNode("option",{value:"pie"},"円グラフ (pie)",-1),e.createElementVNode("option",{value:"area"},"エリアチャート (area)",-1),e.createElementVNode("option",{value:"scatter"},"散布図 (scatter)",-1),e.createElementVNode("option",{value:"doughnut"},"ドーナツ (doughnut)",-1),e.createElementVNode("option",{value:"radar"},"レーダー (radar)",-1),e.createElementVNode("option",{value:"other"},"その他 (other)",-1)])],512),[[e.vModelSelect,Fe.value]])]),e.createElementVNode("div",Xu,[t[206]||(t[206]=e.createElementVNode("label",{class:"di-form-label"},"タイトル",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[87]||(t[87]=l=>Ge.value=l),type:"text",placeholder:"例: 月別受講者数",class:"di-input"},null,512),[[e.vModelText,Ge.value]])]),e.createElementVNode("div",Wu,[e.createElementVNode("div",Zu,[t[207]||(t[207]=e.createElementVNode("label",{class:"di-form-label"},"X軸",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[88]||(t[88]=l=>Ye.value=l),type:"text",placeholder:"例: 月, 日付",class:"di-input"},null,512),[[e.vModelText,Ye.value]])]),e.createElementVNode("div",Ju,[t[208]||(t[208]=e.createElementVNode("label",{class:"di-form-label"},"Y軸",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[89]||(t[89]=l=>Xe.value=l),type:"text",placeholder:"例: 件数, 金額",class:"di-input"},null,512),[[e.vModelText,Xe.value]])])]),e.createElementVNode("div",Qu,[t[210]||(t[210]=e.createElementVNode("label",{class:"di-form-label"},"系列定義",-1)),ie.value.length>0?(e.openBlock(),e.createElementBlock("div",em,[t[209]||(t[209]=e.createElementVNode("div",{class:"di-csv-columns-header"},[e.createElementVNode("span",{class:"di-chart-col-label"},"系列名"),e.createElementVNode("span",{class:"di-chart-col-field"},"フィールド"),e.createElementVNode("span",{class:"di-chart-col-color"},"色"),e.createElementVNode("span",{class:"di-csv-col-act"})],-1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ie.value,(l,f)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:"di-csv-column-row"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.label=r,placeholder:"予習",class:"di-csv-input di-chart-col-label"},null,8,tm),[[e.vModelText,l.label]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.field=r,placeholder:"preview_count",class:"di-csv-input di-chart-col-field"},null,8,om),[[e.vModelText,l.field]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r=>l.color=r,type:"color",class:"di-master-color-input"},null,8,lm),[[e.vModelText,l.color]]),e.createElementVNode("div",nm,[e.createElementVNode("button",{onClick:r=>jt(f,-1),disabled:f===0,class:"di-csv-move-btn",title:"上へ"},[e.createVNode(e.unref(Xt),{style:{width:"12px",height:"12px"}})],8,am),e.createElementVNode("button",{onClick:r=>jt(f,1),disabled:f===ie.value.length-1,class:"di-csv-move-btn",title:"下へ"},[e.createVNode(e.unref(Mt),{style:{width:"12px",height:"12px"}})],8,im),e.createElementVNode("button",{onClick:r=>So(f),class:"di-csv-remove-btn",title:"削除"},"×",8,sm)])]))),128))])):e.createCommentVNode("",!0),e.createElementVNode("button",{onClick:_o,class:"di-btn-add-field"}," + 系列を追加 ")]),e.createElementVNode("div",dm,[t[211]||(t[211]=e.createElementVNode("label",{class:"di-form-label"},"データ取得元",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[90]||(t[90]=l=>ye.value=l),type:"text",placeholder:"例: GET /api/stats/monthly",class:"di-input di-input-mono"},null,512),[[e.vModelText,ye.value]])]),e.createElementVNode("div",rm,[t[212]||(t[212]=e.createElementVNode("label",{class:"di-form-label"},"集計方法",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[91]||(t[91]=l=>ve.value=l),type:"text",placeholder:"例: 月別集計, GROUP BY month",class:"di-input"},null,512),[[e.vModelText,ve.value]])]),e.createElementVNode("div",cm,[t[213]||(t[213]=e.createElementVNode("label",{class:"di-form-label"},"フィルタ条件",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":t[92]||(t[92]=l=>we.value=l),type:"text",placeholder:"例: 直近12ヶ月, status=active",class:"di-input"},null,512),[[e.vModelText,we.value]])]),e.createElementVNode("div",um,[t[214]||(t[214]=e.createElementVNode("label",{class:"di-form-label"},"説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":t[93]||(t[93]=l=>qe.value=l),rows:"3",placeholder:"このチャートの説明...",class:"di-textarea"},null,512),[[e.vModelText,qe.value]])])],64)):e.createCommentVNode("",!0)]),e.createElementVNode("div",mm,[e.createElementVNode("button",{onClick:st,class:"di-btn-delete"},[e.createVNode(e.unref(bt),{style:{width:"14px",height:"14px"}}),t[215]||(t[215]=e.createTextVNode(" 削除 ",-1))]),e.createElementVNode("div",pm,[e.createElementVNode("button",{onClick:V,class:"di-btn-cancel"},"キャンセル"),e.createElementVNode("button",{onClick:q,class:"di-btn-save"},[e.createVNode(e.unref(no),{style:{width:"14px",height:"14px"}}),t[216]||(t[216]=e.createTextVNode(" 保存 ",-1))])])])],2)])):e.createCommentVNode("",!0)],8,["to"]))}}),io=$t(vm,[["__scopeId","data-v-9d5a69a4"]]),fm={key:0,"data-dev-inspector":"",class:"di-loading-overlay"},Vm={class:"di-highlight-label"},Em=["onClick"],km={key:0,class:"di-note-label-row"},hm=["onClick"],ym={"data-dev-inspector":"",class:"di-scan-banner"},gm=["onClick"],bm={class:"di-analysis-type"},Nm={key:0,class:"di-analysis-tags"},Bm={key:1,class:"di-analysis-db"},Cm={key:2,class:"di-analysis-api-source"},xm={key:3,class:"di-analysis-conditional"},wm=["onClick"],Dm={key:0,class:"di-analysis-text"},$m={"data-dev-inspector":"",class:"di-analysis-banner"},_m=["onClick"],Sm={key:0,class:"di-unannotated-label-text"},Tm=e.defineComponent({__name:"DevPickOverlay",setup(A){const p=Nt.useDevInspectorStore(),s=e.inject("teleportTarget","body"),g=e.ref(null),D=e.ref(null),Y=e.ref(0),O=e.ref(0),X=e.ref(0),se={db_direct:"#3b82f6",db_formatted:"#8b5cf6",calculated:"#f59e0b",static:"#10b981",other:"#94a3b8"},F={action:"#a78bfa",form:"#ec4899"};function de(b){return{db:"DB",form:"フォーム",button:"ボタン",link:"リンク",modal:"モーダル",conditional:"条件",computed:"計算",api:"API",other:"その他"}[b]||b}function j(b){var m,w;const B=p.getElementConfig(b);if(B!=null&&B.elementType&&F[B.elementType])return F[B.elementType];if((m=B==null?void 0:B.note)!=null&&m.displayType)return se[B.note.displayType]||"#60a5fa";if(!(B!=null&&B.sourceBinding)){const _=((w=B==null?void 0:B.note)==null?void 0:w.type)||"info";return{info:"#60a5fa",warning:"#fbbf24",todo:"#10b981",question:"#a78bfa"}[_]||"#60a5fa"}return B.sourceBinding.isStatic?"#10b981":B.sourceBinding.type==="v-model"?"#8b5cf6":B.sourceBinding.type==="api"?"#f59e0b":"#60a5fa"}function re(b){var S,z,C,E,y;const B=p.noteHighlightFilter;if(B==="all")return!0;const m=p.getElementConfig(b);if(!m)return!1;const w=(S=m.note)==null?void 0:S.displayType,_=!!((z=m.note)!=null&&z.condition||(C=m.note)!=null&&C.conditionColumn),R=!!((E=m.note)!=null&&E.storedCalc);switch(B){case"db":return w==="db_direct"||w==="db_formatted";case"calculated":return w==="calculated";case"storedCalc":return R;case"static":return w==="static";case"conditional":return _;case"action":return m.elementType==="action";case"form":return m.elementType==="form";case"other":return w==="other"||!w&&!m.elementType&&!!((y=m.note)!=null&&y.text);default:return!0}}function ce(){var _,R;const b=document.querySelector("dialog[open]");if(b)return b;const B=document.querySelectorAll('[role="dialog"], [role="alertdialog"]');for(const S of B){const z=S.getBoundingClientRect();if(z.width>0&&z.height>0)return S}const m='.v-overlay--active .v-overlay__content, .el-dialog__wrapper:not([style*="display: none"]) .el-dialog, .modal.show .modal-dialog, .modal-overlay[style*="display: block"], .v-dialog--active';try{const S=document.querySelector(m);if(S){const z=S.getBoundingClientRect();if(z.width>0&&z.height>0)return S}}catch{}const w=document.querySelectorAll(".fixed.inset-0, .fixed.inset-x-0.inset-y-0, [data-modal], [data-overlay]");for(const S of w){if(((_=S.dataset)==null?void 0:_.devInspector)!==void 0)continue;const z=getComputedStyle(S),C=parseInt(z.zIndex,10);if(isNaN(C)||C<40)continue;const E=S.getBoundingClientRect();if(E.width>=window.innerWidth*.9&&E.height>=window.innerHeight*.9)return S}for(const S of document.body.children){if(((R=S.dataset)==null?void 0:R.devInspector)!==void 0)continue;const z=getComputedStyle(S);if(z.position!=="fixed")continue;const C=parseInt(z.zIndex,10);if(isNaN(C)||C<40)continue;const E=S.getBoundingClientRect();if(E.width>=window.innerWidth*.9&&E.height>=window.innerHeight*.9)return S}return null}function te(b,B){return B.contains(b)}const h=e.computed(()=>{var R,S,z,C,E,y,ue,L,Ie,le,Ue,je,Se,xe,P,he,Ke,Fe,Ge,Ye,Xe,ie,ye,ve,we,qe,T,Le,Je,He,ct,nt,ut,mt,Vt,Et,kt,ht,Pe,Te,Ae,at,M,fe,W,ge,We;const b=Y.value,B=O.value;X.value;const m=[];if(!p.isEnabled)return m;const w=ce(),_=p.getConfiguredSelectors();for(const Ze of _)try{const tt=document.querySelector(Ze);if(tt){if(w&&!te(tt,w))continue;const ne=tt.getBoundingClientRect(),a=p.getElementConfig(Ze),be=((R=a==null?void 0:a.sourceBinding)==null?void 0:R.isStatic)||!1,ee=((S=a==null?void 0:a.sourceBinding)==null?void 0:S.type)||"";let I="",Z="";const De=(z=a==null?void 0:a.note)==null?void 0:z.displayType,Ve=[];if((C=a==null?void 0:a.note)!=null&&C.sampleValue?Ve.push(`例: ${a.note.sampleValue}${a.note.unit?a.note.unit:""}`):(E=a==null?void 0:a.note)!=null&&E.unit&&Ve.push(`単位: ${a.note.unit}`),(y=a==null?void 0:a.note)!=null&&y.decimalHandling){const N={round:"四捨五入",floor:"切り捨て",ceil:"切り上げ",decimal_1:"小数第1位",decimal_2:"小数第2位",integer:"整数"};Ve.push(N[a.note.decimalHandling]||a.note.decimalHandling)}(ue=a==null?void 0:a.note)!=null&&ue.nullDisplay&&Ve.push(`NULL時: ${a.note.nullDisplay}`),(L=a==null?void 0:a.note)!=null&&L.displayFormat&&Ve.push(a.note.displayFormat);const me=Ve.length>0?`
${Ve.join(" / ")}`:"",ze=!!((Ie=a==null?void 0:a.note)!=null&&Ie.condition||(le=a==null?void 0:a.note)!=null&&le.conditionColumn);let J="";if(ze){const N={hidden:"非表示",disabled:"無効化",different_value:"別の値",empty:"空欄"},Q=[];(Ue=a==null?void 0:a.note)!=null&&Ue.condition&&Q.push(a.note.condition),(je=a==null?void 0:a.note)!=null&&je.conditionColumn&&Q.push(`判定: ${a.note.conditionColumn}`),(Se=a==null?void 0:a.note)!=null&&Se.hiddenBehavior&&Q.push(`不一致時: ${N[a.note.hiddenBehavior]||a.note.hiddenBehavior}`),(xe=a==null?void 0:a.note)!=null&&xe.hiddenNote&&Q.push(`→ ${a.note.hiddenNote}`),J=`
条件: ${Q.join(" / ")}`}const $e=ze?" ⚡":"";if((a==null?void 0:a.elementType)==="action"&&(a!=null&&a.actionInfo)){const N=a.actionInfo;N.type==="navigate"?I=`遷移: ${N.target||"?"}`:N.type==="api"?I=`API: ${N.method||"GET"} ${N.target||"?"}`:N.type==="modal"?I=`モーダル: ${N.target||"?"}`:N.type==="emit"?I=`イベント: ${N.target||"?"}`:N.type==="function"?I=`関数: ${N.target||"?"}`:I="アクション",Z=(N.description||I)+((P=a==null?void 0:a.note)!=null&&P.text?`
${a.note.text}`:"")}else if((a==null?void 0:a.elementType)==="form"&&(a!=null&&a.formInfo)){const N=a.formInfo,Q=(he=a==null?void 0:a.fieldInfoList)!=null&&he.length?a.fieldInfoList:a!=null&&a.fieldInfo?[a.fieldInfo]:[],Ne=Q.length>0?Q.map(Qe=>`${Qe.table}.${Qe.column}`).join(", "):"",Me=Q.length>0?`${Q[0].table}.${Q[0].column}`:"",ae=Me?p.getMasterDefinition(Me):null;N.inputType==="select"?I=`選択: ${Ne||N.description||"?"}${ae?` (${ae.entries.length}件)`:""}`:N.inputType==="textarea"?I=`テキスト: ${Ne||N.description||"?"}`:N.inputType==="checkbox"?I=`チェック: ${Ne||N.description||"?"}`:N.inputType==="radio"?I=`ラジオ: ${Ne||N.description||"?"}`:I=`入力: ${Ne||N.description||N.inputType||"?"}`,N.required&&(I+=" (必須)");const K=[];N.description&&K.push(N.description),(Ke=N.validation)!=null&&Ke.length&&K.push(`検証: ${N.validation.join(", ")}`),N.placeholder&&K.push(`placeholder: ${N.placeholder}`),N.defaultValue&&K.push(`初期値: ${N.defaultValue}`),Z=K.join(`
`)+((Fe=a==null?void 0:a.note)!=null&&Fe.text?`
${a.note.text}`:"")}else if((a==null?void 0:a.elementType)==="action")I="アクション",Z=((Ge=a==null?void 0:a.note)==null?void 0:Ge.text)||"";else if((a==null?void 0:a.elementType)==="form")I="フォーム",Z=((Ye=a==null?void 0:a.note)==null?void 0:Ye.text)||"";else if(De==="db_direct"){const N=(Xe=a==null?void 0:a.fieldInfoList)!=null&&Xe.length?a.fieldInfoList:a!=null&&a.fieldInfo?[a.fieldInfo]:[];if(N.length>0){const Q=N.map(K=>`${K.table}.${K.column}`).join(", "),Ne=`${N[0].table}.${N[0].column}`,Me=p.getMasterDefinition(Ne),ae=Me?` (${Me.entries.length}値)`:"";I=`DB: ${Q}${ae}${$e}`,Z=N.map(K=>`${K.table}.${K.column}${K.type?` (${K.type})`:""}`).join(`
`)+me+J+((ie=a==null?void 0:a.note)!=null&&ie.text?`
${a.note.text}`:"")}}else if(De==="db_formatted"){const N=(ye=a==null?void 0:a.fieldInfoList)!=null&&ye.length?a.fieldInfoList:a!=null&&a.fieldInfo?[a.fieldInfo]:[];if(N.length>0){const Q=N.map(K=>`${K.table}.${K.column}`).join(", "),Ne=`${N[0].table}.${N[0].column}`,Me=p.getMasterDefinition(Ne),ae=Me?` (${Me.entries.length}値)`:"";I=`DB: ${Q} (整形)${ae}${$e}`,Z=N.map(K=>`${K.table}.${K.column}`).join(`
`)+((ve=a==null?void 0:a.note)!=null&&ve.formatDescription?`
整形: ${a.note.formatDescription}`:"")+me+J+((we=a==null?void 0:a.note)!=null&&we.text?`
${a.note.text}`:"")}}else De==="calculated"?(I="計算値"+((qe=a==null?void 0:a.note)!=null&&qe.unit?` (${a.note.unit})`:"")+$e,Z=(((T=a==null?void 0:a.note)==null?void 0:T.calcDescription)||"計算値")+((Je=(Le=a==null?void 0:a.note)==null?void 0:Le.calcSources)!=null&&Je.length?`
参照: ${a.note.calcSources.join(", ")}`:"")+me+J+((He=a==null?void 0:a.note)!=null&&He.text?`
${a.note.text}`:"")):De==="static"?(I="固定"+$e,Z=(((ct=a==null?void 0:a.note)==null?void 0:ct.text)||"固定文言")+J):De==="other"?(I="メモ",Z=((nt=a==null?void 0:a.note)==null?void 0:nt.text)||""):(ut=a==null?void 0:a.fieldInfoList)!=null&&ut.length||(mt=a==null?void 0:a.fieldInfo)!=null&&mt.table&&((Vt=a==null?void 0:a.fieldInfo)!=null&&Vt.column)?(I=`DB: ${((Et=a==null?void 0:a.fieldInfoList)!=null&&Et.length?a.fieldInfoList:a!=null&&a.fieldInfo?[a.fieldInfo]:[]).map(Ne=>`${Ne.table}.${Ne.column}`).join(", ")}`,Z=((kt=a==null?void 0:a.note)==null?void 0:kt.text)||""):be?(I="固定",Z=((ht=a==null?void 0:a.note)==null?void 0:ht.text)||"固定文言"):ee==="v-model"?(I="フォーム",Z=((Pe=a==null?void 0:a.note)==null?void 0:Pe.text)||""):ee==="api"?(I="データ",Z=((Te=a==null?void 0:a.note)==null?void 0:Te.text)||""):(Ae=a==null?void 0:a.note)!=null&&Ae.type?(I={info:"情報",warning:"注意",todo:"TODO",question:"質問"}[a.note.type]||"メモ",Z=((at=a==null?void 0:a.note)==null?void 0:at.text)||""):(I="メモ",Z=((M=a==null?void 0:a.note)==null?void 0:M.text)||"");const et=Z||((fe=a==null?void 0:a.note)==null?void 0:fe.text)||"",it=((W=a==null?void 0:a.note)==null?void 0:W.type)||"info",Re=!!((ge=a==null?void 0:a.note)!=null&&ge.text||(We=a==null?void 0:a.note)!=null&&We.displayType);m.push({selector:Ze,top:`${ne.top+b}px`,left:`${ne.left+B}px`,width:`${ne.width}px`,height:`${ne.height}px`,color:j(Ze),isStatic:be,label:I,noteText:et,noteType:it,hasNote:Re})}}catch{}return m}),pe=e.computed(()=>{var _;const b=Y.value,B=O.value;X.value;const m=[];if(!p.isEnabled||p.scanResults.length===0)return m;const w=ce();for(const R of p.scanResults)try{const S=document.querySelector(R.selector);if(S){if(w&&!te(S,w))continue;const z=S.getBoundingClientRect();m.push({selector:R.selector,top:`${z.top+b}px`,left:`${z.left+B}px`,width:`${z.width}px`,height:`${z.height}px`,isStatic:((_=R.detected.sourceBinding)==null?void 0:_.isStatic)||!1})}}catch{}return m}),Ee=e.computed(()=>{var R,S;const b=Y.value,B=O.value;X.value;const m=[],w=p.analysisFilter;if(w==="none"||!p.isEnabled||p.analysisResults.length===0)return m;const _=ce();for(const z of p.analysisResults){if(!z.matched)continue;const C=z.element;try{const E=document.querySelector(z.selector);if(!E||_&&!te(E,_))continue;const y=E.getBoundingClientRect();if(y.width>window.innerWidth*.8||y.height>window.innerHeight*.5)continue;const ue=E.querySelector("[data-di-binding]")||(E.hasAttribute("data-di-binding")?E:null);let L="",Ie=C.binding||"";const le=[...C.tags||[]];if(ue){const ve=ue.getAttribute("data-di-db"),we=ue.getAttribute("data-di-binding");ve&&(L=ve,le.includes("db")||le.push("db")),we&&(Ie=we)}!L&&C.db&&(L=`${C.db.table}.${C.db.column}`,le.includes("db")||le.push("db"));let Ue="";C.api&&(Ue=`${C.api.method} ${C.api.endpoint}`,le.includes("api")||le.push("api"));let je="";if(Ie){const ve=p.getApiSourceForBinding(Ie);ve&&ve.endpoint?je=`${ve.method||"GET"} ${ve.endpoint}`:ve&&ve.composable&&(je=ve.composable)}const Se=(R=C.conditional)==null?void 0:R.expression,xe=(S=C.modal)==null?void 0:S.target,P=!!L||le.includes("db"),he=!!Ue||le.includes("api"),Ke=le.includes("form"),Fe=le.includes("button"),Ge=le.includes("link"),Ye=le.includes("modal"),Xe=le.includes("conditional"),ie=le.includes("computed");if(w==="db-api"){if(!P&&!he)continue}else if(w==="form"){if(!Ke)continue}else if(w==="button"){if(!Fe)continue}else if(w==="link"){if(!Ge)continue}else if(w==="modal"){if(!Ye)continue}else if(w==="conditional"){if(!Xe)continue}else if(w==="computed"){if(!ie)continue}else if(w==="other"&&(P||he||Ke||Fe||Ge||Ye||Xe||ie))continue;let ye="other";P?ye="db":he?ye="api":Ke?ye="form":Fe?ye="button":Ge?ye="link":Ye?ye="modal":Xe?ye="conditional":ie&&(ye="computed"),m.push({selector:z.selector,top:`${y.top+b}px`,left:`${y.left+B}px`,width:`${y.width}px`,height:`${y.height}px`,tags:le,primaryTag:ye,text:C.text||Ie||"",dbInfo:L,apiInfo:Ue,apiSource:je,conditionalExpr:Se,modalTarget:xe})}catch{}}return m}),ke=e.computed(()=>{const b=Y.value,B=O.value;X.value;const m=[];if(!p.isEnabled||!p.showUnannotatedDetection||p.unannotatedElements.length===0)return m;const w=ce();for(const _ of p.unannotatedElements)try{const R=document.querySelector(_.selector);if(!R||w&&!te(R,w))continue;const S=R.getBoundingClientRect();m.push({selector:_.selector,top:`${S.top+b}px`,left:`${S.left+B}px`,width:`${S.width}px`,height:`${S.height}px`,category:_.category,text:_.text})}catch{}return m});function Oe(b){if(!p.isPickMode)return;if(b.target.closest("[data-dev-inspector]")){g.value=null,D.value=null,p.setHoveredSelector(null);return}const m=document.elementFromPoint(b.clientX,b.clientY);if(!m||m===document.body||m===document.documentElement){g.value=null,D.value=null,p.setHoveredSelector(null);return}if(m.closest("[data-dev-inspector]"))return;D.value=m;const w=m.getBoundingClientRect();g.value={top:`${w.top+window.scrollY}px`,left:`${w.left+window.scrollX}px`,width:`${w.width}px`,height:`${w.height}px`};const _=p.generateSelector(m);p.setHoveredSelector(_)}function oe(b){if(!(!p.isPickMode||b.target.closest("[data-dev-inspector]"))&&(b.preventDefault(),b.stopPropagation(),D.value)){const m=p.generateSelector(D.value);if(p.remapTargetId){p.remapAnnotation(p.remapTargetId,m),p.remapTargetId=null,p.togglePickMode(),p.openPanel();return}p.startEditing(m),p.togglePickMode()}}function _e(b){b.key==="Escape"&&p.isPickMode&&(p.remapTargetId=null,p.togglePickMode())}function H(){Y.value=window.scrollY,O.value=window.scrollX,X.value++}let Ce=null;return e.onMounted(()=>{window.addEventListener("mousemove",Oe,!0),window.addEventListener("click",oe,!0),window.addEventListener("keydown",_e),window.addEventListener("scroll",H),window.addEventListener("resize",H);let b=null;Ce=new MutationObserver(()=>{b&&clearTimeout(b),b=setTimeout(()=>{X.value++},100)}),Ce.observe(document.body,{childList:!0,subtree:!0})}),e.onUnmounted(()=>{window.removeEventListener("mousemove",Oe,!0),window.removeEventListener("click",oe,!0),window.removeEventListener("keydown",_e),window.removeEventListener("scroll",H),window.removeEventListener("resize",H),Ce==null||Ce.disconnect()}),e.watch(()=>p.isPickMode,b=>{b||(g.value=null,D.value=null)}),(b,B)=>(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(s)},[e.unref(p).isInitializing?(e.openBlock(),e.createElementBlock("div",fm,[...B[1]||(B[1]=[e.createElementVNode("div",{class:"di-loading-content"},[e.createElementVNode("div",{class:"di-loading-spinner"}),e.createElementVNode("span",{class:"di-loading-text"},"Developer Mode 起動中...")],-1)])])):e.createCommentVNode("",!0),e.unref(p).isPickMode&&g.value?(e.openBlock(),e.createElementBlock("div",{key:1,"data-dev-inspector":"",class:"di-highlight",style:e.normalizeStyle({top:g.value.top,left:g.value.left,width:g.value.width,height:g.value.height})},[e.createElementVNode("div",Vm,e.toDisplayString(e.unref(p).hoveredSelector),1)],4)):e.createCommentVNode("",!0),e.unref(p).isPickMode?(e.openBlock(),e.createElementBlock("div",{key:2,"data-dev-inspector":"",class:"di-pick-banner",style:e.normalizeStyle(e.unref(p).remapTargetId?{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"}:{})},[e.createElementVNode("span",null,e.toDisplayString(e.unref(p).remapTargetId?"新しい要素をクリックして再設定":"要素をクリックしてメモを追加"),1),B[2]||(B[2]=e.createElementVNode("kbd",null,"ESC",-1)),B[3]||(B[3]=e.createElementVNode("span",{class:"di-pick-hint"},"でキャンセル",-1))],4)):e.createCommentVNode("",!0),e.unref(p).isEnabled&&!e.unref(p).isPickMode&&!e.unref(p).editingElementId?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:3},e.renderList(h.value,m=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:m.selector,"data-dev-inspector":"",class:e.normalizeClass([m.hasNote?"di-note-highlight":"di-annotation-box",{"di-element-hovered-pulse":e.unref(p).hoveredSelector===m.selector}]),style:e.normalizeStyle({top:m.top,left:m.left,width:m.width,height:m.height,borderColor:(m.hasNote,m.color),backgroundColor:e.unref(p).hoveredSelector===m.selector?m.color+"30":m.color+(m.hasNote?"18":"15")}),onClick:w=>e.unref(p).startEditing(m.selector)},[m.hasNote?(e.openBlock(),e.createElementBlock("div",km,[e.createElementVNode("span",{class:"di-note-indicator",style:e.normalizeStyle({backgroundColor:m.color})},null,4),e.createElementVNode("div",{class:"di-annotation-label",style:e.normalizeStyle({backgroundColor:m.color})},e.toDisplayString(m.label),5)])):(e.openBlock(),e.createElementBlock("div",{key:1,class:"di-annotation-label",style:e.normalizeStyle({backgroundColor:m.color})},e.toDisplayString(m.label),5))],14,Em)),[[e.vShow,!m.hasNote||e.unref(p).showNoteHighlights&&re(m.selector)]])),128)):e.createCommentVNode("",!0),e.unref(p).isEnabled&&!e.unref(p).editingElementId&&pe.value.length>0&&e.unref(p).analysisResults.length===0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:4},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(pe.value,m=>(e.openBlock(),e.createElementBlock("div",{key:"scan-"+m.selector,"data-dev-inspector":"",class:e.normalizeClass(["di-scan-highlight",{"di-scan-static":m.isStatic}]),style:e.normalizeStyle({top:m.top,left:m.left,width:m.width,height:m.height}),onClick:w=>e.unref(p).startEditing(m.selector)},[e.createElementVNode("div",{class:e.normalizeClass(["di-scan-label",{"di-scan-label-static":m.isStatic}])},e.toDisplayString(m.isStatic?"固定文言":"動的データ"),3)],14,hm))),128)),e.createElementVNode("div",ym,[e.createElementVNode("span",null,e.toDisplayString(pe.value.length)+"件の要素を検出",1),e.createElementVNode("button",{onClick:B[0]||(B[0]=m=>e.unref(p).clearScanResults()),class:"di-scan-banner-close"},"✕ 閉じる")])],64)):e.createCommentVNode("",!0),e.unref(p).isEnabled&&!e.unref(p).editingElementId&&Ee.value.length>0?(e.openBlock(),e.createElementBlock(e.Fragment,{key:5},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Ee.value,m=>(e.openBlock(),e.createElementBlock("div",{key:"analysis-"+m.selector,"data-dev-inspector":"",class:e.normalizeClass(["di-analysis-highlight","di-analysis-"+m.primaryTag]),style:e.normalizeStyle({top:m.top,left:m.left,width:m.width,height:m.height}),onClick:w=>e.unref(p).startEditing(m.selector)},[e.createElementVNode("div",{class:e.normalizeClass(["di-analysis-label","di-analysis-label-"+m.primaryTag])},[e.createElementVNode("span",bm,e.toDisplayString(de(m.primaryTag)),1),m.tags.length>1?(e.openBlock(),e.createElementBlock("span",Nm,"+"+e.toDisplayString(m.tags.length-1),1)):e.createCommentVNode("",!0),m.dbInfo?(e.openBlock(),e.createElementBlock("span",Bm,e.toDisplayString(m.dbInfo),1)):e.createCommentVNode("",!0),m.apiSource?(e.openBlock(),e.createElementBlock("span",Cm,"← "+e.toDisplayString(m.apiSource),1)):e.createCommentVNode("",!0),m.conditionalExpr?(e.openBlock(),e.createElementBlock("span",xm,e.toDisplayString(m.conditionalExpr),1)):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"di-analysis-delete",onClick:e.withModifiers(w=>e.unref(p).removeAnalysisResult(m.selector),["stop"]),title:"この要素を非表示"},"×",8,wm)],2),m.text&&m.text.length<30?(e.openBlock(),e.createElementBlock("div",Dm,e.toDisplayString(m.text),1)):e.createCommentVNode("",!0)],14,gm))),128)),e.createElementVNode("div",$m,[e.createElementVNode("span",null,"📊 分析データ: "+e.toDisplayString(Ee.value.length)+"件の要素",1)])],64)):e.createCommentVNode("",!0),e.unref(p).isEnabled&&!e.unref(p).isPickMode&&!e.unref(p).editingElementId&&ke.value.length>0?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:6},e.renderList(ke.value,m=>(e.openBlock(),e.createElementBlock("div",{key:"unannotated-"+m.selector,"data-dev-inspector":"",class:e.normalizeClass(["di-unannotated-highlight",{"di-unannotated-hovered":e.unref(p).hoveredUnannotatedSelector===m.selector,["di-unannotated-hovered-"+m.category]:e.unref(p).hoveredUnannotatedSelector===m.selector}]),style:e.normalizeStyle({top:m.top,left:m.left,width:m.width,height:m.height}),onClick:w=>e.unref(p).quickAnnotate(m.selector,m.category==="form"?"form":m.category==="action"?"action":"datasource")},[e.createElementVNode("div",{class:e.normalizeClass(["di-unannotated-label",{["di-unannotated-label-"+m.category]:e.unref(p).hoveredUnannotatedSelector===m.selector}])},[e.createElementVNode("span",null,e.toDisplayString(m.category==="binding"?"DB":m.category==="form"?"Form":"Act"),1),m.text?(e.openBlock(),e.createElementBlock("span",Sm,e.toDisplayString(m.text),1)):e.createCommentVNode("",!0)],2)],14,_m))),128)):e.createCommentVNode("",!0)],8,["to"]))}}),so=$t(Tm,[["__scopeId","data-v-e7ca005a"]]),Mm={class:"di-editor-modal"},Im={class:"di-editor-header"},Um={class:"di-header-actions"},Fm={class:"di-path-badge"},Lm={class:"di-editor-content"},Pm={class:"di-form-group"},Am={class:"di-form-group"},zm={class:"di-form-section"},Om={class:"di-form-section-header"},jm={class:"di-api-header-actions"},qm={class:"di-dropdown-wrapper"},Hm={key:1,class:"di-suggestion-dropdown"},Rm={key:0,class:"di-suggestion-actions"},Km=["onMousedown","disabled"],Gm={class:"di-suggestion-endpoint"},Ym={key:0,class:"di-suggestion-timing"},Xm={key:1,class:"di-suggestion-empty"},Wm={key:0,class:"di-suggestion-banner"},Zm={key:1,class:"di-suggestion-banner di-suggestion-banner-empty"},Jm={key:2,class:"di-empty-hint"},Qm={class:"di-api-entry-row"},ep=["onUpdate:modelValue"],tp=["value"],op=["onUpdate:modelValue"],lp=["onClick"],np={class:"di-api-entry-row2"},ap=["onUpdate:modelValue"],ip=["onUpdate:modelValue"],sp=["value"],dp={class:"di-form-section"},rp={class:"di-auth-row"},cp={key:0,class:"di-auth-details"},up={class:"di-form-group"},mp={class:"di-form-group"},pp={class:"di-form-group"},vp={class:"di-form-group"},fp={class:"di-editor-footer"},Vp={class:"di-editor-actions"},Ep=["disabled"],kp=e.defineComponent({__name:"DevScreenEditor",setup(A){const p=Nt.useDevInspectorStore(),s=e.inject("teleportTarget","body"),g=e.ref(""),D=e.ref(""),Y=e.ref([]),O=e.ref(!1),X=e.ref(""),se=e.ref(""),F=e.ref(""),de=e.ref(""),j=e.ref(!1),re=e.ref([]),ce=e.ref(!1),te=e.computed(()=>typeof window<"u"?window.location.pathname:"/");e.watch(()=>p.editingScreen,C=>{C&&h()});function h(){var E,y,ue,L;const C=p.getScreenConfig();C?(g.value=C.name,D.value=C.description||"",Y.value=C.apis.map(Ie=>({...Ie})),O.value=((E=C.auth)==null?void 0:E.required)||!1,X.value=((ue=(y=C.auth)==null?void 0:y.roles)==null?void 0:ue.join(", "))||"",se.value=((L=C.auth)==null?void 0:L.description)||"",F.value=C.figmaUrl||"",de.value=C.notes||""):pe()}function pe(){g.value="",D.value="",Y.value=[],O.value=!1,X.value="",se.value="",F.value="",de.value=""}function Ee(){p.editingScreen=!1,pe()}function ke(){Y.value.push({method:"GET",endpoint:"",description:"",loadTiming:"onMount"})}function Oe(C){Y.value.splice(C,1)}function oe(){if(!g.value.trim())return;const C={path:te.value,name:g.value.trim(),description:D.value.trim()||void 0,apis:Y.value.filter(E=>E.endpoint.trim()),auth:O.value||X.value.trim()?{required:O.value,roles:X.value.trim()?X.value.split(",").map(E=>E.trim()).filter(Boolean):void 0,description:se.value.trim()||void 0}:void 0,figmaUrl:F.value.trim()||void 0,notes:de.value.trim()||void 0,updatedAt:new Date().toISOString()};p.setScreenConfig(C),Ee()}function _e(){p.deleteScreenConfig(te.value),Ee()}const H={GET:"#10b981",POST:"#3b82f6",PUT:"#f59e0b",DELETE:"#ef4444",PATCH:"#8b5cf6"},Ce={onMount:"読込時",action:"アクション",conditional:"条件付き"};function b(){re.value=p.suggestScreenApis(),j.value=!0}function B(C){return Y.value.some(E=>E.method===C.method&&E.endpoint===C.endpoint)}const m=e.computed(()=>re.value.filter(C=>!B(C)));function w(C){B(C)||Y.value.push({...C})}function _(){for(const C of m.value)Y.value.push({...C})}function R(){setTimeout(()=>{ce.value=!1},150)}const S=["GET","POST","PUT","DELETE","PATCH"],z=[{value:"onMount",label:"画面読込時"},{value:"action",label:"アクション時"},{value:"conditional",label:"条件付き"}];return(C,E)=>(e.openBlock(),e.createBlock(e.Teleport,{to:e.unref(s)},[e.unref(p).editingScreen?(e.openBlock(),e.createElementBlock("div",{key:0,class:"di-editor-overlay",onClick:e.withModifiers(Ee,["self"]),"data-dev-inspector":""},[e.createElementVNode("div",Mm,[e.createElementVNode("div",Im,[E[9]||(E[9]=e.createElementVNode("h3",null,"画面情報を編集",-1)),e.createElementVNode("div",Um,[e.createElementVNode("span",Fm,e.toDisplayString(te.value),1),e.createElementVNode("button",{onClick:Ee,class:"di-editor-close"},[e.createVNode(e.unref(lt),{style:{width:"20px",height:"20px"}})])])]),e.createElementVNode("div",Lm,[e.createElementVNode("div",Pm,[E[10]||(E[10]=e.createElementVNode("label",{class:"di-form-label"},"画面名 *",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E[0]||(E[0]=y=>g.value=y),type:"text",placeholder:"ユーザー詳細",class:"di-input"},null,512),[[e.vModelText,g.value]])]),e.createElementVNode("div",Am,[E[11]||(E[11]=e.createElementVNode("label",{class:"di-form-label"},"画面の説明",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":E[1]||(E[1]=y=>D.value=y),rows:"2",placeholder:"この画面の概要...",class:"di-textarea"},null,512),[[e.vModelText,D.value]])]),e.createElementVNode("div",zm,[e.createElementVNode("div",Om,[E[15]||(E[15]=e.createElementVNode("label",{class:"di-form-label"},"API一覧",-1)),e.createElementVNode("div",jm,[e.createElementVNode("button",{onClick:b,class:"di-btn-suggest",title:"要素情報からAPI推定"},[e.createVNode(e.unref(Dt),{style:{width:"13px",height:"13px"}}),E[12]||(E[12]=e.createTextVNode(" 自動推定 ",-1))]),e.createElementVNode("div",qm,[re.value.length>0?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:E[2]||(E[2]=y=>ce.value=!ce.value),onBlur:E[3]||(E[3]=y=>R()),class:"di-btn-dropdown",title:"推定結果から選択"},[e.createVNode(e.unref(Mt),{style:{width:"13px",height:"13px"}}),E[13]||(E[13]=e.createTextVNode(" 候補から選択 ",-1))],32)):e.createCommentVNode("",!0),ce.value&&re.value.length>0?(e.openBlock(),e.createElementBlock("div",Hm,[m.value.length>0?(e.openBlock(),e.createElementBlock("div",Rm,[e.createElementVNode("button",{onMousedown:e.withModifiers(_,["prevent"]),class:"di-suggestion-add-all"}," すべて追加 ("+e.toDisplayString(m.value.length)+") ",33)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(re.value,(y,ue)=>(e.openBlock(),e.createElementBlock("button",{key:ue,onMousedown:e.withModifiers(L=>w(y),["prevent"]),class:e.normalizeClass(["di-suggestion-item",{"di-suggestion-added":B(y)}]),disabled:B(y)},[e.createElementVNode("span",{class:"di-suggestion-method",style:e.normalizeStyle({backgroundColor:H[y.method]+"20",color:H[y.method]})},e.toDisplayString(y.method),5),e.createElementVNode("code",Gm,e.toDisplayString(y.endpoint),1),y.loadTiming?(e.openBlock(),e.createElementBlock("span",Ym,e.toDisplayString(Ce[y.loadTiming]||y.loadTiming),1)):e.createCommentVNode("",!0),B(y)?(e.openBlock(),e.createBlock(e.unref(Go),{key:1,style:{width:"12px",height:"12px",color:"#10b981","flex-shrink":"0"}})):e.createCommentVNode("",!0)],42,Km))),128)),re.value.length===0?(e.openBlock(),e.createElementBlock("div",Xm," 推定結果がありません ")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)]),e.createElementVNode("button",{onClick:ke,class:"di-btn-add"},[e.createVNode(e.unref(yt),{style:{width:"14px",height:"14px"}}),E[14]||(E[14]=e.createTextVNode(" 手動追加 ",-1))])])]),j.value&&re.value.length>0&&m.value.length>0?(e.openBlock(),e.createElementBlock("div",Wm,[e.createVNode(e.unref(Dt),{style:{width:"13px",height:"13px",color:"#f59e0b","flex-shrink":"0"}}),e.createElementVNode("span",null,e.toDisplayString(re.value.length)+"件のAPIを推定しました",1),e.createElementVNode("button",{onMousedown:e.withModifiers(_,["prevent"]),class:"di-suggestion-banner-btn"},"すべて追加",32)])):j.value&&re.value.length===0?(e.openBlock(),e.createElementBlock("div",Zm,[...E[16]||(E[16]=[e.createElementVNode("span",null,"要素のDB情報からAPIを推定できませんでした。要素にDB情報を登録してください。",-1)])])):e.createCommentVNode("",!0),Y.value.length===0&&!j.value?(e.openBlock(),e.createElementBlock("div",Jm," APIが未登録です。「自動推定」で要素情報からAPIを推定できます。 ")):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Y.value,(y,ue)=>(e.openBlock(),e.createElementBlock("div",{key:ue,class:"di-api-entry"},[e.createElementVNode("div",Qm,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":L=>y.method=L,class:"di-select di-select-method"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(S,L=>e.createElementVNode("option",{key:L,value:L},e.toDisplayString(L),9,tp)),64))],8,ep),[[e.vModelSelect,y.method]]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":L=>y.endpoint=L,type:"text",placeholder:"/api/users/:id",class:"di-input di-input-endpoint"},null,8,op),[[e.vModelText,y.endpoint]]),e.createElementVNode("button",{onClick:L=>Oe(ue),class:"di-btn-remove"},[e.createVNode(e.unref(nl),{style:{width:"14px",height:"14px"}})],8,lp)]),e.createElementVNode("div",np,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":L=>y.description=L,type:"text",placeholder:"説明（任意）",class:"di-input di-input-desc"},null,8,ap),[[e.vModelText,y.description]]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":L=>y.loadTiming=L,class:"di-select di-select-timing"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(z,L=>e.createElementVNode("option",{key:L.value,value:L.value},e.toDisplayString(L.label),9,sp)),64))],8,ip),[[e.vModelSelect,y.loadTiming]])])]))),128))]),e.createElementVNode("div",dp,[E[20]||(E[20]=e.createElementVNode("label",{class:"di-form-label"},"認証設定",-1)),e.createElementVNode("div",rp,[e.createElementVNode("button",{onClick:E[4]||(E[4]=y=>O.value=!O.value),class:e.normalizeClass(["di-toggle-btn",{active:O.value}])},[e.createElementVNode("span",{class:e.normalizeClass(["di-toggle-knob",{active:O.value}])},null,2)],2),E[17]||(E[17]=e.createElementVNode("span",{class:"di-auth-label"},"ログイン必須",-1))]),O.value?(e.openBlock(),e.createElementBlock("div",cp,[e.createElementVNode("div",up,[E[18]||(E[18]=e.createElementVNode("label",{class:"di-form-label"},"必要ロール（カンマ区切り）",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E[5]||(E[5]=y=>X.value=y),type:"text",placeholder:"admin, manager",class:"di-input"},null,512),[[e.vModelText,X.value]])]),e.createElementVNode("div",mp,[E[19]||(E[19]=e.createElementVNode("label",{class:"di-form-label"},"認証メモ",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E[6]||(E[6]=y=>se.value=y),type:"text",placeholder:"自分のデータのみ閲覧可",class:"di-input"},null,512),[[e.vModelText,se.value]])])])):e.createCommentVNode("",!0)]),e.createElementVNode("div",pp,[E[21]||(E[21]=e.createElementVNode("label",{class:"di-form-label"},"Figma URL",-1)),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":E[7]||(E[7]=y=>F.value=y),type:"text",placeholder:"https://www.figma.com/design/...",class:"di-input"},null,512),[[e.vModelText,F.value]])]),e.createElementVNode("div",vp,[E[22]||(E[22]=e.createElementVNode("label",{class:"di-form-label"},"メモ",-1)),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":E[8]||(E[8]=y=>de.value=y),rows:"3",placeholder:"この画面に関するメモ...",class:"di-textarea"},null,512),[[e.vModelText,de.value]])])]),e.createElementVNode("div",fp,[e.createElementVNode("button",{onClick:_e,class:"di-btn-delete"},[e.createVNode(e.unref(bt),{style:{width:"14px",height:"14px"}}),E[23]||(E[23]=e.createTextVNode(" 削除 ",-1))]),e.createElementVNode("div",Vp,[e.createElementVNode("button",{onClick:Ee,class:"di-btn-cancel"},"キャンセル"),e.createElementVNode("button",{onClick:oe,class:"di-btn-save",disabled:!g.value.trim()},[e.createVNode(e.unref(no),{style:{width:"14px",height:"14px"}}),E[24]||(E[24]=e.createTextVNode(" 保存 ",-1))],8,Ep)])])])])):e.createCommentVNode("",!0)],8,["to"]))}}),ro=$t(kp,[["__scopeId","data-v-f0e1b0be"]]),hp={key:0,"data-dev-inspector":""},yp=e.defineComponent({__name:"DevInspector",props:{storageKey:{default:"devInspector:elementConfigs"},enabledInProduction:{type:Boolean,default:!1},initialAnnotations:{},analysisData:{},analysisDataUrl:{},autoLoadAnalysis:{type:Boolean},autoApplyAnalysis:{type:Boolean}},setup(A){const p=A,s=Nt.useDevInspectorStore();return e.onMounted(()=>{s.init({storageKey:p.storageKey,enabledInProduction:p.enabledInProduction,initialAnnotations:p.initialAnnotations})}),(g,D)=>e.unref(s).isAvailable?(e.openBlock(),e.createElementBlock("div",hp,[e.createVNode(ao),e.createVNode(io),e.createVNode(ro),e.createVNode(so)])):e.createCommentVNode("",!0)}});exports.DevElementEditor=io;exports.DevPanel=ao;exports.DevPickOverlay=so;exports.DevScreenEditor=ro;exports._sfc_main=yp;
